"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/import/route";
exports.ids = ["app/api/import/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("module");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimport%2Froute&page=%2Fapi%2Fimport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimport%2Froute.ts&appDir=%2FUsers%2Fsymbosrisai%2FDocuments%2Fanaconda-assesment-1%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsymbosrisai%2FDocuments%2Fanaconda-assesment-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimport%2Froute&page=%2Fapi%2Fimport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimport%2Froute.ts&appDir=%2FUsers%2Fsymbosrisai%2FDocuments%2Fanaconda-assesment-1%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsymbosrisai%2FDocuments%2Fanaconda-assesment-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_symbosrisai_Documents_anaconda_assesment_1_src_app_api_import_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/import/route.ts */ \"(rsc)/./src/app/api/import/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/import/route\",\n        pathname: \"/api/import\",\n        filename: \"route\",\n        bundlePath: \"app/api/import/route\"\n    },\n    resolvedPagePath: \"/Users/symbosrisai/Documents/anaconda-assesment-1/src/app/api/import/route.ts\",\n    nextConfigOutput,\n    userland: _Users_symbosrisai_Documents_anaconda_assesment_1_src_app_api_import_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/import/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZpbXBvcnQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmltcG9ydCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmltcG9ydCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN5bWJvc3Jpc2FpJTJGRG9jdW1lbnRzJTJGYW5hY29uZGEtYXNzZXNtZW50LTElMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGc3ltYm9zcmlzYWklMkZEb2N1bWVudHMlMkZhbmFjb25kYS1hc3Nlc21lbnQtMSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNkI7QUFDMUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmFjb25kYS1hc3Nlc21lbnQtMS8/NTBjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc3ltYm9zcmlzYWkvRG9jdW1lbnRzL2FuYWNvbmRhLWFzc2VzbWVudC0xL3NyYy9hcHAvYXBpL2ltcG9ydC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvaW1wb3J0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaW1wb3J0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9pbXBvcnQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvc3ltYm9zcmlzYWkvRG9jdW1lbnRzL2FuYWNvbmRhLWFzc2VzbWVudC0xL3NyYy9hcHAvYXBpL2ltcG9ydC9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvaW1wb3J0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimport%2Froute&page=%2Fapi%2Fimport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimport%2Froute.ts&appDir=%2FUsers%2Fsymbosrisai%2FDocuments%2Fanaconda-assesment-1%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsymbosrisai%2FDocuments%2Fanaconda-assesment-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/import/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/import/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_ipynb_converter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/ipynb-converter */ \"(rsc)/./src/lib/ipynb-converter.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/storage */ \"(rsc)/./src/lib/storage/index.ts\");\n/**\n * @file Next.js API Route for converting an .ipynb file to a Runt event log.\n * This endpoint handles multipart/form-data requests containing the notebook file.\n */ \n // Using alias for cleaner imports\n\nconst runtime = \"nodejs\";\n/**\n * Handles POST requests to /api/import.\n * Expects a multipart/form-data request with a single file field named 'notebook'.\n *\n * @param {Request} request The incoming HTTP request.\n * @returns A NextResponse object with the JSON event log or an error message.\n */ async function POST(request) {\n    try {\n        // 1. Get the form data from the request\n        const formData = await request.formData();\n        const file = formData.get(\"notebook\");\n        // --- Robust Error Handling for File Upload ---\n        if (!file) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No file uploaded. Please include a file in the 'notebook' field.\"\n            }, {\n                status: 400\n            } // Bad Request\n            );\n        }\n        if (file.type !== \"application/json\" && !file.name.endsWith(\".ipynb\")) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid file type. Please upload a valid .ipynb file.\"\n            }, {\n                status: 400\n            } // Bad Request\n            );\n        }\n        // 2. Read and parse the file content\n        const fileContent = await file.text();\n        let notebookJson;\n        try {\n            notebookJson = JSON.parse(fileContent);\n            // Basic validation to ensure it looks like a notebook file\n            if (!notebookJson.cells || !notebookJson.nbformat) {\n                throw new Error(\"Parsed JSON does not appear to be a valid notebook file.\");\n            }\n        } catch (parseError) {\n            console.error(\"JSON Parsing Error:\", parseError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to parse the uploaded file. Please ensure it is a valid JSON .ipynb file.\"\n            }, {\n                status: 400\n            } // Bad Request\n            );\n        }\n        // 3. Instantiate the converter and generate events\n        const converter = new _lib_ipynb_converter__WEBPACK_IMPORTED_MODULE_1__.IpynbConverter(notebookJson);\n        const events = converter.generateEvents();\n        // 4. Store via adapter\n        const adapter = (0,_lib_storage__WEBPACK_IMPORTED_MODULE_2__.getStorageAdapter)();\n        const result = await adapter.saveEvents(events, {\n            filenameBase: file.name?.replace(/\\.[^.]+$/, \"\") || \"notebook-events\"\n        });\n        // 5. Return the successful response with storage location\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            events,\n            stored: result\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        // --- Catch-all for any other unexpected errors ---\n        console.error(\"An unexpected error occurred:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"An internal server error occurred during file processing.\"\n        }, {\n            status: 500\n        } // Internal Server Error\n        );\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9pbXBvcnQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7O0NBR0MsR0FFMEM7QUFDWSxDQUFDLGtDQUFrQztBQUV4QztBQUUzQyxNQUFNRyxVQUFVLFNBQVM7QUFFaEM7Ozs7OztDQU1DLEdBQ00sZUFBZUMsS0FBS0MsT0FBZ0I7SUFDekMsSUFBSTtRQUNGLHdDQUF3QztRQUN4QyxNQUFNQyxXQUFXLE1BQU1ELFFBQVFDLFFBQVE7UUFDdkMsTUFBTUMsT0FBT0QsU0FBU0UsR0FBRyxDQUFDO1FBRTFCLGdEQUFnRDtRQUNoRCxJQUFJLENBQUNELE1BQU07WUFDVCxPQUFPUCxxREFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFtRSxHQUM1RTtnQkFBRUMsUUFBUTtZQUFJLEVBQUUsY0FBYzs7UUFFbEM7UUFFQSxJQUFJSixLQUFLSyxJQUFJLEtBQUssc0JBQXNCLENBQUNMLEtBQUtNLElBQUksQ0FBQ0MsUUFBUSxDQUFDLFdBQVc7WUFDbkUsT0FBT2QscURBQVlBLENBQUNTLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBd0QsR0FDakU7Z0JBQUVDLFFBQVE7WUFBSSxFQUFFLGNBQWM7O1FBRXBDO1FBRUEscUNBQXFDO1FBQ3JDLE1BQU1JLGNBQWMsTUFBTVIsS0FBS1MsSUFBSTtRQUNuQyxJQUFJQztRQUVKLElBQUk7WUFDRkEsZUFBZUMsS0FBS0MsS0FBSyxDQUFDSjtZQUMxQiwyREFBMkQ7WUFDM0QsSUFBSSxDQUFDRSxhQUFhRyxLQUFLLElBQUksQ0FBQ0gsYUFBYUksUUFBUSxFQUFFO2dCQUNqRCxNQUFNLElBQUlDLE1BQU07WUFDbEI7UUFDRixFQUFFLE9BQU9DLFlBQVk7WUFDbkJDLFFBQVFkLEtBQUssQ0FBQyx1QkFBdUJhO1lBQ3JDLE9BQU92QixxREFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFtRixHQUM1RjtnQkFBRUMsUUFBUTtZQUFJLEVBQUUsY0FBYzs7UUFFbEM7UUFFQSxtREFBbUQ7UUFDbkQsTUFBTWMsWUFBWSxJQUFJeEIsZ0VBQWNBLENBQUNnQjtRQUNyQyxNQUFNUyxTQUFTRCxVQUFVRSxjQUFjO1FBRXZDLHVCQUF1QjtRQUN2QixNQUFNQyxVQUFVMUIsK0RBQWlCQTtRQUNqQyxNQUFNMkIsU0FBUyxNQUFNRCxRQUFRRSxVQUFVLENBQUNKLFFBQVE7WUFDOUNLLGNBQWN4QixLQUFLTSxJQUFJLEVBQUVtQixRQUFRLFlBQVksT0FBTztRQUN0RDtRQUVBLDBEQUEwRDtRQUMxRCxPQUFPaEMscURBQVlBLENBQUNTLElBQUksQ0FBQztZQUFFaUI7WUFBUU8sUUFBUUo7UUFBTyxHQUFHO1lBQUVsQixRQUFRO1FBQUk7SUFFckUsRUFBRSxPQUFPRCxPQUFPO1FBQ2Qsb0RBQW9EO1FBQ3BEYyxRQUFRZCxLQUFLLENBQUMsaUNBQWlDQTtRQUMvQyxPQUFPVixxREFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQTRELEdBQ3JFO1lBQUVDLFFBQVE7UUFBSSxFQUFFLHdCQUF3Qjs7SUFFNUM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FuYWNvbmRhLWFzc2VzbWVudC0xLy4vc3JjL2FwcC9hcGkvaW1wb3J0L3JvdXRlLnRzPzNhOTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBOZXh0LmpzIEFQSSBSb3V0ZSBmb3IgY29udmVydGluZyBhbiAuaXB5bmIgZmlsZSB0byBhIFJ1bnQgZXZlbnQgbG9nLlxuICogVGhpcyBlbmRwb2ludCBoYW5kbGVzIG11bHRpcGFydC9mb3JtLWRhdGEgcmVxdWVzdHMgY29udGFpbmluZyB0aGUgbm90ZWJvb2sgZmlsZS5cbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBJcHluYkNvbnZlcnRlciB9IGZyb20gJ0AvbGliL2lweW5iLWNvbnZlcnRlcic7IC8vIFVzaW5nIGFsaWFzIGZvciBjbGVhbmVyIGltcG9ydHNcbmltcG9ydCB7IElOb3RlYm9vayB9IGZyb20gJ0AvdHlwZXMvbm90ZWJvb2stdHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3RvcmFnZUFkYXB0ZXIgfSBmcm9tICdAL2xpYi9zdG9yYWdlJztcblxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSAnbm9kZWpzJztcblxuLyoqXG4gKiBIYW5kbGVzIFBPU1QgcmVxdWVzdHMgdG8gL2FwaS9pbXBvcnQuXG4gKiBFeHBlY3RzIGEgbXVsdGlwYXJ0L2Zvcm0tZGF0YSByZXF1ZXN0IHdpdGggYSBzaW5nbGUgZmlsZSBmaWVsZCBuYW1lZCAnbm90ZWJvb2snLlxuICpcbiAqIEBwYXJhbSB7UmVxdWVzdH0gcmVxdWVzdCBUaGUgaW5jb21pbmcgSFRUUCByZXF1ZXN0LlxuICogQHJldHVybnMgQSBOZXh0UmVzcG9uc2Ugb2JqZWN0IHdpdGggdGhlIEpTT04gZXZlbnQgbG9nIG9yIGFuIGVycm9yIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyAxLiBHZXQgdGhlIGZvcm0gZGF0YSBmcm9tIHRoZSByZXF1ZXN0XG4gICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XG4gICAgY29uc3QgZmlsZSA9IGZvcm1EYXRhLmdldCgnbm90ZWJvb2snKSBhcyBGaWxlIHwgbnVsbDtcblxuICAgIC8vIC0tLSBSb2J1c3QgRXJyb3IgSGFuZGxpbmcgZm9yIEZpbGUgVXBsb2FkIC0tLVxuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiBcIk5vIGZpbGUgdXBsb2FkZWQuIFBsZWFzZSBpbmNsdWRlIGEgZmlsZSBpbiB0aGUgJ25vdGVib29rJyBmaWVsZC5cIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH0gLy8gQmFkIFJlcXVlc3RcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZpbGUudHlwZSAhPT0gJ2FwcGxpY2F0aW9uL2pzb24nICYmICFmaWxlLm5hbWUuZW5kc1dpdGgoJy5pcHluYicpKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IGVycm9yOiBcIkludmFsaWQgZmlsZSB0eXBlLiBQbGVhc2UgdXBsb2FkIGEgdmFsaWQgLmlweW5iIGZpbGUuXCIgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH0gLy8gQmFkIFJlcXVlc3RcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyAyLiBSZWFkIGFuZCBwYXJzZSB0aGUgZmlsZSBjb250ZW50XG4gICAgY29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCBmaWxlLnRleHQoKTtcbiAgICBsZXQgbm90ZWJvb2tKc29uOiBJTm90ZWJvb2s7XG5cbiAgICB0cnkge1xuICAgICAgbm90ZWJvb2tKc29uID0gSlNPTi5wYXJzZShmaWxlQ29udGVudCk7XG4gICAgICAvLyBCYXNpYyB2YWxpZGF0aW9uIHRvIGVuc3VyZSBpdCBsb29rcyBsaWtlIGEgbm90ZWJvb2sgZmlsZVxuICAgICAgaWYgKCFub3RlYm9va0pzb24uY2VsbHMgfHwgIW5vdGVib29rSnNvbi5uYmZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXJzZWQgSlNPTiBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSB2YWxpZCBub3RlYm9vayBmaWxlLlwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiSlNPTiBQYXJzaW5nIEVycm9yOlwiLCBwYXJzZUVycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBwYXJzZSB0aGUgdXBsb2FkZWQgZmlsZS4gUGxlYXNlIGVuc3VyZSBpdCBpcyBhIHZhbGlkIEpTT04gLmlweW5iIGZpbGUuJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH0gLy8gQmFkIFJlcXVlc3RcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMy4gSW5zdGFudGlhdGUgdGhlIGNvbnZlcnRlciBhbmQgZ2VuZXJhdGUgZXZlbnRzXG4gICAgY29uc3QgY29udmVydGVyID0gbmV3IElweW5iQ29udmVydGVyKG5vdGVib29rSnNvbik7XG4gICAgY29uc3QgZXZlbnRzID0gY29udmVydGVyLmdlbmVyYXRlRXZlbnRzKCk7XG5cbiAgICAvLyA0LiBTdG9yZSB2aWEgYWRhcHRlclxuICAgIGNvbnN0IGFkYXB0ZXIgPSBnZXRTdG9yYWdlQWRhcHRlcigpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFkYXB0ZXIuc2F2ZUV2ZW50cyhldmVudHMsIHtcbiAgICAgIGZpbGVuYW1lQmFzZTogZmlsZS5uYW1lPy5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykgfHwgJ25vdGVib29rLWV2ZW50cycsXG4gICAgfSk7XG5cbiAgICAvLyA1LiBSZXR1cm4gdGhlIHN1Y2Nlc3NmdWwgcmVzcG9uc2Ugd2l0aCBzdG9yYWdlIGxvY2F0aW9uXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXZlbnRzLCBzdG9yZWQ6IHJlc3VsdCB9LCB7IHN0YXR1czogMjAwIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gLS0tIENhdGNoLWFsbCBmb3IgYW55IG90aGVyIHVuZXhwZWN0ZWQgZXJyb3JzIC0tLVxuICAgIGNvbnNvbGUuZXJyb3IoJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdBbiBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGZpbGUgcHJvY2Vzc2luZy4nIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH0gLy8gSW50ZXJuYWwgU2VydmVyIEVycm9yXG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIklweW5iQ29udmVydGVyIiwiZ2V0U3RvcmFnZUFkYXB0ZXIiLCJydW50aW1lIiwiUE9TVCIsInJlcXVlc3QiLCJmb3JtRGF0YSIsImZpbGUiLCJnZXQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ0eXBlIiwibmFtZSIsImVuZHNXaXRoIiwiZmlsZUNvbnRlbnQiLCJ0ZXh0Iiwibm90ZWJvb2tKc29uIiwiSlNPTiIsInBhcnNlIiwiY2VsbHMiLCJuYmZvcm1hdCIsIkVycm9yIiwicGFyc2VFcnJvciIsImNvbnNvbGUiLCJjb252ZXJ0ZXIiLCJldmVudHMiLCJnZW5lcmF0ZUV2ZW50cyIsImFkYXB0ZXIiLCJyZXN1bHQiLCJzYXZlRXZlbnRzIiwiZmlsZW5hbWVCYXNlIiwicmVwbGFjZSIsInN0b3JlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/import/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/event-generators.ts":
/*!*************************************!*\
  !*** ./src/lib/event-generators.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createActorProfileSetEvent: () => (/* binding */ createActorProfileSetEvent),\n/* harmony export */   createCellCreatedEvent: () => (/* binding */ createCellCreatedEvent),\n/* harmony export */   createCellOutputEvents: () => (/* binding */ createCellOutputEvents),\n/* harmony export */   createCellSourceChangedEvent: () => (/* binding */ createCellSourceChangedEvent),\n/* harmony export */   createNotebookMetadataEvents: () => (/* binding */ createNotebookMetadataEvents)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/./src/node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _schema_mod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../schema/mod */ \"(rsc)/./src/schema/mod.ts\");\n/**\n * @file This module is responsible for generating specific event payloads\n * based on the Runt event schema. It acts as a bridge between the raw\n * .ipynb format and the structured event log, encapsulating all direct\n * interactions with the schema definitions.\n */ \n\nfunction createActorProfileSetEvent(actorId, displayName) {\n    return _schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.actorProfileSet({\n        id: actorId,\n        type: \"human\",\n        displayName: displayName\n    });\n}\nfunction createNotebookMetadataEvents(metadata) {\n    const metadataEvents = [];\n    const title = `Imported Notebook - ${new Date().toLocaleDateString()}`;\n    metadataEvents.push(_schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.notebookTitleChanged({\n        title\n    }));\n    if (metadata.kernelspec?.display_name) {\n        metadataEvents.push(_schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.notebookMetadataSet({\n            key: \"kernelspec_display_name\",\n            value: metadata.kernelspec.display_name\n        }));\n    }\n    if (metadata.kernelspec?.language) {\n        metadataEvents.push(_schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.notebookMetadataSet({\n            key: \"language\",\n            value: metadata.kernelspec.language\n        }));\n    }\n    return metadataEvents;\n}\nfunction createCellCreatedEvent(cell, createdBy, cellBefore, allCells) {\n    const cellType = cell.cell_type === \"code\" ? \"code\" : \"markdown\";\n    const cellData = {\n        id: `cell-${(0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()}`,\n        cellType: cellType,\n        createdBy: createdBy\n    };\n    return (0,_schema_mod__WEBPACK_IMPORTED_MODULE_0__.createCellBetween)(cellData, cellBefore, null, allCells);\n}\nfunction createCellSourceChangedEvent(cellId, source, modifiedBy) {\n    const fullSource = Array.isArray(source) ? source.join(\"\") : source;\n    return _schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.cellSourceChanged({\n        id: cellId,\n        source: fullSource,\n        modifiedBy: modifiedBy\n    });\n}\nfunction createCellOutputEvents(cellId, outputs, clearedBy) {\n    if (!outputs || outputs.length === 0) {\n        return [];\n    }\n    const outputEvents = [];\n    outputEvents.push(_schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.cellOutputsCleared({\n        cellId: cellId,\n        wait: false,\n        clearedBy: clearedBy\n    }));\n    outputs.forEach((output, index)=>{\n        const outputId = `output-${(0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()}`;\n        switch(output.output_type){\n            case \"stream\":\n                outputEvents.push(_schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.terminalOutputAdded({\n                    id: outputId,\n                    cellId: cellId,\n                    position: index,\n                    streamName: output.name,\n                    content: {\n                        type: \"inline\",\n                        data: Array.isArray(output.text) ? output.text.join(\"\") : output.text\n                    }\n                }));\n                break;\n            case \"execute_result\":\n            case \"display_data\":\n                const representations = Object.entries(output.data).reduce((acc, [mimeType, data])=>{\n                    acc[mimeType] = {\n                        type: \"inline\",\n                        data\n                    };\n                    return acc;\n                }, {});\n                if (output.output_type === \"execute_result\") {\n                    outputEvents.push(_schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.multimediaResultOutputAdded({\n                        id: outputId,\n                        cellId: cellId,\n                        position: index,\n                        representations: representations,\n                        executionCount: output.execution_count ?? 0\n                    }));\n                } else {\n                    outputEvents.push(_schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.multimediaDisplayOutputAdded({\n                        id: outputId,\n                        cellId: cellId,\n                        position: index,\n                        representations: representations\n                    }));\n                }\n                break;\n            case \"error\":\n                outputEvents.push(_schema_mod__WEBPACK_IMPORTED_MODULE_0__.events.errorOutputAdded({\n                    id: outputId,\n                    cellId: cellId,\n                    position: index,\n                    content: {\n                        type: \"inline\",\n                        data: {\n                            ename: output.ename,\n                            evalue: output.evalue,\n                            traceback: output.traceback\n                        }\n                    }\n                }));\n                break;\n        }\n    });\n    return outputEvents;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT1MsSUFBSSxFQUFFSyxNQUFNLENBQUMsQ0FBQ0MsS0FBSyxDQUFDQyxVQUFVUCxLQUFLO29CQUMvRU0sR0FBRyxDQUFDQyxTQUFTLEdBQUc7d0JBQUV4RCxNQUFNO3dCQUFVaUQ7b0JBQUs7b0JBQ3ZDLE9BQU9NO2dCQUNULEdBQUcsQ0FBQztnQkFFSixJQUFJZixPQUFPRyxXQUFXLEtBQUssa0JBQWtCO29CQUN6Q1AsYUFBYTdCLElBQUksQ0FBQ2QsK0NBQU1BLENBQUNnRSwyQkFBMkIsQ0FBQzt3QkFDakQxRCxJQUFJMkM7d0JBQ0psQixRQUFRQTt3QkFDUnFCLFVBQVVKO3dCQUNWVSxpQkFBaUJBO3dCQUNqQk8sZ0JBQWdCbEIsT0FBT21CLGVBQWUsSUFBSTtvQkFDOUM7Z0JBQ0osT0FBTztvQkFDSHZCLGFBQWE3QixJQUFJLENBQUNkLCtDQUFNQSxDQUFDbUUsNEJBQTRCLENBQUM7d0JBQ2xEN0QsSUFBSTJDO3dCQUNKbEIsUUFBUUE7d0JBQ1JxQixVQUFVSjt3QkFDVlUsaUJBQWlCQTtvQkFDckI7Z0JBQ0o7Z0JBQ0E7WUFFRixLQUFLO2dCQUNIZixhQUFhN0IsSUFBSSxDQUFDZCwrQ0FBTUEsQ0FBQ29FLGdCQUFnQixDQUFDO29CQUN4QzlELElBQUkyQztvQkFDSmxCLFFBQVFBO29CQUNScUIsVUFBVUo7b0JBQ1ZPLFNBQVM7d0JBQ1BoRCxNQUFNO3dCQUNOaUQsTUFBTTs0QkFDSmEsT0FBT3RCLE9BQU9zQixLQUFLOzRCQUNuQkMsUUFBUXZCLE9BQU91QixNQUFNOzRCQUNyQkMsV0FBV3hCLE9BQU93QixTQUFTO3dCQUM3QjtvQkFDRjtnQkFDRjtnQkFDQTtRQUNKO0lBQ0Y7SUFFQSxPQUFPNUI7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2FuYWNvbmRhLWFzc2VzbWVudC0xLy4vc3JjL2xpYi9ldmVudC1nZW5lcmF0b3JzLnRzP2E5NGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBUaGlzIG1vZHVsZSBpcyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyBzcGVjaWZpYyBldmVudCBwYXlsb2Fkc1xuICogYmFzZWQgb24gdGhlIFJ1bnQgZXZlbnQgc2NoZW1hLiBJdCBhY3RzIGFzIGEgYnJpZGdlIGJldHdlZW4gdGhlIHJhd1xuICogLmlweW5iIGZvcm1hdCBhbmQgdGhlIHN0cnVjdHVyZWQgZXZlbnQgbG9nLCBlbmNhcHN1bGF0aW5nIGFsbCBkaXJlY3RcbiAqIGludGVyYWN0aW9ucyB3aXRoIHRoZSBzY2hlbWEgZGVmaW5pdGlvbnMuXG4gKi9cblxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQge1xuICBldmVudHMsXG4gIGNyZWF0ZUNlbGxCZXR3ZWVuLFxuICBDZWxsUmVmZXJlbmNlLFxuICBDZWxsVHlwZSxcbiAgQ2VsbE9wZXJhdGlvblJlc3VsdCxcbn0gZnJvbSAnLi4vc2NoZW1hL21vZCc7XG5pbXBvcnQge1xuICBJTm90ZWJvb2ssXG4gIElPdXRwdXQsXG4gIElDZWxsLFxufSBmcm9tICcuLi90eXBlcy9ub3RlYm9vay10eXBlcyc7XG5cbmV4cG9ydCB0eXBlIE5vdGVib29rRXZlbnQgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgYXJnczogdW5rbm93bjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBY3RvclByb2ZpbGVTZXRFdmVudChcbiAgYWN0b3JJZDogc3RyaW5nLFxuICBkaXNwbGF5TmFtZTogc3RyaW5nLFxuKTogTm90ZWJvb2tFdmVudCB7XG4gIHJldHVybiBldmVudHMuYWN0b3JQcm9maWxlU2V0KHtcbiAgICBpZDogYWN0b3JJZCxcbiAgICB0eXBlOiAnaHVtYW4nLFxuICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5TmFtZSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RlYm9va01ldGFkYXRhRXZlbnRzKFxuICBtZXRhZGF0YTogSU5vdGVib29rWydtZXRhZGF0YSddLFxuKTogTm90ZWJvb2tFdmVudFtdIHtcbiAgY29uc3QgbWV0YWRhdGFFdmVudHM6IE5vdGVib29rRXZlbnRbXSA9IFtdO1xuICBjb25zdCB0aXRsZSA9IGBJbXBvcnRlZCBOb3RlYm9vayAtICR7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX1gO1xuXG4gIG1ldGFkYXRhRXZlbnRzLnB1c2goZXZlbnRzLm5vdGVib29rVGl0bGVDaGFuZ2VkKHsgdGl0bGUgfSkpO1xuXG4gIGlmIChtZXRhZGF0YS5rZXJuZWxzcGVjPy5kaXNwbGF5X25hbWUpIHtcbiAgICBtZXRhZGF0YUV2ZW50cy5wdXNoKGV2ZW50cy5ub3RlYm9va01ldGFkYXRhU2V0KHtcbiAgICAgIGtleTogJ2tlcm5lbHNwZWNfZGlzcGxheV9uYW1lJyxcbiAgICAgIHZhbHVlOiBtZXRhZGF0YS5rZXJuZWxzcGVjLmRpc3BsYXlfbmFtZSxcbiAgICB9KSk7XG4gIH1cbiAgaWYgKG1ldGFkYXRhLmtlcm5lbHNwZWM/Lmxhbmd1YWdlKSB7XG4gICAgbWV0YWRhdGFFdmVudHMucHVzaChldmVudHMubm90ZWJvb2tNZXRhZGF0YVNldCh7XG4gICAgICBrZXk6ICdsYW5ndWFnZScsXG4gICAgICB2YWx1ZTogbWV0YWRhdGEua2VybmVsc3BlYy5sYW5ndWFnZSxcbiAgICB9KSk7XG4gIH1cblxuICByZXR1cm4gbWV0YWRhdGFFdmVudHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDZWxsQ3JlYXRlZEV2ZW50KFxuICBjZWxsOiBJQ2VsbCxcbiAgY3JlYXRlZEJ5OiBzdHJpbmcsXG4gIGNlbGxCZWZvcmU6IENlbGxSZWZlcmVuY2UgfCBudWxsLFxuICBhbGxDZWxsczogcmVhZG9ubHkgQ2VsbFJlZmVyZW5jZVtdLFxuKTogQ2VsbE9wZXJhdGlvblJlc3VsdCB7XG4gIGNvbnN0IGNlbGxUeXBlOiBDZWxsVHlwZSA9IGNlbGwuY2VsbF90eXBlID09PSAnY29kZScgPyAnY29kZScgOiAnbWFya2Rvd24nO1xuICBcbiAgY29uc3QgY2VsbERhdGEgPSB7XG4gICAgaWQ6IGBjZWxsLSR7dXVpZHY0KCl9YCxcbiAgICBjZWxsVHlwZTogY2VsbFR5cGUsXG4gICAgY3JlYXRlZEJ5OiBjcmVhdGVkQnksXG4gIH07XG5cbiAgcmV0dXJuIGNyZWF0ZUNlbGxCZXR3ZWVuKGNlbGxEYXRhLCBjZWxsQmVmb3JlLCBudWxsLCBhbGxDZWxscyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDZWxsU291cmNlQ2hhbmdlZEV2ZW50KFxuICBjZWxsSWQ6IHN0cmluZyxcbiAgc291cmNlOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgbW9kaWZpZWRCeTogc3RyaW5nLFxuKTogTm90ZWJvb2tFdmVudCB7XG4gIGNvbnN0IGZ1bGxTb3VyY2UgPSBBcnJheS5pc0FycmF5KHNvdXJjZSkgPyBzb3VyY2Uuam9pbignJykgOiBzb3VyY2U7XG4gIFxuICByZXR1cm4gZXZlbnRzLmNlbGxTb3VyY2VDaGFuZ2VkKHtcbiAgICBpZDogY2VsbElkLFxuICAgIHNvdXJjZTogZnVsbFNvdXJjZSxcbiAgICBtb2RpZmllZEJ5OiBtb2RpZmllZEJ5LFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNlbGxPdXRwdXRFdmVudHMoXG4gIGNlbGxJZDogc3RyaW5nLFxuICBvdXRwdXRzOiBJT3V0cHV0W10sXG4gIGNsZWFyZWRCeTogc3RyaW5nLFxuKTogTm90ZWJvb2tFdmVudFtdIHtcbiAgaWYgKCFvdXRwdXRzIHx8IG91dHB1dHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3Qgb3V0cHV0RXZlbnRzOiBOb3RlYm9va0V2ZW50W10gPSBbXTtcblxuICBvdXRwdXRFdmVudHMucHVzaChldmVudHMuY2VsbE91dHB1dHNDbGVhcmVkKHtcbiAgICBjZWxsSWQ6IGNlbGxJZCxcbiAgICB3YWl0OiBmYWxzZSxcbiAgICBjbGVhcmVkQnk6IGNsZWFyZWRCeSxcbiAgfSkpO1xuXG4gIG91dHB1dHMuZm9yRWFjaCgob3V0cHV0LCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IG91dHB1dElkID0gYG91dHB1dC0ke3V1aWR2NCgpfWA7XG4gICAgXG4gICAgc3dpdGNoIChvdXRwdXQub3V0cHV0X3R5cGUpIHtcbiAgICAgIGNhc2UgJ3N0cmVhbSc6XG4gICAgICAgIG91dHB1dEV2ZW50cy5wdXNoKGV2ZW50cy50ZXJtaW5hbE91dHB1dEFkZGVkKHtcbiAgICAgICAgICBpZDogb3V0cHV0SWQsXG4gICAgICAgICAgY2VsbElkOiBjZWxsSWQsXG4gICAgICAgICAgcG9zaXRpb246IGluZGV4LFxuICAgICAgICAgIHN0cmVhbU5hbWU6IG91dHB1dC5uYW1lLFxuICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdpbmxpbmUnLFxuICAgICAgICAgICAgZGF0YTogQXJyYXkuaXNBcnJheShvdXRwdXQudGV4dCkgPyBvdXRwdXQudGV4dC5qb2luKCcnKSA6IG91dHB1dC50ZXh0LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2V4ZWN1dGVfcmVzdWx0JzpcbiAgICAgIGNhc2UgJ2Rpc3BsYXlfZGF0YSc6XG4gICAgICAgIGNvbnN0IHJlcHJlc2VudGF0aW9ucyA9IE9iamVjdC5lbnRyaWVzKG91dHB1dC5kYXRhKS5yZWR1Y2UoKGFjYywgW21pbWVUeXBlLCBkYXRhXSkgPT4ge1xuICAgICAgICAgIGFjY1ttaW1lVHlwZV0gPSB7IHR5cGU6ICdpbmxpbmUnLCBkYXRhIH07XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgeyB0eXBlOiAnaW5saW5lJzsgZGF0YTogYW55IH0+KTtcblxuICAgICAgICBpZiAob3V0cHV0Lm91dHB1dF90eXBlID09PSAnZXhlY3V0ZV9yZXN1bHQnKSB7XG4gICAgICAgICAgICBvdXRwdXRFdmVudHMucHVzaChldmVudHMubXVsdGltZWRpYVJlc3VsdE91dHB1dEFkZGVkKHtcbiAgICAgICAgICAgICAgICBpZDogb3V0cHV0SWQsXG4gICAgICAgICAgICAgICAgY2VsbElkOiBjZWxsSWQsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGluZGV4LFxuICAgICAgICAgICAgICAgIHJlcHJlc2VudGF0aW9uczogcmVwcmVzZW50YXRpb25zLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGlvbkNvdW50OiBvdXRwdXQuZXhlY3V0aW9uX2NvdW50ID8/IDAsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXRwdXRFdmVudHMucHVzaChldmVudHMubXVsdGltZWRpYURpc3BsYXlPdXRwdXRBZGRlZCh7XG4gICAgICAgICAgICAgICAgaWQ6IG91dHB1dElkLFxuICAgICAgICAgICAgICAgIGNlbGxJZDogY2VsbElkLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgICAgICAgICByZXByZXNlbnRhdGlvbnM6IHJlcHJlc2VudGF0aW9ucyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICBvdXRwdXRFdmVudHMucHVzaChldmVudHMuZXJyb3JPdXRwdXRBZGRlZCh7XG4gICAgICAgICAgaWQ6IG91dHB1dElkLFxuICAgICAgICAgIGNlbGxJZDogY2VsbElkLFxuICAgICAgICAgIHBvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICB0eXBlOiAnaW5saW5lJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgZW5hbWU6IG91dHB1dC5lbmFtZSxcbiAgICAgICAgICAgICAgZXZhbHVlOiBvdXRwdXQuZXZhbHVlLFxuICAgICAgICAgICAgICB0cmFjZWJhY2s6IG91dHB1dC50cmFjZWJhY2ssXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gb3V0cHV0RXZlbnRzO1xufVxuIl0sIm5hbWVzIjpbInY0IiwidXVpZHY0IiwiZXZlbnRzIiwiY3JlYXRlQ2VsbEJldHdlZW4iLCJjcmVhdGVBY3RvclByb2ZpbGVTZXRFdmVudCIsImFjdG9ySWQiLCJkaXNwbGF5TmFtZSIsImFjdG9yUHJvZmlsZVNldCIsImlkIiwidHlwZSIsImNyZWF0ZU5vdGVib29rTWV0YWRhdGFFdmVudHMiLCJtZXRhZGF0YSIsIm1ldGFkYXRhRXZlbnRzIiwidGl0bGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwicHVzaCIsIm5vdGVib29rVGl0bGVDaGFuZ2VkIiwia2VybmVsc3BlYyIsImRpc3BsYXlfbmFtZSIsIm5vdGVib29rTWV0YWRhdGFTZXQiLCJrZXkiLCJ2YWx1ZSIsImxhbmd1YWdlIiwiY3JlYXRlQ2VsbENyZWF0ZWRFdmVudCIsImNlbGwiLCJjcmVhdGVkQnkiLCJjZWxsQmVmb3JlIiwiYWxsQ2VsbHMiLCJjZWxsVHlwZSIsImNlbGxfdHlwZSIsImNlbGxEYXRhIiwiY3JlYXRlQ2VsbFNvdXJjZUNoYW5nZWRFdmVudCIsImNlbGxJZCIsInNvdXJjZSIsIm1vZGlmaWVkQnkiLCJmdWxsU291cmNlIiwiQXJyYXkiLCJpc0FycmF5Iiwiam9pbiIsImNlbGxTb3VyY2VDaGFuZ2VkIiwiY3JlYXRlQ2VsbE91dHB1dEV2ZW50cyIsIm91dHB1dHMiLCJjbGVhcmVkQnkiLCJsZW5ndGgiLCJvdXRwdXRFdmVudHMiLCJjZWxsT3V0cHV0c0NsZWFyZWQiLCJ3YWl0IiwiZm9yRWFjaCIsIm91dHB1dCIsImluZGV4Iiwib3V0cHV0SWQiLCJvdXRwdXRfdHlwZSIsInRlcm1pbmFsT3V0cHV0QWRkZWQiLCJwb3NpdGlvbiIsInN0cmVhbU5hbWUiLCJuYW1lIiwiY29udGVudCIsImRhdGEiLCJ0ZXh0IiwicmVwcmVzZW50YXRpb25zIiwiT2JqZWN0IiwiZW50cmllcyIsInJlZHVjZSIsImFjYyIsIm1pbWVUeXBlIiwibXVsdGltZWRpYVJlc3VsdE91dHB1dEFkZGVkIiwiZXhlY3V0aW9uQ291bnQiLCJleGVjdXRpb25fY291bnQiLCJtdWx0aW1lZGlhRGlzcGxheU91dHB1dEFkZGVkIiwiZXJyb3JPdXRwdXRBZGRlZCIsImVuYW1lIiwiZXZhbHVlIiwidHJhY2ViYWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/event-generators.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/ipynb-converter.ts":
/*!************************************!*\
  !*** ./src/lib/ipynb-converter.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IpynbConverter: () => (/* binding */ IpynbConverter)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(rsc)/./src/node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _event_generators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-generators */ \"(rsc)/./src/lib/event-generators.ts\");\n/**\n * @file This module contains the main IpynbConverter class, which orchestrates\n * the entire process of converting a parsed .ipynb file into a Runt event log.\n */ \n\n/**\n * Orchestrates the conversion of a Jupyter Notebook JSON object into a\n * structured event log.\n */ class IpynbConverter {\n    /**\n   * Initializes the converter with the notebook data.\n   * @param notebook The parsed JSON content of an .ipynb file.\n   */ constructor(notebook){\n        this.events = [];\n        this.cellReferences = [];\n        this.notebook = notebook;\n        // Each import session is performed by a new, unique actor.\n        this.actorId = `user-${(0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()}`;\n    }\n    /**\n   * Generates the complete, ordered list of events from the notebook.\n   * This is the main entry point for the conversion process.\n   * @returns An array of NotebookEvent objects.\n   */ generateEvents() {\n        this._generateInitialEvents();\n        this._generateCellEvents();\n        return this.events;\n    }\n    /**\n   * Creates the initial events that set up the actor profile and notebook metadata.\n   */ _generateInitialEvents() {\n        // 1. Create an actor profile for the user performing the import.\n        const actorEvent = (0,_event_generators__WEBPACK_IMPORTED_MODULE_0__.createActorProfileSetEvent)(this.actorId, \"Notebook Importer\");\n        this.events.push(actorEvent);\n        // 2. Create events for the notebook's metadata (e.g., title, language).\n        const metadataEvents = (0,_event_generators__WEBPACK_IMPORTED_MODULE_0__.createNotebookMetadataEvents)(this.notebook.metadata);\n        this.events.push(...metadataEvents);\n    }\n    /**\n   * Iterates through each cell in the notebook and generates the corresponding\n   * creation, source, and output events in the correct sequence.\n   */ _generateCellEvents() {\n        // This variable will hold the reference to the previously processed cell,\n        // which is crucial for the fractional indexing logic.\n        let cellBefore = null;\n        for (const cell of this.notebook.cells){\n            // 1. Generate the 'CellCreated' event. This helper function returns\n            // not just the event but also the newly created cell's ID.\n            const creationResult = (0,_event_generators__WEBPACK_IMPORTED_MODULE_0__.createCellCreatedEvent)(cell, this.actorId, cellBefore, this.cellReferences);\n            this.events.push(...creationResult.events);\n            const newCellId = creationResult.newCellId;\n            // 2. Generate the 'CellSourceChanged' event to populate the cell's content.\n            const sourceEvent = (0,_event_generators__WEBPACK_IMPORTED_MODULE_0__.createCellSourceChangedEvent)(newCellId, cell.source, this.actorId);\n            this.events.push(sourceEvent);\n            // 3. If it's a code cell, generate its output events.\n            if (cell.cell_type === \"code\") {\n                const codeCell = cell;\n                const outputEvents = (0,_event_generators__WEBPACK_IMPORTED_MODULE_0__.createCellOutputEvents)(newCellId, codeCell.outputs, this.actorId);\n                this.events.push(...outputEvents);\n            }\n            // 4. Update our references for the next iteration.\n            // We find the newly created cell's event to get its fractionalIndex.\n            const createdEvent = creationResult.events.find((e)=>e.name === \"v2.CellCreated\");\n            const newCellRef = {\n                id: newCellId,\n                // The cellType here must match the one used in the event schema.\n                cellType: cell.cell_type === \"code\" ? \"code\" : \"markdown\",\n                fractionalIndex: createdEvent?.args?.fractionalIndex || null\n            };\n            this.cellReferences.push(newCellRef);\n            cellBefore = newCellRef; // Set `cellBefore` for the next loop iteration.\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2lweW5iLWNvbnZlcnRlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0NBR0MsR0FFbUM7QUFVUjtBQUU1Qjs7O0NBR0MsR0FDTSxNQUFNTztJQU1YOzs7R0FHQyxHQUNEQyxZQUFZQyxRQUFtQixDQUFFO2FBUHpCQyxTQUEwQixFQUFFO2FBQzVCQyxpQkFBa0MsRUFBRTtRQU8xQyxJQUFJLENBQUNGLFFBQVEsR0FBR0E7UUFDaEIsMkRBQTJEO1FBQzNELElBQUksQ0FBQ0csT0FBTyxHQUFHLENBQUMsS0FBSyxFQUFFWCxnREFBTUEsR0FBRyxDQUFDO0lBQ25DO0lBRUE7Ozs7R0FJQyxHQUNELGlCQUF5QztRQUN2QyxJQUFJLENBQUNhLHNCQUFzQjtRQUMzQixJQUFJLENBQUNDLG1CQUFtQjtRQUN4QixPQUFPLElBQUksQ0FBQ0wsTUFBTTtJQUNwQjtJQUVBOztHQUVDLEdBQ0QseUJBQXVDO1FBQ3JDLGlFQUFpRTtRQUNqRSxNQUFNTSxhQUFhZCw2RUFBMEJBLENBQUMsSUFBSSxDQUFDVSxPQUFPLEVBQUU7UUFDNUQsSUFBSSxDQUFDRixNQUFNLENBQUNPLElBQUksQ0FBQ0Q7UUFFakIsd0VBQXdFO1FBQ3hFLE1BQU1FLGlCQUFpQmYsK0VBQTRCQSxDQUFDLElBQUksQ0FBQ00sUUFBUSxDQUFDVSxRQUFRO1FBQzFFLElBQUksQ0FBQ1QsTUFBTSxDQUFDTyxJQUFJLElBQUlDO0lBQ3RCO0lBRUE7OztHQUdDLEdBQ0Qsc0JBQW9DO1FBQ2xDLDBFQUEwRTtRQUMxRSxzREFBc0Q7UUFDdEQsSUFBSUUsYUFBbUM7UUFFdkMsS0FBSyxNQUFNQyxRQUFRLElBQUksQ0FBQ1osUUFBUSxDQUFDYSxLQUFLLENBQUU7WUFDdEMsb0VBQW9FO1lBQ3BFLDJEQUEyRDtZQUMzRCxNQUFNQyxpQkFBaUJuQix5RUFBc0JBLENBQzNDaUIsTUFDQSxJQUFJLENBQUNULE9BQU8sRUFDWlEsWUFDQSxJQUFJLENBQUNULGNBQWM7WUFHckIsSUFBSSxDQUFDRCxNQUFNLENBQUNPLElBQUksSUFBSU0sZUFBZWIsTUFBTTtZQUN6QyxNQUFNYyxZQUFZRCxlQUFlQyxTQUFTO1lBRTFDLDRFQUE0RTtZQUM1RSxNQUFNQyxjQUFjcEIsK0VBQTRCQSxDQUM5Q21CLFdBQ0FILEtBQUtLLE1BQU0sRUFDWCxJQUFJLENBQUNkLE9BQU87WUFFZCxJQUFJLENBQUNGLE1BQU0sQ0FBQ08sSUFBSSxDQUFDUTtZQUVqQixzREFBc0Q7WUFDdEQsSUFBSUosS0FBS00sU0FBUyxLQUFLLFFBQVE7Z0JBQzdCLE1BQU1DLFdBQVdQO2dCQUNqQixNQUFNUSxlQUFldkIseUVBQXNCQSxDQUN6Q2tCLFdBQ0FJLFNBQVNFLE9BQU8sRUFDaEIsSUFBSSxDQUFDbEIsT0FBTztnQkFFZCxJQUFJLENBQUNGLE1BQU0sQ0FBQ08sSUFBSSxJQUFJWTtZQUN0QjtZQUVBLG1EQUFtRDtZQUNuRCxxRUFBcUU7WUFDckUsTUFBTUUsZUFBZVIsZUFBZWIsTUFBTSxDQUFDc0IsSUFBSSxDQUM3QyxDQUFDQyxJQUFNLEVBQVdDLElBQUksS0FBSztZQUU3QixNQUFNQyxhQUE0QjtnQkFDaENDLElBQUlaO2dCQUNKLGlFQUFpRTtnQkFDakVhLFVBQVVoQixLQUFLTSxTQUFTLEtBQUssU0FBUyxTQUFTO2dCQUMvQ1csaUJBQWlCUCxjQUFjUSxNQUFNRCxtQkFBbUI7WUFDMUQ7WUFFQSxJQUFJLENBQUMzQixjQUFjLENBQUNNLElBQUksQ0FBQ2tCO1lBQ3pCZixhQUFhZSxZQUFZLGdEQUFnRDtRQUMzRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmFjb25kYS1hc3Nlc21lbnQtMS8uL3NyYy9saWIvaXB5bmItY29udmVydGVyLnRzPzBiNDciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBUaGlzIG1vZHVsZSBjb250YWlucyB0aGUgbWFpbiBJcHluYkNvbnZlcnRlciBjbGFzcywgd2hpY2ggb3JjaGVzdHJhdGVzXG4gKiB0aGUgZW50aXJlIHByb2Nlc3Mgb2YgY29udmVydGluZyBhIHBhcnNlZCAuaXB5bmIgZmlsZSBpbnRvIGEgUnVudCBldmVudCBsb2cuXG4gKi9cblxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBJTm90ZWJvb2ssIElDb2RlQ2VsbCB9IGZyb20gJy4uL3R5cGVzL25vdGVib29rLXR5cGVzJztcbmltcG9ydCB7IENlbGxSZWZlcmVuY2UgfSBmcm9tICcuLi9zY2hlbWEvbW9kJztcbmltcG9ydCB7XG4gIE5vdGVib29rRXZlbnQsXG4gIGNyZWF0ZUFjdG9yUHJvZmlsZVNldEV2ZW50LFxuICBjcmVhdGVOb3RlYm9va01ldGFkYXRhRXZlbnRzLFxuICBjcmVhdGVDZWxsQ3JlYXRlZEV2ZW50LFxuICBjcmVhdGVDZWxsU291cmNlQ2hhbmdlZEV2ZW50LFxuICBjcmVhdGVDZWxsT3V0cHV0RXZlbnRzLFxufSBmcm9tICcuL2V2ZW50LWdlbmVyYXRvcnMnO1xuXG4vKipcbiAqIE9yY2hlc3RyYXRlcyB0aGUgY29udmVyc2lvbiBvZiBhIEp1cHl0ZXIgTm90ZWJvb2sgSlNPTiBvYmplY3QgaW50byBhXG4gKiBzdHJ1Y3R1cmVkIGV2ZW50IGxvZy5cbiAqL1xuZXhwb3J0IGNsYXNzIElweW5iQ29udmVydGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBub3RlYm9vazogSU5vdGVib29rO1xuICBwcml2YXRlIHJlYWRvbmx5IGFjdG9ySWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBldmVudHM6IE5vdGVib29rRXZlbnRbXSA9IFtdO1xuICBwcml2YXRlIGNlbGxSZWZlcmVuY2VzOiBDZWxsUmVmZXJlbmNlW10gPSBbXTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGNvbnZlcnRlciB3aXRoIHRoZSBub3RlYm9vayBkYXRhLlxuICAgKiBAcGFyYW0gbm90ZWJvb2sgVGhlIHBhcnNlZCBKU09OIGNvbnRlbnQgb2YgYW4gLmlweW5iIGZpbGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihub3RlYm9vazogSU5vdGVib29rKSB7XG4gICAgdGhpcy5ub3RlYm9vayA9IG5vdGVib29rO1xuICAgIC8vIEVhY2ggaW1wb3J0IHNlc3Npb24gaXMgcGVyZm9ybWVkIGJ5IGEgbmV3LCB1bmlxdWUgYWN0b3IuXG4gICAgdGhpcy5hY3RvcklkID0gYHVzZXItJHt1dWlkdjQoKX1gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyB0aGUgY29tcGxldGUsIG9yZGVyZWQgbGlzdCBvZiBldmVudHMgZnJvbSB0aGUgbm90ZWJvb2suXG4gICAqIFRoaXMgaXMgdGhlIG1haW4gZW50cnkgcG9pbnQgZm9yIHRoZSBjb252ZXJzaW9uIHByb2Nlc3MuXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIE5vdGVib29rRXZlbnQgb2JqZWN0cy5cbiAgICovXG4gIHB1YmxpYyBnZW5lcmF0ZUV2ZW50cygpOiBOb3RlYm9va0V2ZW50W10ge1xuICAgIHRoaXMuX2dlbmVyYXRlSW5pdGlhbEV2ZW50cygpO1xuICAgIHRoaXMuX2dlbmVyYXRlQ2VsbEV2ZW50cygpO1xuICAgIHJldHVybiB0aGlzLmV2ZW50cztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBpbml0aWFsIGV2ZW50cyB0aGF0IHNldCB1cCB0aGUgYWN0b3IgcHJvZmlsZSBhbmQgbm90ZWJvb2sgbWV0YWRhdGEuXG4gICAqL1xuICBwcml2YXRlIF9nZW5lcmF0ZUluaXRpYWxFdmVudHMoKTogdm9pZCB7XG4gICAgLy8gMS4gQ3JlYXRlIGFuIGFjdG9yIHByb2ZpbGUgZm9yIHRoZSB1c2VyIHBlcmZvcm1pbmcgdGhlIGltcG9ydC5cbiAgICBjb25zdCBhY3RvckV2ZW50ID0gY3JlYXRlQWN0b3JQcm9maWxlU2V0RXZlbnQodGhpcy5hY3RvcklkLCAnTm90ZWJvb2sgSW1wb3J0ZXInKTtcbiAgICB0aGlzLmV2ZW50cy5wdXNoKGFjdG9yRXZlbnQpO1xuXG4gICAgLy8gMi4gQ3JlYXRlIGV2ZW50cyBmb3IgdGhlIG5vdGVib29rJ3MgbWV0YWRhdGEgKGUuZy4sIHRpdGxlLCBsYW5ndWFnZSkuXG4gICAgY29uc3QgbWV0YWRhdGFFdmVudHMgPSBjcmVhdGVOb3RlYm9va01ldGFkYXRhRXZlbnRzKHRoaXMubm90ZWJvb2subWV0YWRhdGEpO1xuICAgIHRoaXMuZXZlbnRzLnB1c2goLi4ubWV0YWRhdGFFdmVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIHRocm91Z2ggZWFjaCBjZWxsIGluIHRoZSBub3RlYm9vayBhbmQgZ2VuZXJhdGVzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAqIGNyZWF0aW9uLCBzb3VyY2UsIGFuZCBvdXRwdXQgZXZlbnRzIGluIHRoZSBjb3JyZWN0IHNlcXVlbmNlLlxuICAgKi9cbiAgcHJpdmF0ZSBfZ2VuZXJhdGVDZWxsRXZlbnRzKCk6IHZvaWQge1xuICAgIC8vIFRoaXMgdmFyaWFibGUgd2lsbCBob2xkIHRoZSByZWZlcmVuY2UgdG8gdGhlIHByZXZpb3VzbHkgcHJvY2Vzc2VkIGNlbGwsXG4gICAgLy8gd2hpY2ggaXMgY3J1Y2lhbCBmb3IgdGhlIGZyYWN0aW9uYWwgaW5kZXhpbmcgbG9naWMuXG4gICAgbGV0IGNlbGxCZWZvcmU6IENlbGxSZWZlcmVuY2UgfCBudWxsID0gbnVsbDtcblxuICAgIGZvciAoY29uc3QgY2VsbCBvZiB0aGlzLm5vdGVib29rLmNlbGxzKSB7XG4gICAgICAvLyAxLiBHZW5lcmF0ZSB0aGUgJ0NlbGxDcmVhdGVkJyBldmVudC4gVGhpcyBoZWxwZXIgZnVuY3Rpb24gcmV0dXJuc1xuICAgICAgLy8gbm90IGp1c3QgdGhlIGV2ZW50IGJ1dCBhbHNvIHRoZSBuZXdseSBjcmVhdGVkIGNlbGwncyBJRC5cbiAgICAgIGNvbnN0IGNyZWF0aW9uUmVzdWx0ID0gY3JlYXRlQ2VsbENyZWF0ZWRFdmVudChcbiAgICAgICAgY2VsbCxcbiAgICAgICAgdGhpcy5hY3RvcklkLFxuICAgICAgICBjZWxsQmVmb3JlLFxuICAgICAgICB0aGlzLmNlbGxSZWZlcmVuY2VzXG4gICAgICApO1xuICAgICAgXG4gICAgICB0aGlzLmV2ZW50cy5wdXNoKC4uLmNyZWF0aW9uUmVzdWx0LmV2ZW50cyk7XG4gICAgICBjb25zdCBuZXdDZWxsSWQgPSBjcmVhdGlvblJlc3VsdC5uZXdDZWxsSWQ7XG5cbiAgICAgIC8vIDIuIEdlbmVyYXRlIHRoZSAnQ2VsbFNvdXJjZUNoYW5nZWQnIGV2ZW50IHRvIHBvcHVsYXRlIHRoZSBjZWxsJ3MgY29udGVudC5cbiAgICAgIGNvbnN0IHNvdXJjZUV2ZW50ID0gY3JlYXRlQ2VsbFNvdXJjZUNoYW5nZWRFdmVudChcbiAgICAgICAgbmV3Q2VsbElkLFxuICAgICAgICBjZWxsLnNvdXJjZSxcbiAgICAgICAgdGhpcy5hY3RvcklkXG4gICAgICApO1xuICAgICAgdGhpcy5ldmVudHMucHVzaChzb3VyY2VFdmVudCk7XG5cbiAgICAgIC8vIDMuIElmIGl0J3MgYSBjb2RlIGNlbGwsIGdlbmVyYXRlIGl0cyBvdXRwdXQgZXZlbnRzLlxuICAgICAgaWYgKGNlbGwuY2VsbF90eXBlID09PSAnY29kZScpIHtcbiAgICAgICAgY29uc3QgY29kZUNlbGwgPSBjZWxsIGFzIElDb2RlQ2VsbDtcbiAgICAgICAgY29uc3Qgb3V0cHV0RXZlbnRzID0gY3JlYXRlQ2VsbE91dHB1dEV2ZW50cyhcbiAgICAgICAgICBuZXdDZWxsSWQsXG4gICAgICAgICAgY29kZUNlbGwub3V0cHV0cyxcbiAgICAgICAgICB0aGlzLmFjdG9ySWRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5ldmVudHMucHVzaCguLi5vdXRwdXRFdmVudHMpO1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBVcGRhdGUgb3VyIHJlZmVyZW5jZXMgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvbi5cbiAgICAgIC8vIFdlIGZpbmQgdGhlIG5ld2x5IGNyZWF0ZWQgY2VsbCdzIGV2ZW50IHRvIGdldCBpdHMgZnJhY3Rpb25hbEluZGV4LlxuICAgICAgY29uc3QgY3JlYXRlZEV2ZW50ID0gY3JlYXRpb25SZXN1bHQuZXZlbnRzLmZpbmQoXG4gICAgICAgIChlKSA9PiAoZSBhcyBhbnkpLm5hbWUgPT09ICd2Mi5DZWxsQ3JlYXRlZCdcbiAgICAgICkgYXMgeyBhcmdzPzogeyBmcmFjdGlvbmFsSW5kZXg/OiBzdHJpbmcgfSB9IHwgdW5kZWZpbmVkO1xuICAgICAgY29uc3QgbmV3Q2VsbFJlZjogQ2VsbFJlZmVyZW5jZSA9IHtcbiAgICAgICAgaWQ6IG5ld0NlbGxJZCxcbiAgICAgICAgLy8gVGhlIGNlbGxUeXBlIGhlcmUgbXVzdCBtYXRjaCB0aGUgb25lIHVzZWQgaW4gdGhlIGV2ZW50IHNjaGVtYS5cbiAgICAgICAgY2VsbFR5cGU6IGNlbGwuY2VsbF90eXBlID09PSAnY29kZScgPyAnY29kZScgOiAnbWFya2Rvd24nLFxuICAgICAgICBmcmFjdGlvbmFsSW5kZXg6IGNyZWF0ZWRFdmVudD8uYXJncz8uZnJhY3Rpb25hbEluZGV4IHx8IG51bGwsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLmNlbGxSZWZlcmVuY2VzLnB1c2gobmV3Q2VsbFJlZik7XG4gICAgICBjZWxsQmVmb3JlID0gbmV3Q2VsbFJlZjsgLy8gU2V0IGBjZWxsQmVmb3JlYCBmb3IgdGhlIG5leHQgbG9vcCBpdGVyYXRpb24uXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsidjQiLCJ1dWlkdjQiLCJjcmVhdGVBY3RvclByb2ZpbGVTZXRFdmVudCIsImNyZWF0ZU5vdGVib29rTWV0YWRhdGFFdmVudHMiLCJjcmVhdGVDZWxsQ3JlYXRlZEV2ZW50IiwiY3JlYXRlQ2VsbFNvdXJjZUNoYW5nZWRFdmVudCIsImNyZWF0ZUNlbGxPdXRwdXRFdmVudHMiLCJJcHluYkNvbnZlcnRlciIsImNvbnN0cnVjdG9yIiwibm90ZWJvb2siLCJldmVudHMiLCJjZWxsUmVmZXJlbmNlcyIsImFjdG9ySWQiLCJnZW5lcmF0ZUV2ZW50cyIsIl9nZW5lcmF0ZUluaXRpYWxFdmVudHMiLCJfZ2VuZXJhdGVDZWxsRXZlbnRzIiwiYWN0b3JFdmVudCIsInB1c2giLCJtZXRhZGF0YUV2ZW50cyIsIm1ldGFkYXRhIiwiY2VsbEJlZm9yZSIsImNlbGwiLCJjZWxscyIsImNyZWF0aW9uUmVzdWx0IiwibmV3Q2VsbElkIiwic291cmNlRXZlbnQiLCJzb3VyY2UiLCJjZWxsX3R5cGUiLCJjb2RlQ2VsbCIsIm91dHB1dEV2ZW50cyIsIm91dHB1dHMiLCJjcmVhdGVkRXZlbnQiLCJmaW5kIiwiZSIsIm5hbWUiLCJuZXdDZWxsUmVmIiwiaWQiLCJjZWxsVHlwZSIsImZyYWN0aW9uYWxJbmRleCIsImFyZ3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/ipynb-converter.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/storage/index.ts":
/*!**********************************!*\
  !*** ./src/lib/storage/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getStorageAdapter: () => (/* binding */ getStorageAdapter)\n/* harmony export */ });\n/* harmony import */ var _json_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./json-adapter */ \"(rsc)/./src/lib/storage/json-adapter.ts\");\n/* harmony import */ var _s3_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./s3-adapter */ \"(rsc)/./src/lib/storage/s3-adapter.ts\");\n\n\nfunction getStorageAdapter() {\n    const backend = process.env.STORAGE_BACKEND || \"json\";\n    if (backend === \"s3\") {\n        return new _s3_adapter__WEBPACK_IMPORTED_MODULE_1__.S3StorageAdapter();\n    }\n    const baseDir = process.env.JSON_STORAGE_DIR;\n    return new _json_adapter__WEBPACK_IMPORTED_MODULE_0__.JsonFileStorageAdapter(baseDir);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N0b3JhZ2UvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdEO0FBQ1I7QUFLekMsU0FBU0U7SUFDZCxNQUFNQyxVQUFVQyxRQUFRQyxHQUFHLENBQUNDLGVBQWUsSUFBSTtJQUMvQyxJQUFJSCxZQUFZLE1BQU07UUFDcEIsT0FBTyxJQUFJRix5REFBZ0JBO0lBQzdCO0lBQ0EsTUFBTU0sVUFBVUgsUUFBUUMsR0FBRyxDQUFDRyxnQkFBZ0I7SUFDNUMsT0FBTyxJQUFJUixpRUFBc0JBLENBQUNPO0FBQ3BDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5hY29uZGEtYXNzZXNtZW50LTEvLi9zcmMvbGliL3N0b3JhZ2UvaW5kZXgudHM/OGU0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKc29uRmlsZVN0b3JhZ2VBZGFwdGVyIH0gZnJvbSAnLi9qc29uLWFkYXB0ZXInO1xuaW1wb3J0IHsgUzNTdG9yYWdlQWRhcHRlciB9IGZyb20gJy4vczMtYWRhcHRlcic7XG5pbXBvcnQgdHlwZSB7IFN0b3JhZ2VBZGFwdGVyIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCB0eXBlIHsgU3RvcmFnZUFkYXB0ZXIgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JhZ2VBZGFwdGVyKCk6IFN0b3JhZ2VBZGFwdGVyIHtcbiAgY29uc3QgYmFja2VuZCA9IHByb2Nlc3MuZW52LlNUT1JBR0VfQkFDS0VORCB8fCAnanNvbic7XG4gIGlmIChiYWNrZW5kID09PSAnczMnKSB7XG4gICAgcmV0dXJuIG5ldyBTM1N0b3JhZ2VBZGFwdGVyKCk7XG4gIH1cbiAgY29uc3QgYmFzZURpciA9IHByb2Nlc3MuZW52LkpTT05fU1RPUkFHRV9ESVI7XG4gIHJldHVybiBuZXcgSnNvbkZpbGVTdG9yYWdlQWRhcHRlcihiYXNlRGlyKTtcbn1cblxuXG5cblxuXG4iXSwibmFtZXMiOlsiSnNvbkZpbGVTdG9yYWdlQWRhcHRlciIsIlMzU3RvcmFnZUFkYXB0ZXIiLCJnZXRTdG9yYWdlQWRhcHRlciIsImJhY2tlbmQiLCJwcm9jZXNzIiwiZW52IiwiU1RPUkFHRV9CQUNLRU5EIiwiYmFzZURpciIsIkpTT05fU1RPUkFHRV9ESVIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/storage/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/storage/json-adapter.ts":
/*!*****************************************!*\
  !*** ./src/lib/storage/json-adapter.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonFileStorageAdapter: () => (/* binding */ JsonFileStorageAdapter)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(rsc)/./src/node_modules/uuid/dist/esm/v4.js\");\n\n\n\nclass JsonFileStorageAdapter {\n    constructor(baseDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"storage\")){\n        this.baseDir = baseDir;\n    }\n    async saveEvents(events, options) {\n        const filenameBase = options?.filenameBase || `events-${(0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()}`;\n        const filename = `${filenameBase}.json`;\n        const dir = this.baseDir;\n        const fullPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(dir, filename);\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().mkdir(dir, {\n            recursive: true\n        });\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().writeFile(fullPath, JSON.stringify(events, null, 2), \"utf-8\");\n        return {\n            uri: `file://${fullPath}`,\n            backend: \"json\",\n            key: filename\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N0b3JhZ2UvanNvbi1hZGFwdGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE2QjtBQUNMO0FBQ1k7QUFHN0IsTUFBTUk7SUFHWEMsWUFBWUMsVUFBa0JMLGdEQUFTLENBQUNPLFFBQVFDLEdBQUcsSUFBSSxVQUFVLENBQUU7UUFDakUsSUFBSSxDQUFDSCxPQUFPLEdBQUdBO0lBQ2pCO0lBRUEsTUFBTUksV0FBV0MsTUFBaUIsRUFBRUMsT0FBMkIsRUFBMEI7UUFDdkYsTUFBTUMsZUFBZUQsU0FBU0MsZ0JBQWdCLENBQUMsT0FBTyxFQUFFVixnREFBTUEsR0FBRyxDQUFDO1FBQ2xFLE1BQU1XLFdBQVcsQ0FBQyxFQUFFRCxhQUFhLEtBQUssQ0FBQztRQUN2QyxNQUFNRSxNQUFNLElBQUksQ0FBQ1QsT0FBTztRQUN4QixNQUFNVSxXQUFXZixnREFBUyxDQUFDYyxLQUFLRDtRQUVoQyxNQUFNZCx3REFBUSxDQUFDZSxLQUFLO1lBQUVHLFdBQVc7UUFBSztRQUN0QyxNQUFNbEIsNERBQVksQ0FBQ2dCLFVBQVVJLEtBQUtDLFNBQVMsQ0FBQ1YsUUFBUSxNQUFNLElBQUk7UUFFOUQsT0FBTztZQUNMVyxLQUFLLENBQUMsT0FBTyxFQUFFTixTQUFTLENBQUM7WUFDekJPLFNBQVM7WUFDVEMsS0FBS1Y7UUFDUDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmFjb25kYS1hc3Nlc21lbnQtMS8uL3NyYy9saWIvc3RvcmFnZS9qc29uLWFkYXB0ZXIudHM/NjkxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMvcHJvbWlzZXMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IFN0b3JhZ2VBZGFwdGVyLCBTdG9yYWdlUmVzdWx0LCBTYXZlRXZlbnRzT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgSnNvbkZpbGVTdG9yYWdlQWRhcHRlciBpbXBsZW1lbnRzIFN0b3JhZ2VBZGFwdGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBiYXNlRGlyOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYmFzZURpcjogc3RyaW5nID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdzdG9yYWdlJykpIHtcbiAgICB0aGlzLmJhc2VEaXIgPSBiYXNlRGlyO1xuICB9XG5cbiAgYXN5bmMgc2F2ZUV2ZW50cyhldmVudHM6IHVua25vd25bXSwgb3B0aW9ucz86IFNhdmVFdmVudHNPcHRpb25zKTogUHJvbWlzZTxTdG9yYWdlUmVzdWx0PiB7XG4gICAgY29uc3QgZmlsZW5hbWVCYXNlID0gb3B0aW9ucz8uZmlsZW5hbWVCYXNlIHx8IGBldmVudHMtJHt1dWlkdjQoKX1gO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7ZmlsZW5hbWVCYXNlfS5qc29uYDtcbiAgICBjb25zdCBkaXIgPSB0aGlzLmJhc2VEaXI7XG4gICAgY29uc3QgZnVsbFBhdGggPSBwYXRoLmpvaW4oZGlyLCBmaWxlbmFtZSk7XG5cbiAgICBhd2FpdCBmcy5ta2RpcihkaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgIGF3YWl0IGZzLndyaXRlRmlsZShmdWxsUGF0aCwgSlNPTi5zdHJpbmdpZnkoZXZlbnRzLCBudWxsLCAyKSwgJ3V0Zi04Jyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXJpOiBgZmlsZTovLyR7ZnVsbFBhdGh9YCxcbiAgICAgIGJhY2tlbmQ6ICdqc29uJyxcbiAgICAgIGtleTogZmlsZW5hbWUsXG4gICAgfTtcbiAgfVxufVxuXG5cblxuXG5cbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJ2NCIsInV1aWR2NCIsIkpzb25GaWxlU3RvcmFnZUFkYXB0ZXIiLCJjb25zdHJ1Y3RvciIsImJhc2VEaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsInNhdmVFdmVudHMiLCJldmVudHMiLCJvcHRpb25zIiwiZmlsZW5hbWVCYXNlIiwiZmlsZW5hbWUiLCJkaXIiLCJmdWxsUGF0aCIsIm1rZGlyIiwicmVjdXJzaXZlIiwid3JpdGVGaWxlIiwiSlNPTiIsInN0cmluZ2lmeSIsInVyaSIsImJhY2tlbmQiLCJrZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/storage/json-adapter.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/storage/s3-adapter.ts":
/*!***************************************!*\
  !*** ./src/lib/storage/s3-adapter.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S3StorageAdapter: () => (/* binding */ S3StorageAdapter)\n/* harmony export */ });\n// Scaffold for future S3 support using @aws-sdk/client-s3\nclass S3StorageAdapter {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async saveEvents(_events, _options) {\n        throw new Error(\"S3 adapter not configured. Set STORAGE_BACKEND=s3 and provide AWS credentials.\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N0b3JhZ2UvczMtYWRhcHRlci50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsMERBQTBEO0FBR25ELE1BQU1BO0lBQ1gsNkRBQTZEO0lBQzdELE1BQU1DLFdBQVdDLE9BQWtCLEVBQUVDLFFBQTRCLEVBQTBCO1FBQ3pGLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5hY29uZGEtYXNzZXNtZW50LTEvLi9zcmMvbGliL3N0b3JhZ2UvczMtYWRhcHRlci50cz9jNmQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNjYWZmb2xkIGZvciBmdXR1cmUgUzMgc3VwcG9ydCB1c2luZyBAYXdzLXNkay9jbGllbnQtczNcbmltcG9ydCB7IFN0b3JhZ2VBZGFwdGVyLCBTdG9yYWdlUmVzdWx0LCBTYXZlRXZlbnRzT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUzNTdG9yYWdlQWRhcHRlciBpbXBsZW1lbnRzIFN0b3JhZ2VBZGFwdGVyIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICBhc3luYyBzYXZlRXZlbnRzKF9ldmVudHM6IHVua25vd25bXSwgX29wdGlvbnM/OiBTYXZlRXZlbnRzT3B0aW9ucyk6IFByb21pc2U8U3RvcmFnZVJlc3VsdD4ge1xuICAgIHRocm93IG5ldyBFcnJvcignUzMgYWRhcHRlciBub3QgY29uZmlndXJlZC4gU2V0IFNUT1JBR0VfQkFDS0VORD1zMyBhbmQgcHJvdmlkZSBBV1MgY3JlZGVudGlhbHMuJyk7XG4gIH1cbn1cblxuXG5cblxuXG4iXSwibmFtZXMiOlsiUzNTdG9yYWdlQWRhcHRlciIsInNhdmVFdmVudHMiLCJfZXZlbnRzIiwiX29wdGlvbnMiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/storage/s3-adapter.ts\n");

/***/ }),

/***/ "(rsc)/./src/schema/mod.ts":
/*!***************************!*\
  !*** ./src/schema/mod.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AI_TOOL_CALL_MIME_TYPE: () => (/* binding */ AI_TOOL_CALL_MIME_TYPE),\n/* harmony export */   AI_TOOL_MIME_TYPES: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.AI_TOOL_MIME_TYPES),\n/* harmony export */   AI_TOOL_RESULT_MIME_TYPE: () => (/* binding */ AI_TOOL_RESULT_MIME_TYPE),\n/* harmony export */   APPLICATION_MIME_TYPES: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.APPLICATION_MIME_TYPES),\n/* harmony export */   ActorTypeSchema: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.ActorTypeSchema),\n/* harmony export */   CellTypeSchema: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.CellTypeSchema),\n/* harmony export */   ExecutionStateSchema: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.ExecutionStateSchema),\n/* harmony export */   IMAGE_MIME_TYPES: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.IMAGE_MIME_TYPES),\n/* harmony export */   JUPYTER_MIME_TYPES: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.JUPYTER_MIME_TYPES),\n/* harmony export */   KNOWN_MIME_TYPES: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.KNOWN_MIME_TYPES),\n/* harmony export */   MediaRepresentationSchema: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema),\n/* harmony export */   OutputTypeSchema: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.OutputTypeSchema),\n/* harmony export */   QueueStatusSchema: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.QueueStatusSchema),\n/* harmony export */   RuntimeStatusSchema: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.RuntimeStatusSchema),\n/* harmony export */   TEXT_MIME_TYPES: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.TEXT_MIME_TYPES),\n/* harmony export */   adjacentCells: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.adjacentCells),\n/* harmony export */   applyDeltas: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.applyDeltas),\n/* harmony export */   cellFractionalIndex: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellFractionalIndex),\n/* harmony export */   cellIDs$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellIDs$),\n/* harmony export */   cellList$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellList$),\n/* harmony export */   cellOrdering$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellOrdering$),\n/* harmony export */   cellPositionInfo: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellPositionInfo),\n/* harmony export */   cellQuery: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellQuery),\n/* harmony export */   cellReferences$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellReferences$),\n/* harmony export */   cells$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cells$),\n/* harmony export */   cellsAfter: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellsAfter),\n/* harmony export */   cellsBefore: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellsBefore),\n/* harmony export */   cellsInRange: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellsInRange),\n/* harmony export */   cellsWithIndices$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.cellsWithIndices$),\n/* harmony export */   createCellBetween: () => (/* binding */ createCellBetween),\n/* harmony export */   createCellBetweenAndCommit: () => (/* binding */ createCellBetweenAndCommit),\n/* harmony export */   createTestJitterProvider: () => (/* binding */ createTestJitterProvider),\n/* harmony export */   defaultJitterProvider: () => (/* binding */ defaultJitterProvider),\n/* harmony export */   events: () => (/* binding */ events),\n/* harmony export */   firstCell$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.firstCell$),\n/* harmony export */   fractionalIndexBetween: () => (/* binding */ fractionalIndexBetween),\n/* harmony export */   fractionalIndexBetweenWithFallback: () => (/* binding */ fractionalIndexBetweenWithFallback),\n/* harmony export */   generateFractionalIndices: () => (/* binding */ generateFractionalIndices),\n/* harmony export */   getAdjacentCells: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.getAdjacentCells),\n/* harmony export */   getFinalContent: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.getFinalContent),\n/* harmony export */   getNotebookInfo: () => (/* binding */ getNotebookInfo),\n/* harmony export */   getNotebookMetadata: () => (/* binding */ getNotebookMetadata),\n/* harmony export */   initialFractionalIndex: () => (/* binding */ initialFractionalIndex),\n/* harmony export */   isAiToolCallData: () => (/* binding */ isAiToolCallData),\n/* harmony export */   isAiToolMimeType: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.isAiToolMimeType),\n/* harmony export */   isAiToolResultData: () => (/* binding */ isAiToolResultData),\n/* harmony export */   isApplicationMimeType: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.isApplicationMimeType),\n/* harmony export */   isArtifactContainer: () => (/* binding */ isArtifactContainer),\n/* harmony export */   isErrorOutput: () => (/* binding */ isErrorOutput),\n/* harmony export */   isImageMimeType: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.isImageMimeType),\n/* harmony export */   isInlineContainer: () => (/* binding */ isInlineContainer),\n/* harmony export */   isJsonMimeType: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.isJsonMimeType),\n/* harmony export */   isJupyterMimeType: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.isJupyterMimeType),\n/* harmony export */   isKnownMimeType: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.isKnownMimeType),\n/* harmony export */   isRichOutput: () => (/* binding */ isRichOutput),\n/* harmony export */   isTextBasedMimeType: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.isTextBasedMimeType),\n/* harmony export */   isTextMimeType: () => (/* reexport safe */ _types_ts__WEBPACK_IMPORTED_MODULE_0__.isTextMimeType),\n/* harmony export */   isValidFractionalIndex: () => (/* binding */ isValidFractionalIndex),\n/* harmony export */   lastCell$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.lastCell$),\n/* harmony export */   materializers: () => (/* binding */ materializers),\n/* harmony export */   moveCellBetween: () => (/* binding */ moveCellBetween),\n/* harmony export */   moveCellBetweenAndCommit: () => (/* binding */ moveCellBetweenAndCommit),\n/* harmony export */   moveCellBetweenWithRebalancing: () => (/* binding */ moveCellBetweenWithRebalancing),\n/* harmony export */   moveCellWithRebalancing: () => (/* binding */ moveCellWithRebalancing),\n/* harmony export */   needsRebalancing: () => (/* binding */ needsRebalancing),\n/* harmony export */   neighboringCells: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.neighboringCells),\n/* harmony export */   notebookMetadata$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.notebookMetadata$),\n/* harmony export */   outputDeltas$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.outputDeltas$),\n/* harmony export */   outputDeltasQuery: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.outputDeltasQuery),\n/* harmony export */   rebalanceCellIndices: () => (/* binding */ rebalanceCellIndices),\n/* harmony export */   runtimeSessions$: () => (/* reexport safe */ _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__.runtimeSessions$),\n/* harmony export */   tables: () => (/* reexport safe */ _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables),\n/* harmony export */   validateFractionalIndexOrder: () => (/* binding */ validateFractionalIndexOrder)\n/* harmony export */ });\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/@livestore/common/dist/schema/EventDef.js\");\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var _types_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.ts */ \"(rsc)/./src/schema/types.ts\");\n/* harmony import */ var _tables_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tables.ts */ \"(rsc)/./src/schema/tables.ts\");\n/* harmony import */ var _queries_index_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queries/index.ts */ \"(rsc)/./src/schema/queries/index.ts\");\n\n\n\n\n\n\n/**\n * CLIENT AUTHENTICATION PATTERNS\n *\n * The LiveStore sync backend validates client connections using authToken and clientId.\n * Different client types use different authentication patterns:\n *\n * SERVICE CLIENTS (runtime: true):\n * - Runtime agents: clientId = runtimeId (e.g. \"python-runtime-123\")\n * - Notebook runners: clientId = \"automation-client\" (headless execution)\n * - TUI clients: clientId = \"tui-client\" (terminal interface)\n * - Service clients use RUNT_API_KEY for user authentication (AUTH_TOKEN as service fallback)\n * - ClientId must be non-numeric to prevent user impersonation\n *\n * USER CLIENTS (runtime: false/undefined):\n * - Regular users: clientId = authenticated user ID\n * - Anonymous users: clientId = \"anonymous-user\"\n * - User clients use OIDC tokens for authentication\n * - ClientId must match authenticated user ID\n *\n * PRESENCE DISPLAY:\n * - Runtime agents: Bot icon with runtimeType label\n * - Notebook runners: Play icon (headless execution you can monitor)\n * - TUI clients: Terminal icon (terminal interface)\n * - Regular users: User avatar/initials\n */ // Events describe notebook and cell changes\n// All events are scoped to a single notebook (storeId = notebookId)\nconst events = {\n    debug1: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.Debug\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    // Notebook events (single notebook per store)\n    /** @deprecated  */ notebookInitialized: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.NotebookInitialized\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            title: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            ownerId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    notebookTitleChanged: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.NotebookTitleChanged\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            title: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    notebookMetadataSet: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.NotebookMetadataSet\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            key: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            value: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    // Cell events\n    cellCreated: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.CellCreated\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellType: _types_ts__WEBPACK_IMPORTED_MODULE_0__.CellTypeSchema,\n            position: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number,\n            createdBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    /**\n  v2 cell created with fractional indexing\n   {\n     id: CellId,\n     fractionalIndex: string, // Fractional index (e.g., \"a0\", \"a5\", \"b0\")\n     cellType: CellType,\n   }\n\n   Note: fractionalIndex column has been added to cells table.\n   Future migration steps:\n   1. Migrate existing cells to use fractional indices based on position\n   2. Update all queries to use ORDER BY fractionalIndex instead of position\n   3. Eventually deprecate position column from cells table\n   4. Update v1.CellCreated to calculate fractional index\n   */ cellCreated2: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v2.CellCreated\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            fractionalIndex: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String.annotations({\n                description: \"Jittered fractional index for deterministic ordering\"\n            }),\n            cellType: _types_ts__WEBPACK_IMPORTED_MODULE_0__.CellTypeSchema,\n            createdBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    cellSourceChanged: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.CellSourceChanged\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            source: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            modifiedBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    cellTypeChanged: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.CellTypeChanged\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellType: _types_ts__WEBPACK_IMPORTED_MODULE_0__.CellTypeSchema,\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    cellDeleted: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.CellDeleted\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    cellMoved: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.CellMoved\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            newPosition: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number,\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    cellMoved2: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v2.CellMoved\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            fractionalIndex: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String.annotations({\n                description: \"New fractional index position for the cell\"\n            }),\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    cellSourceVisibilityToggled: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.CellSourceVisibilityToggled\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            sourceVisible: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Boolean,\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    cellOutputVisibilityToggled: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.CellOutputVisibilityToggled\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            outputVisible: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Boolean,\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    cellAiContextVisibilityToggled: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.CellAiContextVisibilityToggled\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            aiContextVisible: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Boolean,\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    // Runtime lifecycle events\n    runtimeSessionStarted: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.RuntimeSessionStarted\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            sessionId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            runtimeId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            runtimeType: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            capabilities: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n                canExecuteCode: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Boolean,\n                canExecuteSql: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Boolean,\n                canExecuteAi: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Boolean,\n                availableAiModels: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Any)\n            })\n        })\n    }),\n    presenceSet: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.PresenceSet\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            userId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    runtimeSessionStatusChanged: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.RuntimeSessionStatusChanged\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            sessionId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            status: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Literal(\"ready\", \"busy\", \"restarting\")\n        })\n    }),\n    runtimeSessionTerminated: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.RuntimeSessionTerminated\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            sessionId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            reason: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Literal(\"shutdown\", \"restart\", \"error\", \"timeout\", \"displaced\")\n        })\n    }),\n    // Execution queue events\n    executionRequested: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.ExecutionRequested\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            queueId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            executionCount: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number,\n            requestedBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    executionAssigned: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.ExecutionAssigned\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            queueId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            runtimeSessionId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    executionStarted: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.ExecutionStarted\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            queueId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            runtimeSessionId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            startedAt: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Date\n        })\n    }),\n    executionCompleted: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.ExecutionCompleted\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            queueId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            status: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Literal(\"success\", \"error\", \"cancelled\"),\n            error: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String),\n            completedAt: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Date,\n            executionDurationMs: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number\n        })\n    }),\n    executionCancelled: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.ExecutionCancelled\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            queueId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cancelledBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            actorId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String),\n            reason: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    // Unified output system - granular events replacing cellOutputAdded\n    multimediaDisplayOutputAdded: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.MultimediaDisplayOutputAdded\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            position: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number,\n            representations: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Record({\n                key: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n                value: _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema\n            }),\n            displayId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    multimediaDisplayOutputUpdated: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.MultimediaDisplayOutputUpdated\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            displayId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            representations: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Record({\n                key: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n                value: _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema\n            })\n        })\n    }),\n    multimediaResultOutputAdded: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.MultimediaResultOutputAdded\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            position: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number,\n            representations: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Record({\n                key: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n                value: _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema\n            }),\n            executionCount: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number\n        })\n    }),\n    terminalOutputAdded: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.TerminalOutputAdded\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            position: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number,\n            content: _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema,\n            streamName: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Literal(\"stdout\", \"stderr\")\n        })\n    }),\n    /** @deprecated  */ terminalOutputAppended: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.TerminalOutputAppended\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            outputId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            content: _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema\n        })\n    }),\n    terminalOutputAppended2: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v2.TerminalOutputAppended\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            outputId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            delta: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            sequenceNumber: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number\n        })\n    }),\n    markdownOutputAdded: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.MarkdownOutputAdded\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            position: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number,\n            content: _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema\n        })\n    }),\n    /** @deprecated  */ markdownOutputAppended: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.MarkdownOutputAppended\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            outputId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            content: _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema\n        })\n    }),\n    markdownOutputAppended2: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v2.MarkdownOutputAppended\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            outputId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            delta: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            sequenceNumber: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number\n        })\n    }),\n    errorOutputAdded: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.ErrorOutputAdded\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            position: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number,\n            content: _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema\n        })\n    }),\n    cellOutputsCleared: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.CellOutputsCleared\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            wait: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Boolean,\n            clearedBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    // AI events\n    aiSettingsChanged: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.AiSettingsChanged\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            provider: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            model: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            settings: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n                temperature: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number),\n                maxTokens: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Number),\n                systemPrompt: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n            })\n        })\n    }),\n    // SQL events\n    sqlConnectionChanged: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.SqlConnectionChanged\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            connectionId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String),\n            changedBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    sqlResultVariableChanged: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.SqlResultVariableChanged\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            resultVariable: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String),\n            changedBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String\n        })\n    }),\n    // UI state\n    uiStateSet: _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.uiState.set,\n    actorProfileSet: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.ActorProfileSet\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            type: _types_ts__WEBPACK_IMPORTED_MODULE_0__.ActorTypeSchema,\n            displayName: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            avatar: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String)\n        })\n    }),\n    // Tool approval events\n    toolApprovalRequested: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.ToolApprovalRequested\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            toolCallId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            toolName: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            arguments: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Record({\n                key: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n                value: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Any\n            }),\n            requestedAt: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Date\n        })\n    }),\n    toolApprovalResponded: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.synced({\n        name: \"v1.ToolApprovalResponded\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Struct({\n            toolCallId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            status: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Literal(\"approved_once\", \"approved_always\", \"denied\"),\n            approvedBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.String,\n            respondedAt: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.Date\n        })\n    })\n};\n// Helper function to select primary representation from multimedia data\nfunction selectPrimaryRepresentation(representations, preferredMimeTypes = [\n    // JSON-based formats first (highest priority for rich data)\n    \"application/vnd.plotly.v1+json\",\n    \"application/vnd.vegalite.v6+json\",\n    \"application/vnd.vegalite.v5+json\",\n    \"application/vnd.vegalite.v4+json\",\n    \"application/vnd.vegalite.v3+json\",\n    \"application/vnd.vegalite.v2+json\",\n    \"application/vnd.vega.v5+json\",\n    \"application/vnd.vega.v4+json\",\n    \"application/vnd.vega.v3+json\",\n    \"application/vnd.jupyter.widget-view+json\",\n    \"application/vnd.jupyter.widget-state+json\",\n    \"application/vnd.dataresource+json\",\n    \"application/vdom.v1+json\",\n    \"application/geo+json\",\n    \"application/json\",\n    // Interactive content\n    \"application/javascript\",\n    // Rich display formats\n    \"text/html\",\n    \"image/svg+xml\",\n    // Binary images\n    \"image/png\",\n    \"image/jpeg\",\n    \"image/gif\",\n    // Text formats\n    \"text/latex\",\n    \"text/markdown\",\n    \"text/plain\"\n]) {\n    for (const mimeType of preferredMimeTypes){\n        if (representations[mimeType]) {\n            return {\n                mimeType,\n                container: representations[mimeType]\n            };\n        }\n    }\n    return null;\n}\n// Helper function to update existing displays with same displayId\nfunction updateExistingDisplays(displayId, representations, // deno-lint-ignore no-explicit-any\nctx) {\n    const existingOutputs = ctx.query(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.select().where({\n        displayId,\n        outputType: \"multimedia_display\"\n    }));\n    if (existingOutputs.length === 0) {\n        return [];\n    }\n    const primaryRep = selectPrimaryRepresentation(representations);\n    if (!primaryRep) {\n        return [];\n    }\n    const { mimeType, container } = primaryRep;\n    const data = container.type === \"inline\" ? String(container.data || \"\") : \"\";\n    return [\n        _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.update({\n            data,\n            mimeType,\n            representations\n        }).where({\n            displayId,\n            outputType: \"multimedia_display\"\n        })\n    ];\n}\n// Shared helper function for updating presence\nfunction updatePresence(userId, cellId) {\n    return _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.presence.insert({\n        userId,\n        cellId: cellId || null\n    }).onConflict(\"userId\", \"replace\");\n}\n// Materializers map events to state changes\nconst materializers = _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.materializers(events, {\n    \"v1.Debug\": (event, ctx)=>{\n        const existingDebug = ctx.query(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.debug.select().where({\n            id: event.id\n        }).limit(1))[0];\n        if (existingDebug) {\n            return [];\n        }\n        return [\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.debug.insert({\n                id: event.id\n            }).onConflict(\"id\", \"replace\")\n        ];\n    },\n    // Notebook materializers\n    /** @deprecated */ \"v1.NotebookInitialized\": ({ id, title, ownerId })=>[\n            // Legacy event - convert to metadata format\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.notebookMetadata.insert({\n                key: \"title\",\n                value: title\n            }).onConflict(\"key\", \"replace\"),\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.notebookMetadata.insert({\n                key: \"ownerId\",\n                value: ownerId\n            }).onConflict(\"key\", \"replace\"),\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.debug.insert({\n                id\n            }).onConflict(\"id\", \"replace\")\n        ],\n    \"v1.NotebookTitleChanged\": ({ title })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.notebookMetadata.insert({\n            key: \"title\",\n            value: title\n        }).onConflict(\"key\", \"replace\"),\n    \"v1.NotebookMetadataSet\": ({ key, value })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.notebookMetadata.insert({\n            key,\n            value\n        }).onConflict(\"key\", \"replace\"),\n    // Cell materializers\n    \"v1.CellCreated\": ({ id, cellType, position, createdBy, actorId })=>[\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.insert({\n                id,\n                cellType,\n                // Convert position to deterministic fractional index in base36 format\n                // Position 0 -> \"a0\", Position 1 -> \"a1\", etc.\n                fractionalIndex: \"a\" + Math.floor(position).toString(36),\n                createdBy\n            }).onConflict(\"id\", \"ignore\"),\n            // Update presence table\n            updatePresence(actorId || createdBy, id)\n        ],\n    \"v2.CellCreated\": ({ id, fractionalIndex, cellType, createdBy })=>{\n        // With fractional indexing, we don't need ctx.query!\n        // The order is already calculated client-side\n        const ops = [];\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.insert({\n            id,\n            cellType,\n            fractionalIndex,\n            createdBy\n        }).onConflict(\"id\", \"ignore\"));\n        // Update presence for the creator\n        ops.push(updatePresence(createdBy, id));\n        return ops;\n    },\n    \"v1.CellSourceChanged\": ({ id, source, modifiedBy })=>[\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n                source\n            }).where({\n                id\n            }),\n            // Update presence based on cell source modification\n            updatePresence(modifiedBy, id)\n        ],\n    \"v1.CellTypeChanged\": ({ id, cellType, actorId })=>{\n        const ops = [];\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n            cellType\n        }).where({\n            id\n        }));\n        if (actorId) {\n            ops.push(updatePresence(actorId, id));\n        }\n        return ops;\n    },\n    \"v1.CellDeleted\": ({ id, actorId })=>{\n        const ops = [];\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.delete().where({\n            id\n        }));\n        if (actorId) {\n            ops.push(updatePresence(actorId, id));\n        }\n        return ops;\n    },\n    \"v1.CellMoved\": ({ id, newPosition, actorId })=>{\n        const ops = [];\n        // Convert position to deterministic fractional index in base36 format\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n            fractionalIndex: \"a\" + Math.floor(newPosition).toString(36)\n        }).where({\n            id\n        }));\n        if (actorId) {\n            ops.push(updatePresence(actorId, id));\n        }\n        return ops;\n    },\n    \"v2.CellMoved\": ({ id, fractionalIndex, actorId })=>{\n        const ops = [];\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n            fractionalIndex\n        }).where({\n            id\n        }));\n        if (actorId) {\n            ops.push(updatePresence(actorId, id));\n        }\n        return ops;\n    },\n    \"v1.CellSourceVisibilityToggled\": ({ id, sourceVisible, actorId })=>{\n        const ops = [];\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n            sourceVisible\n        }).where({\n            id\n        }));\n        if (actorId) {\n            ops.push(updatePresence(actorId, id));\n        }\n        return ops;\n    },\n    \"v1.CellOutputVisibilityToggled\": ({ id, outputVisible, actorId })=>{\n        const ops = [];\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n            outputVisible\n        }).where({\n            id\n        }));\n        if (actorId) {\n            ops.push(updatePresence(actorId, id));\n        }\n        return ops;\n    },\n    \"v1.CellAiContextVisibilityToggled\": ({ id, aiContextVisible, actorId })=>{\n        const ops = [];\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n            aiContextVisible\n        }).where({\n            id\n        }));\n        if (actorId) {\n            ops.push(updatePresence(actorId, id));\n        }\n        return ops;\n    },\n    \"v1.PresenceSet\": ({ userId, cellId })=>updatePresence(userId, cellId),\n    // Runtime lifecycle materializers\n    \"v1.RuntimeSessionStarted\": ({ sessionId, runtimeId, runtimeType, capabilities })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.runtimeSessions.insert({\n            sessionId,\n            runtimeId,\n            runtimeType,\n            status: \"starting\",\n            canExecuteCode: capabilities.canExecuteCode,\n            canExecuteSql: capabilities.canExecuteSql,\n            canExecuteAi: capabilities.canExecuteAi,\n            availableAiModels: capabilities.availableAiModels || null\n        }).onConflict(\"sessionId\", \"replace\"),\n    \"v1.RuntimeSessionStatusChanged\": ({ sessionId, status })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.runtimeSessions.update({\n            status\n        }).where({\n            sessionId\n        }),\n    \"v1.RuntimeSessionTerminated\": ({ sessionId })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.runtimeSessions.update({\n            status: \"terminated\",\n            isActive: false\n        }).where({\n            sessionId\n        }),\n    // Execution queue materializers\n    \"v1.ExecutionRequested\": ({ queueId, cellId, executionCount, requestedBy, actorId })=>[\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.executionQueue.insert({\n                id: queueId,\n                cellId,\n                executionCount,\n                requestedBy,\n                status: \"pending\"\n            }).onConflict(\"id\", \"ignore\"),\n            // Update cell execution state\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n                executionState: \"queued\",\n                executionCount\n            }).where({\n                id: cellId\n            }),\n            // Update presence table\n            updatePresence(actorId || requestedBy, cellId)\n        ],\n    \"v1.ExecutionAssigned\": ({ queueId, runtimeSessionId })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.executionQueue.update({\n            status: \"assigned\",\n            assignedRuntimeSession: runtimeSessionId\n        }).where({\n            id: queueId\n        }),\n    \"v1.ExecutionStarted\": ({ queueId, cellId, runtimeSessionId, startedAt })=>[\n            // Update execution queue\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.executionQueue.update({\n                status: \"executing\",\n                startedAt: startedAt\n            }).where({\n                id: queueId\n            }),\n            // Update cell execution state\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n                executionState: \"running\",\n                assignedRuntimeSession: runtimeSessionId\n            }).where({\n                id: cellId\n            })\n        ],\n    \"v1.ExecutionCompleted\": ({ queueId, cellId, status, completedAt, executionDurationMs })=>[\n            // Update execution queue\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.executionQueue.update({\n                status: status === \"success\" ? \"completed\" : \"failed\",\n                completedAt: completedAt,\n                executionDurationMs: executionDurationMs\n            }).where({\n                id: queueId\n            }),\n            // Update cell execution state\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n                executionState: status === \"success\" ? \"completed\" : \"error\",\n                lastExecutionDurationMs: executionDurationMs\n            }).where({\n                id: cellId\n            })\n        ],\n    \"v1.ExecutionCancelled\": ({ queueId, cellId, cancelledBy, actorId })=>[\n            // Update execution queue\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.executionQueue.update({\n                status: \"cancelled\"\n            }).where({\n                id: queueId\n            }),\n            // Update cell execution state\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n                executionState: \"idle\"\n            }).where({\n                id: cellId\n            }),\n            // Update presence table\n            updatePresence(actorId || cancelledBy, cellId)\n        ],\n    // Unified output system materializers with pending clear support\n    \"v1.MultimediaDisplayOutputAdded\": ({ id, cellId, position, representations, displayId }, ctx)=>{\n        const ops = [];\n        // Check for pending clears\n        const pendingClear = ctx.query(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.select().where({\n            cellId\n        }).limit(1))[0];\n        if (pendingClear) {\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.delete().where({\n                cellId\n            }));\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.delete().where({\n                cellId\n            }));\n        }\n        // If displayId provided, update all existing displays with same ID first\n        if (displayId) {\n            ops.push(...updateExistingDisplays(displayId, representations, ctx));\n        }\n        // Always create new output (core behavior of \"Added\" event)\n        const primaryRep = selectPrimaryRepresentation(representations);\n        const primaryData = primaryRep ? primaryRep.container.type === \"inline\" ? String(primaryRep.container.data || \"\") : \"\" : \"\";\n        const primaryMimeType = primaryRep ? primaryRep.mimeType : \"text/plain\";\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.insert({\n            id,\n            cellId,\n            outputType: \"multimedia_display\",\n            position,\n            displayId: displayId || null,\n            data: primaryData,\n            artifactId: null,\n            mimeType: primaryMimeType,\n            metadata: null,\n            representations\n        }).onConflict(\"id\", \"replace\"));\n        return ops;\n    },\n    \"v1.MultimediaDisplayOutputUpdated\": ({ displayId, representations }, ctx)=>{\n        // Only update existing displays - no new output creation\n        return updateExistingDisplays(displayId, representations, ctx);\n    },\n    \"v1.MultimediaResultOutputAdded\": ({ id, cellId, position, representations, executionCount }, ctx)=>{\n        const ops = [];\n        // Check for pending clears\n        const pendingClear = ctx.query(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.select().where({\n            cellId\n        }).limit(1))[0];\n        if (pendingClear) {\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.delete().where({\n                cellId\n            }));\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.delete().where({\n                cellId\n            }));\n        }\n        // Choose primary representation\n        const preferenceOrder = [\n            \"text/html\",\n            \"image/png\",\n            \"image/jpeg\",\n            \"image/svg+xml\",\n            \"application/json\",\n            \"text/plain\"\n        ];\n        let primaryData = \"\";\n        let primaryMimeType = \"text/plain\";\n        for (const mimeType of preferenceOrder){\n            if (representations[mimeType]) {\n                const rep = representations[mimeType];\n                primaryData = rep.type === \"inline\" ? String(rep.data || \"\") : \"\";\n                primaryMimeType = mimeType;\n                break;\n            }\n        }\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.insert({\n            id,\n            cellId,\n            outputType: \"multimedia_result\",\n            position,\n            executionCount,\n            data: primaryData,\n            artifactId: null,\n            mimeType: primaryMimeType,\n            metadata: null,\n            representations\n        }).onConflict(\"id\", \"replace\"));\n        return ops;\n    },\n    \"v1.TerminalOutputAdded\": ({ id, cellId, position, content, streamName }, ctx)=>{\n        const ops = [];\n        // Check for pending clears\n        const pendingClear = ctx.query(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.select().where({\n            cellId\n        }).limit(1))[0];\n        if (pendingClear) {\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.delete().where({\n                cellId\n            }));\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.delete().where({\n                cellId\n            }));\n        }\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.insert({\n            id,\n            cellId,\n            outputType: \"terminal\",\n            position,\n            streamName,\n            data: content.type === \"inline\" ? String(content.data) : null,\n            artifactId: content.type === \"artifact\" ? content.artifactId : null,\n            mimeType: \"text/plain\",\n            metadata: content.metadata || null,\n            representations: null\n        }).onConflict(\"id\", \"replace\"));\n        return ops;\n    },\n    \"v1.TerminalOutputAppended\": ({ outputId, content }, ctx)=>{\n        const existingOutput = ctx.query(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.select().where({\n            id: outputId\n        }).limit(1))[0];\n        if (!existingOutput) {\n            return [];\n        }\n        const newContent = content.type === \"inline\" ? String(content.data) : \"\";\n        const concatenatedData = (existingOutput.data || \"\") + newContent;\n        return [\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.update({\n                data: concatenatedData\n            }).where({\n                id: outputId\n            })\n        ];\n    },\n    \"v2.TerminalOutputAppended\": ({ outputId, delta, id, sequenceNumber })=>{\n        return _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputDeltas.insert({\n            id,\n            outputId,\n            delta,\n            sequenceNumber\n        });\n    },\n    \"v1.MarkdownOutputAdded\": ({ id, cellId, position, content }, ctx)=>{\n        const ops = [];\n        // Check for pending clears\n        const pendingClear = ctx.query(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.select().where({\n            cellId\n        }).limit(1))[0];\n        if (pendingClear) {\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.delete().where({\n                cellId\n            }));\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.delete().where({\n                cellId\n            }));\n        }\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.insert({\n            id,\n            cellId,\n            outputType: \"markdown\",\n            position,\n            data: content.type === \"inline\" ? String(content.data) : null,\n            artifactId: content.type === \"artifact\" ? content.artifactId : null,\n            mimeType: \"text/markdown\",\n            metadata: content.metadata || null,\n            representations: null\n        }).onConflict(\"id\", \"replace\"));\n        return ops;\n    },\n    /**@deprecated */ \"v1.MarkdownOutputAppended\": ({ outputId, content }, ctx)=>{\n        const existingOutput = ctx.query(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.select().where({\n            id: outputId\n        }).limit(1))[0];\n        if (!existingOutput) {\n            return [];\n        }\n        const newContent = content.type === \"inline\" ? String(content.data) : \"\";\n        const concatenatedData = (existingOutput.data || \"\") + newContent;\n        return [\n            _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.update({\n                data: concatenatedData\n            }).where({\n                id: outputId\n            })\n        ];\n    },\n    \"v2.MarkdownOutputAppended\": ({ id, outputId, delta, sequenceNumber })=>{\n        return _tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputDeltas.insert({\n            id,\n            outputId,\n            delta,\n            sequenceNumber\n        });\n    },\n    \"v1.ErrorOutputAdded\": ({ id, cellId, position, content }, ctx)=>{\n        const ops = [];\n        // Check for pending clears\n        const pendingClear = ctx.query(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.select().where({\n            cellId\n        }).limit(1))[0];\n        if (pendingClear) {\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.delete().where({\n                cellId\n            }));\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.delete().where({\n                cellId\n            }));\n        }\n        ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.insert({\n            id,\n            cellId,\n            outputType: \"error\",\n            position,\n            data: content.type === \"inline\" ? JSON.stringify(content.data) : null,\n            artifactId: content.type === \"artifact\" ? content.artifactId : null,\n            mimeType: \"application/json\",\n            metadata: content.metadata || null,\n            representations: null\n        }).onConflict(\"id\", \"replace\"));\n        return ops;\n    },\n    \"v1.CellOutputsCleared\": ({ cellId, wait, clearedBy })=>{\n        const ops = [];\n        if (wait) {\n            // Store pending clear for wait=True\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.pendingClears.insert({\n                cellId,\n                clearedBy\n            }).onConflict(\"cellId\", \"replace\"));\n        } else {\n            // Immediate clear for wait=False\n            ops.push(_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.outputs.delete().where({\n                cellId\n            }));\n        }\n        // Add presence update if user is provided\n        if (clearedBy) {\n            ops.push(updatePresence(clearedBy, cellId));\n        }\n        return ops;\n    },\n    // AI materializers\n    \"v1.AiSettingsChanged\": ({ cellId, provider, model, settings })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n            aiProvider: provider,\n            aiModel: model,\n            aiSettings: settings\n        }).where({\n            id: cellId\n        }),\n    // SQL materializers\n    \"v1.SqlConnectionChanged\": ({ cellId, connectionId })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n            sqlConnectionId: connectionId ?? null\n        }).where({\n            id: cellId\n        }),\n    \"v1.SqlResultVariableChanged\": ({ cellId, resultVariable })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.cells.update({\n            sqlResultVariable: resultVariable ?? null\n        }).where({\n            id: cellId\n        }),\n    \"v1.ActorProfileSet\": ({ id, type, displayName, avatar })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.actors.insert({\n            id,\n            type,\n            displayName,\n            avatar: avatar ?? null\n        }).onConflict(\"id\", \"replace\"),\n    // Tool approval materializers\n    \"v1.ToolApprovalRequested\": ({ toolCallId, cellId, toolName, arguments: _args, requestedAt })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.toolApprovals.insert({\n            toolCallId,\n            cellId,\n            toolName,\n            status: \"pending\",\n            approvedBy: null,\n            requestedAt,\n            respondedAt: null\n        }).onConflict(\"toolCallId\", \"replace\"),\n    \"v1.ToolApprovalResponded\": ({ toolCallId, status, approvedBy, respondedAt })=>_tables_ts__WEBPACK_IMPORTED_MODULE_1__.tables.toolApprovals.update({\n            status,\n            approvedBy,\n            respondedAt\n        }).where({\n            toolCallId\n        })\n});\n// Type guards for MediaContainer\nfunction isInlineContainer(container) {\n    return container.type === \"inline\";\n}\nfunction isArtifactContainer(container) {\n    return container.type === \"artifact\";\n}\n// Helper function to get notebook metadata with defaults\nfunction getNotebookMetadata(metadataRecords, key, defaultValue = \"\") {\n    const record = metadataRecords.find((r)=>r.key === key);\n    return record?.value ?? defaultValue;\n}\n// Helper to get common notebook metadata values\nfunction getNotebookInfo(metadataRecords) {\n    return {\n        title: getNotebookMetadata(metadataRecords, \"title\", \"Untitled\"),\n        ownerId: getNotebookMetadata(metadataRecords, \"ownerId\", \"anonymous\"),\n        runtimeType: getNotebookMetadata(metadataRecords, \"runtimeType\", \"python3\"),\n        isPublic: getNotebookMetadata(metadataRecords, \"isPublic\", \"false\") === \"true\"\n    };\n}\n// Type guards for output data\nfunction isErrorOutput(data) {\n    return typeof data === \"object\" && data !== null && \"ename\" in data && \"evalue\" in data && typeof data.ename === \"string\" && typeof data.evalue === \"string\";\n}\nfunction isRichOutput(data) {\n    return typeof data === \"object\" && data !== null && !isErrorOutput(data);\n}\n/**\n * Type guard to check if data is an AI tool call\n */ function isAiToolCallData(data) {\n    return typeof data === \"object\" && data !== null && \"tool_call_id\" in data && \"tool_name\" in data && \"arguments\" in data && typeof data.tool_call_id === \"string\" && typeof data.tool_name === \"string\" && typeof data.arguments === \"object\";\n}\n/**\n * Type guard to check if data is an AI tool result\n */ function isAiToolResultData(data) {\n    return typeof data === \"object\" && data !== null && \"tool_call_id\" in data && \"status\" in data && typeof data.tool_call_id === \"string\" && typeof data.status === \"string\" && [\n        \"success\",\n        \"error\"\n    ].includes(data.status);\n}\n/**\n * AI tool call MIME type constant\n */ const AI_TOOL_CALL_MIME_TYPE = \"application/vnd.anode.aitool+json\";\n/**\n * AI tool result MIME type constant\n */ const AI_TOOL_RESULT_MIME_TYPE = \"application/vnd.anode.aitool.result+json\";\n// Export fractional indexing utilities with optional jittering\n/**\n * Binary-collation-safe fractional indexing implementation.\n * Uses only characters 0-9 and a-z which sort correctly in binary/ASCII collation.\n * This avoids the uppercase/lowercase sorting issues with the fractional-indexing library.\n */ const BASE36_DIGITS = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nconst BASE = BASE36_DIGITS.length;\nfunction charToValue(char) {\n    const index = BASE36_DIGITS.indexOf(char);\n    if (index === -1) {\n        throw new Error(`Invalid character: ${char}`);\n    }\n    return index;\n}\nfunction valueToChar(value) {\n    if (value < 0 || value >= BASE) {\n        throw new Error(`Value out of range: ${value}`);\n    }\n    return BASE36_DIGITS[value];\n}\nfunction generateKeyBetween(a, b) {\n    // Handle null/undefined cases\n    if (!a && !b) return \"m\"; // Middle of the range\n    if (!a) return generateKeyBefore(b);\n    if (!b) return generateKeyAfter(a);\n    // Ensure a < b\n    if (a >= b) {\n        throw new Error(`Invalid range: ${a} >= ${b}`);\n    }\n    // Find the first position where they differ\n    let i = 0;\n    while(i < a.length && i < b.length && a[i] === b[i]){\n        i++;\n    }\n    // If a is a prefix of b, we need special handling\n    if (i === a.length) {\n        const nextChar = b[i];\n        if (!nextChar) {\n            throw new Error(`Invalid index ${i} for string ${b}`);\n        }\n        const nextVal = charToValue(nextChar);\n        // If b continues with a character > 0, we can insert a midpoint\n        if (nextVal > 0) {\n            // We can fit something between a and b\n            // For example, between \"a\" and \"a5\", we can use \"a2\"\n            const midVal = Math.floor(nextVal / 2);\n            if (midVal > 0) {\n                return a + valueToChar(midVal);\n            } else {\n                // nextVal is 1, so midVal is 0\n                // Return a + \"0\" which is between a and a + \"1\"\n                return a + \"0\";\n            }\n        } else {\n            // nextVal is 0, meaning b continues with \"0\" after a ends\n            // Check if we can insert something between them\n            if (b.length > i + 1) {\n                // b continues past the initial \"0\"\n                // Count consecutive zeros after position i in b\n                let zeroCount = 0;\n                let j = i;\n                while(j < b.length && b[j] === \"0\"){\n                    zeroCount++;\n                    j++;\n                }\n                // If b is all zeros after the prefix, we can insert a string with fewer zeros\n                // For example: between \"m\" and \"m000\", we can use \"m0\" or \"m00\"\n                if (j === b.length && zeroCount > 1) {\n                    // Use half the zeros (at least 1)\n                    return a + \"0\".repeat(Math.floor(zeroCount / 2));\n                } else if (j < b.length) {\n                    // b has a non-zero character at position j\n                    // We can insert something before that position\n                    const prefix = a + \"0\".repeat(j - i);\n                    const nextChar = b[j];\n                    if (!nextChar) {\n                        throw new Error(`Invalid index ${j} for string ${b}`);\n                    }\n                    const nextVal = charToValue(nextChar);\n                    if (nextVal > 0) {\n                        return prefix + valueToChar(Math.floor(nextVal / 2));\n                    }\n                }\n            }\n            // No space between a and b\n            throw new Error(`No string exists between \"${a}\" and \"${b}\" in base36 encoding`);\n        }\n    }\n    // If b is a prefix of a (shouldn't happen if a < b, but let's be safe)\n    if (i === b.length) {\n        throw new Error(`Invalid case: b \"${b}\" is a prefix of a \"${a}\"`);\n    }\n    // Get the values at position i\n    const aChar = a[i];\n    const bChar = b[i];\n    if (!aChar || !bChar) {\n        throw new Error(`Invalid index ${i} for strings ${a} and ${b}`);\n    }\n    const aVal = charToValue(aChar);\n    const bVal = charToValue(bChar);\n    // If there's room between them, use the midpoint\n    if (bVal - aVal > 1) {\n        const midVal = Math.floor((aVal + bVal) / 2);\n        return a.substring(0, i) + valueToChar(midVal) + a.substring(i + 1);\n    }\n    // Characters are adjacent (diff is 1)\n    // We need to extend the string to find a position\n    // If a has more characters after position i, we can increment within a's range\n    if (i < a.length - 1) {\n        // Try to find space after a[i] but within a's remaining range\n        const prefix = a.substring(0, i + 1);\n        const remaining = a.substring(i + 1);\n        // Find a position between remaining and the next possible string\n        const suffix = generateKeyAfter(remaining);\n        return prefix + suffix;\n    }\n    // a[i] and b[i] are adjacent, and a has no more characters\n    // We need to extend a with something that keeps us less than b\n    // Since b[i] = aVal + 1, we extend a with a midpoint character\n    return a.substring(0, i + 1) + \"h\";\n}\nfunction generateKeyBefore(b) {\n    if (!b || b.length === 0) {\n        return \"m\"; // Middle of range if no upper bound\n    }\n    // Find the first non-zero character\n    let i = 0;\n    while(i < b.length && b[i] === \"0\"){\n        i++;\n    }\n    if (i === b.length) {\n        // All zeros, prepend another zero\n        return \"0\" + b;\n    }\n    // Found a non-zero character\n    const char = b[i];\n    if (!char) {\n        throw new Error(`Invalid index ${i} for string ${b}`);\n    }\n    const val = charToValue(char);\n    if (i === 0 && val > 1) {\n        // Can simply use a smaller first character\n        return valueToChar(Math.floor(val / 2));\n    }\n    // Need to preserve prefix and adjust\n    const prefix = b.substring(0, i);\n    if (val > 1) {\n        return prefix + valueToChar(Math.floor(val / 2));\n    }\n    // val is 1, so we use prefix + \"0\" + midpoint\n    return prefix + \"0h\";\n}\nfunction generateKeyAfter(a) {\n    if (!a || a.length === 0) {\n        return \"m\"; // Middle of range if no lower bound\n    }\n    // Find the last character that isn't 'z'\n    let i = a.length - 1;\n    while(i >= 0 && a[i] === \"z\"){\n        i--;\n    }\n    if (i === -1) {\n        // All 'z's, need to extend\n        return a + \"h\"; // Append midpoint\n    }\n    // Can increment the character at position i\n    const prefix = a.substring(0, i);\n    const char = a[i];\n    if (!char) {\n        throw new Error(`Invalid index ${i} for string ${a}`);\n    }\n    const val = charToValue(char);\n    if (val < BASE - 2) {\n        // Simple increment\n        return prefix + valueToChar(val + 1);\n    }\n    // val is 'y', incrementing gives 'z'\n    // To avoid getting too close to the boundary, extend instead\n    return a + \"h\";\n}\n// Default jitter provider using Math.random\nconst defaultJitterProvider = {\n    random: ()=>Math.random(),\n    randomInt: (max)=>Math.floor(Math.random() * max)\n};\n// Deterministic jitter provider for testing\nconst createTestJitterProvider = (seed = 0)=>{\n    let currentSeed = seed;\n    // Simple linear congruential generator\n    const nextRandom = ()=>{\n        currentSeed = currentSeed * 1103515245 + 12345 & 0x7fffffff;\n        return currentSeed / 0x7fffffff;\n    };\n    return {\n        random: nextRandom,\n        randomInt: (max)=>Math.floor(nextRandom() * max)\n    };\n};\nfunction fractionalIndexBetween(a, b, jitterProvider = defaultJitterProvider) {\n    // Add some jitter to avoid clustering\n    const key = generateKeyBetween(a, b);\n    // For better distribution, sometimes extend the key\n    // But we must ensure the result stays within bounds\n    if (jitterProvider.random() < 0.3 && key.length < 10) {\n        const suffix = valueToChar(jitterProvider.randomInt(BASE));\n        const candidate = key + suffix;\n        // Verify the candidate maintains ordering\n        const isValid = (!a || candidate > a) && (!b || candidate < b);\n        if (isValid) {\n            return candidate;\n        }\n    }\n    return key;\n}\nfunction generateFractionalIndices(a, b, n, jitterProvider = defaultJitterProvider) {\n    if (n <= 0) return [];\n    if (n === 1) return [\n        fractionalIndexBetween(a, b, jitterProvider)\n    ];\n    const keys = [];\n    // Generate n keys by repeatedly subdividing the range\n    let prev = a;\n    for(let i = 0; i < n; i++){\n        // For better distribution, we generate keys sequentially\n        // This avoids clustering that can happen with binary subdivision\n        const key = fractionalIndexBetween(prev, b, jitterProvider);\n        keys.push(key);\n        prev = key;\n    }\n    return keys;\n}\n// Helper to get initial fractional index\nfunction initialFractionalIndex(jitterProvider = defaultJitterProvider) {\n    return fractionalIndexBetween(null, null, jitterProvider);\n}\n/**\n * Determines if a range of cells needs rebalancing due to crowded indices\n */ function needsRebalancing(cells, insertPosition) {\n    if (cells.length < 2) return false;\n    // Sort cells by fractional index\n    const sortedCells = [\n        ...cells\n    ].sort((a, b)=>(a.fractionalIndex || \"\").localeCompare(b.fractionalIndex || \"\"));\n    // Check for adjacent indices that would prevent insertion\n    for(let i = 0; i < sortedCells.length - 1; i++){\n        const current = sortedCells[i]?.fractionalIndex;\n        const next = sortedCells[i + 1]?.fractionalIndex;\n        if (!current || !next) continue;\n        try {\n            // Test if we can insert between these indices\n            fractionalIndexBetween(current, next, {\n                random: ()=>0,\n                randomInt: ()=>0\n            });\n        } catch (error) {\n            if (error instanceof Error && (error.message.includes(\"No string exists between\") || error.message.includes(\"Invalid range\"))) {\n                return true;\n            }\n        }\n    }\n    // If insertPosition is specified, check if we can insert there\n    if (insertPosition !== undefined) {\n        const beforeCell = insertPosition > 0 ? sortedCells[insertPosition - 1] : null;\n        const afterCell = insertPosition < sortedCells.length ? sortedCells[insertPosition] : null;\n        if (beforeCell && afterCell) {\n            try {\n                fractionalIndexBetween(beforeCell.fractionalIndex, afterCell.fractionalIndex, {\n                    random: ()=>0,\n                    randomInt: ()=>0\n                });\n            } catch (error) {\n                if (error instanceof Error && (error.message.includes(\"No string exists between\") || error.message.includes(\"Invalid range\"))) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n/**\n * Rebalances fractional indices for a range of cells to create space for insertions\n */ function rebalanceCellIndices(cells, options = {}) {\n    const { jitterProvider = defaultJitterProvider, actorId = \"system\", bufferCells = 2 } = options;\n    if (cells.length === 0) {\n        return {\n            newIndices: [],\n            events: []\n        };\n    }\n    // Sort cells by current fractional index\n    const sortedCells = [\n        ...cells\n    ].sort((a, b)=>(a.fractionalIndex || \"\").localeCompare(b.fractionalIndex || \"\"));\n    const newIndices = [];\n    const moveEvents = [];\n    // Calculate the range with buffer\n    const totalPositions = cells.length + bufferCells * 2;\n    // Generate evenly distributed indices\n    const indices = generateFractionalIndices(null, null, totalPositions, jitterProvider);\n    // Assign new indices to cells (skipping buffer positions)\n    for(let i = 0; i < sortedCells.length; i++){\n        const cell = sortedCells[i];\n        const newIndex = indices[i + bufferCells]; // Skip buffer positions at start\n        if (!cell || !newIndex) continue;\n        if (cell.fractionalIndex !== newIndex) {\n            newIndices.push({\n                cellId: cell.id,\n                fractionalIndex: newIndex\n            });\n            // Create move event\n            const moveEvent = events.cellMoved2({\n                id: cell.id,\n                fractionalIndex: newIndex,\n                actorId\n            });\n            moveEvents.push(moveEvent);\n        }\n    }\n    return {\n        newIndices,\n        events: moveEvents\n    };\n}\n/**\n * Calculate insertion index after rebalancing has been performed\n */ function calculateInsertionIndexAfterRebalancing(insertPosition, rebalanceResult, jitterProvider) {\n    // Get the new indices after rebalancing\n    const newIndices = rebalanceResult.newIndices.map((item)=>item.fractionalIndex);\n    newIndices.sort();\n    // Calculate where to insert based on the position\n    if (insertPosition === 0) {\n        // Insert at beginning - generate index before first cell\n        const firstIndex = newIndices[0];\n        return fractionalIndexBetween(null, firstIndex, jitterProvider);\n    }\n    if (insertPosition >= newIndices.length) {\n        // Insert at end - generate index after last cell\n        const lastIndex = newIndices[newIndices.length - 1];\n        return fractionalIndexBetween(lastIndex, null, jitterProvider);\n    }\n    // Insert between cells at insertPosition-1 and insertPosition\n    const beforeIndex = newIndices[insertPosition - 1];\n    const afterIndex = newIndices[insertPosition];\n    return fractionalIndexBetween(beforeIndex, afterIndex, jitterProvider);\n}\n/**\n * Enhanced fractional index generation with automatic rebalancing fallback\n */ function fractionalIndexBetweenWithFallback(a, b, context = {}) {\n    const { allCells = [], insertPosition, jitterProvider = defaultJitterProvider } = context;\n    // First, try normal fractional index generation\n    try {\n        const index = fractionalIndexBetween(a, b, jitterProvider);\n        return {\n            index,\n            needsRebalancing: false\n        };\n    } catch (error) {\n        if (error instanceof Error && (error.message.includes(\"No string exists between\") || error.message.includes(\"Invalid range\"))) {\n            // Check if rebalancing is needed and possible\n            if (allCells.length > 0 && needsRebalancing(allCells, insertPosition)) {\n                const rebalanceResult = rebalanceCellIndices(allCells, {\n                    jitterProvider\n                });\n                // Calculate the insertion index after rebalancing\n                const position = insertPosition ?? allCells.length;\n                const insertionIndex = calculateInsertionIndexAfterRebalancing(position, rebalanceResult, jitterProvider);\n                return {\n                    index: insertionIndex,\n                    needsRebalancing: true,\n                    rebalanceResult\n                };\n            }\n        }\n        // Re-throw other errors\n        throw error;\n    }\n}\n/**\n * Safe cell movement with automatic rebalancing\n */ function moveCellWithRebalancing(cell, cellBefore, cellAfter, allCells, options = {}) {\n    const { actorId = \"user\", jitterProvider = defaultJitterProvider } = options;\n    // Try normal move first\n    try {\n        const moveEvent = moveCellBetween(cell, cellBefore, cellAfter, actorId, jitterProvider);\n        if (moveEvent) {\n            return {\n                moveEvent,\n                needsRebalancing: false\n            };\n        }\n    } catch (error) {\n        // Check if it's the \"No string exists between\" error\n        if (error instanceof Error && error.message.includes(\"No string exists between\")) {\n        // This indicates we need rebalancing, so fall through to the rebalancing check\n        } else {\n            // Re-throw other errors\n            throw error;\n        }\n    }\n    // Check if it's because we need rebalancing\n    if (needsRebalancing(allCells)) {\n        const rebalanceResult = rebalanceCellIndices(allCells, {\n            jitterProvider,\n            actorId: `${actorId}-rebalance`\n        });\n        return {\n            needsRebalancing: true,\n            rebalanceResult\n        };\n    }\n    // Cell was already in position or other reason\n    return {\n        needsRebalancing: false\n    };\n}\n// Helper to validate fractional index (basic check)\nfunction isValidFractionalIndex(index) {\n    if (typeof index !== \"string\" || index.length === 0) {\n        return false;\n    }\n    // Check that all characters are valid base36 characters\n    for (const char of index){\n        if (!BASE36_DIGITS.includes(char)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Validate that fractional indices maintain proper binary collation ordering\nfunction validateFractionalIndexOrder(indices) {\n    const validIndices = indices.filter((idx)=>isValidFractionalIndex(idx || \"\"));\n    for(let i = 1; i < validIndices.length; i++){\n        const prev = validIndices[i - 1];\n        const curr = validIndices[i];\n        if (!prev || !curr) {\n            return false;\n        }\n        if (prev >= curr) {\n            console.error(`Fractional index ordering violation: \"${prev}\" >= \"${curr}\"`);\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Helper functions for cell creation and movement with fractional indexing\n *\n * Sorting Strategy:\n * 1. Primary sort: Lexicographic comparison of fractional indices (a < b, not localeCompare)\n * 2. Secondary sort: Cell ID comparison when fractional indices are equal (rare but possible)\n *\n * This ensures stable, deterministic ordering even in the unlikely event of index collisions.\n * We generate 20 candidate indices and pick one randomly to minimize collision probability.\n */ /**\n * Move a cell between two other cells using fractional indices\n *\n * @param cell - The cell to move (must have a valid fractionalIndex)\n * @param cellBefore - The cell that should come before (null for beginning)\n * @param cellAfter - The cell that should come after (null for end)\n * @param actorId - Optional actor ID for tracking who made the change\n *\n * Note: It's the caller's responsibility to provide accurate before/after cells.\n * If both cellBefore and cellAfter are provided, they must be adjacent cells.\n */ function moveCellBetween(cell, cellBefore, cellAfter, actorId, jitterProvider = defaultJitterProvider) {\n    // Cell must have a valid fractional index to be moved\n    if (!cell.fractionalIndex) {\n        return null;\n    }\n    // Determine the fractional indices for before and after\n    const previousKey = cellBefore?.fractionalIndex || null;\n    const nextKey = cellAfter?.fractionalIndex || null;\n    // Check if already in the target position\n    if (cellBefore && cellAfter) {\n        // If between two cells, check if we're already there\n        if (cell.fractionalIndex > previousKey && cell.fractionalIndex < nextKey) {\n            return null;\n        }\n    } else if (!cellBefore && cellAfter) {\n        // Moving to beginning - check if already before cellAfter\n        if (cell.fractionalIndex < nextKey) {\n            return null;\n        }\n    } else if (cellBefore && !cellAfter) {\n        // Moving to end - check if already after cellBefore\n        if (cell.fractionalIndex > previousKey) {\n            return null;\n        }\n    }\n    const fractionalIndex = fractionalIndexBetween(previousKey, nextKey, jitterProvider);\n    return events.cellMoved2({\n        id: cell.id,\n        fractionalIndex,\n        actorId\n    });\n}\n/**\n * Create a cell between two other cells using fractional indices\n *\n * @param cellData - The cell data (id, cellType, createdBy)\n * @param cellBefore - The cell that should come before (null for beginning)\n * @param cellAfter - The cell that should come after (null for end)\n *\n * Note: It's the caller's responsibility to provide accurate before/after cells.\n * If both cellBefore and cellAfter are provided, they must be adjacent cells.\n */ function createCellBetween(cellData, cellBefore, cellAfter, allCells, jitterProvider = defaultJitterProvider) {\n    // Determine the fractional indices for before and after\n    let previousKey = cellBefore?.fractionalIndex || null;\n    let nextKey = cellAfter?.fractionalIndex || null;\n    // Special case: if both are null but we have existing cells, insert at end\n    if (!cellBefore && !cellAfter && allCells.length > 0) {\n        // Sort cells by fractional index to find the last one\n        const sortedCells = [\n            ...allCells\n        ].sort((a, b)=>(a.fractionalIndex || \"\").localeCompare(b.fractionalIndex || \"\"));\n        const lastCell = sortedCells[sortedCells.length - 1];\n        if (lastCell?.fractionalIndex) {\n            previousKey = lastCell.fractionalIndex;\n            nextKey = null; // Insert after the last cell\n        }\n    }\n    // Calculate insertion position for rebalancing context\n    let insertPosition = 0;\n    if (cellBefore && cellAfter) {\n        // Find position between the two cells\n        const beforeIndex = allCells.findIndex((cell)=>cell.id === cellBefore.id);\n        insertPosition = beforeIndex + 1;\n    } else if (cellBefore) {\n        // Insert after cellBefore\n        const beforeIndex = allCells.findIndex((cell)=>cell.id === cellBefore.id);\n        insertPosition = beforeIndex + 1;\n    } else if (cellAfter) {\n        // Insert before cellAfter\n        const afterIndex = allCells.findIndex((cell)=>cell.id === cellAfter.id);\n        insertPosition = afterIndex;\n    } else {\n        // Insert at end\n        insertPosition = allCells.length;\n    }\n    // Use the robust fractional index generation with fallback\n    const result = fractionalIndexBetweenWithFallback(previousKey, nextKey, {\n        allCells,\n        insertPosition,\n        jitterProvider\n    });\n    const resultEvents = [];\n    // Add rebalancing events if needed\n    if (result.needsRebalancing && result.rebalanceResult) {\n        resultEvents.push(...result.rebalanceResult.events);\n    }\n    // Create the new cell with the calculated fractional index\n    const createEvent = events.cellCreated2({\n        ...cellData,\n        fractionalIndex: result.index\n    });\n    resultEvents.push(createEvent);\n    return {\n        events: resultEvents,\n        newCellId: cellData.id,\n        needsRebalancing: result.needsRebalancing,\n        ...result.rebalanceResult && {\n            rebalanceCount: result.rebalanceResult.newIndices.length\n        }\n    };\n}\n/**\n * Move a cell between two other cells with automatic rebalancing\n */ function moveCellBetweenWithRebalancing(cell, cellBefore, cellAfter, allCells, actorId, jitterProvider = defaultJitterProvider) {\n    // Cell must have a valid fractional index to be moved\n    if (!cell.fractionalIndex) {\n        return {\n            events: [],\n            moved: false,\n            needsRebalancing: false\n        };\n    }\n    // Calculate target position\n    let targetPosition = 0;\n    if (cellBefore && cellAfter) {\n        // Find position between the two cells\n        const beforeIndex = allCells.findIndex((c)=>c.id === cellBefore.id);\n        targetPosition = beforeIndex + 1;\n    } else if (cellBefore) {\n        // Move after cellBefore\n        const beforeIndex = allCells.findIndex((c)=>c.id === cellBefore.id);\n        targetPosition = beforeIndex + 1;\n    } else if (cellAfter) {\n        // Move before cellAfter\n        const afterIndex = allCells.findIndex((c)=>c.id === cellAfter.id);\n        targetPosition = afterIndex;\n    } else {\n        // Move to end\n        targetPosition = allCells.length - 1; // Account for the cell being moved\n    }\n    // Check if already in target position\n    const currentPosition = allCells.findIndex((c)=>c.id === cell.id);\n    if (currentPosition === targetPosition) {\n        return {\n            events: [],\n            moved: false,\n            needsRebalancing: false\n        };\n    }\n    // Use the existing moveCellWithRebalancing function\n    const result = moveCellWithRebalancing(cell, cellBefore, cellAfter, allCells, {\n        ...actorId && {\n            actorId\n        },\n        jitterProvider\n    });\n    const resultEvents = [];\n    // Add rebalancing events if needed\n    if (result.needsRebalancing && result.rebalanceResult) {\n        resultEvents.push(...result.rebalanceResult.events);\n        return {\n            events: resultEvents,\n            moved: true,\n            needsRebalancing: true,\n            rebalanceCount: result.rebalanceResult.newIndices.length\n        };\n    }\n    // Add the move event if one was generated\n    if (result.moveEvent) {\n        resultEvents.push(result.moveEvent);\n        return {\n            events: resultEvents,\n            moved: true,\n            needsRebalancing: false\n        };\n    }\n    // No move was needed\n    return {\n        events: [],\n        moved: false,\n        needsRebalancing: false\n    };\n}\n/**\n * Convenience function for simple cell creation with automatic event commitment\n * Returns the new cell ID for immediate use\n */ function createCellBetweenAndCommit(store, cellData, cellBefore, cellAfter, allCells, jitterProvider = defaultJitterProvider) {\n    const result = createCellBetween(cellData, cellBefore, cellAfter, allCells, jitterProvider);\n    // Commit all events\n    result.events.forEach((event)=>store.commit(event));\n    return result.newCellId;\n}\n/**\n * Convenience function for simple cell movement with automatic event commitment\n * Returns whether the cell was actually moved\n */ function moveCellBetweenAndCommit(store, cell, cellBefore, cellAfter, allCells, actorId, jitterProvider = defaultJitterProvider) {\n    const result = moveCellBetweenWithRebalancing(cell, cellBefore, cellAfter, allCells, actorId, jitterProvider);\n    // Commit all events\n    result.events.forEach((event)=>store.commit(event));\n    return result.moved;\n} // Pre 0.7.1 -- these types should get created in clients\n // const state = State.SQLite.makeState({ tables, materializers });\n // export const schema = makeSchema({ events, state });\n // export type Store = LiveStore<typeof schema>;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQzFLO0lBRTlDLE9BQU82SixPQUFPTSxLQUFLO0FBQ3JCLEVBRUEseURBQXlEO0NBQ3pELG1FQUFtRTtDQUNuRSx1REFBdUQ7Q0FDdkQsZ0RBQWdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5hY29uZGEtYXNzZXNtZW50LTEvLi9zcmMvc2NoZW1hL21vZC50cz80MWJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50cywgU2NoZW1hLCBTdGF0ZSB9IGZyb20gXCJAbGl2ZXN0b3JlL2xpdmVzdG9yZVwiO1xuXG5pbXBvcnQge1xuICBBY3RvclR5cGVTY2hlbWEsXG4gIHR5cGUgQ2VsbFR5cGUsXG4gIENlbGxUeXBlU2NoZW1hLFxuICBNZWRpYVJlcHJlc2VudGF0aW9uU2NoZW1hLFxufSBmcm9tIFwiLi90eXBlcy50c1wiO1xuXG5pbXBvcnQgdHlwZSB7XG4gIEFydGlmYWN0Q29udGFpbmVyLFxuICBJbmxpbmVDb250YWluZXIsXG4gIE1lZGlhQ29udGFpbmVyLFxufSBmcm9tIFwiLi90eXBlcy50c1wiO1xuXG5pbXBvcnQgeyB0YWJsZXMgfSBmcm9tIFwiLi90YWJsZXMudHNcIjtcblxuZXhwb3J0IHsgdGFibGVzIH07XG5cbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzLnRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9xdWVyaWVzL2luZGV4LnRzXCI7XG5cbi8qKlxuICogQ0xJRU5UIEFVVEhFTlRJQ0FUSU9OIFBBVFRFUk5TXG4gKlxuICogVGhlIExpdmVTdG9yZSBzeW5jIGJhY2tlbmQgdmFsaWRhdGVzIGNsaWVudCBjb25uZWN0aW9ucyB1c2luZyBhdXRoVG9rZW4gYW5kIGNsaWVudElkLlxuICogRGlmZmVyZW50IGNsaWVudCB0eXBlcyB1c2UgZGlmZmVyZW50IGF1dGhlbnRpY2F0aW9uIHBhdHRlcm5zOlxuICpcbiAqIFNFUlZJQ0UgQ0xJRU5UUyAocnVudGltZTogdHJ1ZSk6XG4gKiAtIFJ1bnRpbWUgYWdlbnRzOiBjbGllbnRJZCA9IHJ1bnRpbWVJZCAoZS5nLiBcInB5dGhvbi1ydW50aW1lLTEyM1wiKVxuICogLSBOb3RlYm9vayBydW5uZXJzOiBjbGllbnRJZCA9IFwiYXV0b21hdGlvbi1jbGllbnRcIiAoaGVhZGxlc3MgZXhlY3V0aW9uKVxuICogLSBUVUkgY2xpZW50czogY2xpZW50SWQgPSBcInR1aS1jbGllbnRcIiAodGVybWluYWwgaW50ZXJmYWNlKVxuICogLSBTZXJ2aWNlIGNsaWVudHMgdXNlIFJVTlRfQVBJX0tFWSBmb3IgdXNlciBhdXRoZW50aWNhdGlvbiAoQVVUSF9UT0tFTiBhcyBzZXJ2aWNlIGZhbGxiYWNrKVxuICogLSBDbGllbnRJZCBtdXN0IGJlIG5vbi1udW1lcmljIHRvIHByZXZlbnQgdXNlciBpbXBlcnNvbmF0aW9uXG4gKlxuICogVVNFUiBDTElFTlRTIChydW50aW1lOiBmYWxzZS91bmRlZmluZWQpOlxuICogLSBSZWd1bGFyIHVzZXJzOiBjbGllbnRJZCA9IGF1dGhlbnRpY2F0ZWQgdXNlciBJRFxuICogLSBBbm9ueW1vdXMgdXNlcnM6IGNsaWVudElkID0gXCJhbm9ueW1vdXMtdXNlclwiXG4gKiAtIFVzZXIgY2xpZW50cyB1c2UgT0lEQyB0b2tlbnMgZm9yIGF1dGhlbnRpY2F0aW9uXG4gKiAtIENsaWVudElkIG11c3QgbWF0Y2ggYXV0aGVudGljYXRlZCB1c2VyIElEXG4gKlxuICogUFJFU0VOQ0UgRElTUExBWTpcbiAqIC0gUnVudGltZSBhZ2VudHM6IEJvdCBpY29uIHdpdGggcnVudGltZVR5cGUgbGFiZWxcbiAqIC0gTm90ZWJvb2sgcnVubmVyczogUGxheSBpY29uIChoZWFkbGVzcyBleGVjdXRpb24geW91IGNhbiBtb25pdG9yKVxuICogLSBUVUkgY2xpZW50czogVGVybWluYWwgaWNvbiAodGVybWluYWwgaW50ZXJmYWNlKVxuICogLSBSZWd1bGFyIHVzZXJzOiBVc2VyIGF2YXRhci9pbml0aWFsc1xuICovXG5cbi8vIEV2ZW50cyBkZXNjcmliZSBub3RlYm9vayBhbmQgY2VsbCBjaGFuZ2VzXG4vLyBBbGwgZXZlbnRzIGFyZSBzY29wZWQgdG8gYSBzaW5nbGUgbm90ZWJvb2sgKHN0b3JlSWQgPSBub3RlYm9va0lkKVxuZXhwb3J0IGNvbnN0IGV2ZW50cyA9IHtcbiAgZGVidWcxOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLkRlYnVnXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGlkOiBTY2hlbWEuU3RyaW5nLFxuICAgIH0pLFxuICB9KSxcblxuICAvLyBOb3RlYm9vayBldmVudHMgKHNpbmdsZSBub3RlYm9vayBwZXIgc3RvcmUpXG4gIC8qKiBAZGVwcmVjYXRlZCAgKi9cbiAgbm90ZWJvb2tJbml0aWFsaXplZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5Ob3RlYm9va0luaXRpYWxpemVkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGlkOiBTY2hlbWEuU3RyaW5nLCAvLyBTYW1lIGFzIHN0b3JlSWRcbiAgICAgIHRpdGxlOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgb3duZXJJZDogU2NoZW1hLlN0cmluZyxcbiAgICB9KSxcbiAgfSksXG5cbiAgbm90ZWJvb2tUaXRsZUNoYW5nZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuTm90ZWJvb2tUaXRsZUNoYW5nZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgdGl0bGU6IFNjaGVtYS5TdHJpbmcsXG4gICAgfSksXG4gIH0pLFxuXG4gIG5vdGVib29rTWV0YWRhdGFTZXQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuTm90ZWJvb2tNZXRhZGF0YVNldFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBrZXk6IFNjaGVtYS5TdHJpbmcsXG4gICAgICB2YWx1ZTogU2NoZW1hLlN0cmluZyxcbiAgICB9KSxcbiAgfSksXG5cbiAgLy8gQ2VsbCBldmVudHNcbiAgY2VsbENyZWF0ZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuQ2VsbENyZWF0ZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgaWQ6IFNjaGVtYS5TdHJpbmcsXG4gICAgICBjZWxsVHlwZTogQ2VsbFR5cGVTY2hlbWEsXG4gICAgICBwb3NpdGlvbjogU2NoZW1hLk51bWJlcixcbiAgICAgIGNyZWF0ZWRCeTogU2NoZW1hLlN0cmluZyxcbiAgICAgIGFjdG9ySWQ6IFNjaGVtYS5vcHRpb25hbChTY2hlbWEuU3RyaW5nKSxcbiAgICB9KSxcbiAgfSksXG5cbiAgLyoqXG4gIHYyIGNlbGwgY3JlYXRlZCB3aXRoIGZyYWN0aW9uYWwgaW5kZXhpbmdcbiAgIHtcbiAgICAgaWQ6IENlbGxJZCxcbiAgICAgZnJhY3Rpb25hbEluZGV4OiBzdHJpbmcsIC8vIEZyYWN0aW9uYWwgaW5kZXggKGUuZy4sIFwiYTBcIiwgXCJhNVwiLCBcImIwXCIpXG4gICAgIGNlbGxUeXBlOiBDZWxsVHlwZSxcbiAgIH1cblxuICAgTm90ZTogZnJhY3Rpb25hbEluZGV4IGNvbHVtbiBoYXMgYmVlbiBhZGRlZCB0byBjZWxscyB0YWJsZS5cbiAgIEZ1dHVyZSBtaWdyYXRpb24gc3RlcHM6XG4gICAxLiBNaWdyYXRlIGV4aXN0aW5nIGNlbGxzIHRvIHVzZSBmcmFjdGlvbmFsIGluZGljZXMgYmFzZWQgb24gcG9zaXRpb25cbiAgIDIuIFVwZGF0ZSBhbGwgcXVlcmllcyB0byB1c2UgT1JERVIgQlkgZnJhY3Rpb25hbEluZGV4IGluc3RlYWQgb2YgcG9zaXRpb25cbiAgIDMuIEV2ZW50dWFsbHkgZGVwcmVjYXRlIHBvc2l0aW9uIGNvbHVtbiBmcm9tIGNlbGxzIHRhYmxlXG4gICA0LiBVcGRhdGUgdjEuQ2VsbENyZWF0ZWQgdG8gY2FsY3VsYXRlIGZyYWN0aW9uYWwgaW5kZXhcbiAgICovXG4gIGNlbGxDcmVhdGVkMjogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2Mi5DZWxsQ3JlYXRlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBpZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIGZyYWN0aW9uYWxJbmRleDogU2NoZW1hLlN0cmluZy5hbm5vdGF0aW9ucyh7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkppdHRlcmVkIGZyYWN0aW9uYWwgaW5kZXggZm9yIGRldGVybWluaXN0aWMgb3JkZXJpbmdcIixcbiAgICAgIH0pLFxuICAgICAgY2VsbFR5cGU6IENlbGxUeXBlU2NoZW1hLFxuICAgICAgY3JlYXRlZEJ5OiBTY2hlbWEuU3RyaW5nLFxuICAgIH0pLFxuICB9KSxcblxuICBjZWxsU291cmNlQ2hhbmdlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5DZWxsU291cmNlQ2hhbmdlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBpZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHNvdXJjZTogU2NoZW1hLlN0cmluZyxcbiAgICAgIG1vZGlmaWVkQnk6IFNjaGVtYS5TdHJpbmcsXG4gICAgfSksXG4gIH0pLFxuXG4gIGNlbGxUeXBlQ2hhbmdlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5DZWxsVHlwZUNoYW5nZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgaWQ6IFNjaGVtYS5TdHJpbmcsXG4gICAgICBjZWxsVHlwZTogQ2VsbFR5cGVTY2hlbWEsXG4gICAgICBhY3RvcklkOiBTY2hlbWEub3B0aW9uYWwoU2NoZW1hLlN0cmluZyksXG4gICAgfSksXG4gIH0pLFxuXG4gIGNlbGxEZWxldGVkOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLkNlbGxEZWxldGVkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgYWN0b3JJZDogU2NoZW1hLm9wdGlvbmFsKFNjaGVtYS5TdHJpbmcpLFxuICAgIH0pLFxuICB9KSxcblxuICBjZWxsTW92ZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuQ2VsbE1vdmVkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgbmV3UG9zaXRpb246IFNjaGVtYS5OdW1iZXIsXG4gICAgICBhY3RvcklkOiBTY2hlbWEub3B0aW9uYWwoU2NoZW1hLlN0cmluZyksXG4gICAgfSksXG4gIH0pLFxuXG4gIGNlbGxNb3ZlZDI6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjIuQ2VsbE1vdmVkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgZnJhY3Rpb25hbEluZGV4OiBTY2hlbWEuU3RyaW5nLmFubm90YXRpb25zKHtcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTmV3IGZyYWN0aW9uYWwgaW5kZXggcG9zaXRpb24gZm9yIHRoZSBjZWxsXCIsXG4gICAgICB9KSxcbiAgICAgIGFjdG9ySWQ6IFNjaGVtYS5vcHRpb25hbChTY2hlbWEuU3RyaW5nKSxcbiAgICB9KSxcbiAgfSksXG5cbiAgY2VsbFNvdXJjZVZpc2liaWxpdHlUb2dnbGVkOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLkNlbGxTb3VyY2VWaXNpYmlsaXR5VG9nZ2xlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBpZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHNvdXJjZVZpc2libGU6IFNjaGVtYS5Cb29sZWFuLFxuICAgICAgYWN0b3JJZDogU2NoZW1hLm9wdGlvbmFsKFNjaGVtYS5TdHJpbmcpLFxuICAgIH0pLFxuICB9KSxcblxuICBjZWxsT3V0cHV0VmlzaWJpbGl0eVRvZ2dsZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuQ2VsbE91dHB1dFZpc2liaWxpdHlUb2dnbGVkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgb3V0cHV0VmlzaWJsZTogU2NoZW1hLkJvb2xlYW4sXG4gICAgICBhY3RvcklkOiBTY2hlbWEub3B0aW9uYWwoU2NoZW1hLlN0cmluZyksXG4gICAgfSksXG4gIH0pLFxuXG4gIGNlbGxBaUNvbnRleHRWaXNpYmlsaXR5VG9nZ2xlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5DZWxsQWlDb250ZXh0VmlzaWJpbGl0eVRvZ2dsZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgaWQ6IFNjaGVtYS5TdHJpbmcsXG4gICAgICBhaUNvbnRleHRWaXNpYmxlOiBTY2hlbWEuQm9vbGVhbixcbiAgICAgIGFjdG9ySWQ6IFNjaGVtYS5vcHRpb25hbChTY2hlbWEuU3RyaW5nKSxcbiAgICB9KSxcbiAgfSksXG5cbiAgLy8gUnVudGltZSBsaWZlY3ljbGUgZXZlbnRzXG4gIHJ1bnRpbWVTZXNzaW9uU3RhcnRlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5SdW50aW1lU2Vzc2lvblN0YXJ0ZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgc2Vzc2lvbklkOiBTY2hlbWEuU3RyaW5nLCAvLyBVbmlxdWUgcGVyIHJ1bnRpbWUgcmVzdGFydFxuICAgICAgcnVudGltZUlkOiBTY2hlbWEuU3RyaW5nLCAvLyBTdGFibGUgcnVudGltZSBpZGVudGlmaWVyXG4gICAgICBydW50aW1lVHlwZTogU2NoZW1hLlN0cmluZyxcbiAgICAgIGNhcGFiaWxpdGllczogU2NoZW1hLlN0cnVjdCh7XG4gICAgICAgIGNhbkV4ZWN1dGVDb2RlOiBTY2hlbWEuQm9vbGVhbixcbiAgICAgICAgY2FuRXhlY3V0ZVNxbDogU2NoZW1hLkJvb2xlYW4sXG4gICAgICAgIGNhbkV4ZWN1dGVBaTogU2NoZW1hLkJvb2xlYW4sXG4gICAgICAgIGF2YWlsYWJsZUFpTW9kZWxzOiBTY2hlbWEub3B0aW9uYWwoU2NoZW1hLkFueSksXG4gICAgICB9KSxcbiAgICB9KSxcbiAgfSksXG5cbiAgcHJlc2VuY2VTZXQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuUHJlc2VuY2VTZXRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgdXNlcklkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgY2VsbElkOiBTY2hlbWEub3B0aW9uYWwoU2NoZW1hLlN0cmluZyksXG4gICAgfSksXG4gIH0pLFxuXG4gIHJ1bnRpbWVTZXNzaW9uU3RhdHVzQ2hhbmdlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5SdW50aW1lU2Vzc2lvblN0YXR1c0NoYW5nZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgc2Vzc2lvbklkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgc3RhdHVzOiBTY2hlbWEuTGl0ZXJhbChcInJlYWR5XCIsIFwiYnVzeVwiLCBcInJlc3RhcnRpbmdcIiksXG4gICAgfSksXG4gIH0pLFxuXG4gIHJ1bnRpbWVTZXNzaW9uVGVybWluYXRlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5SdW50aW1lU2Vzc2lvblRlcm1pbmF0ZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgc2Vzc2lvbklkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgcmVhc29uOiBTY2hlbWEuTGl0ZXJhbChcbiAgICAgICAgXCJzaHV0ZG93blwiLFxuICAgICAgICBcInJlc3RhcnRcIixcbiAgICAgICAgXCJlcnJvclwiLFxuICAgICAgICBcInRpbWVvdXRcIixcbiAgICAgICAgXCJkaXNwbGFjZWRcIixcbiAgICAgICksXG4gICAgfSksXG4gIH0pLFxuXG4gIC8vIEV4ZWN1dGlvbiBxdWV1ZSBldmVudHNcbiAgZXhlY3V0aW9uUmVxdWVzdGVkOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLkV4ZWN1dGlvblJlcXVlc3RlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBxdWV1ZUlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgY2VsbElkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgZXhlY3V0aW9uQ291bnQ6IFNjaGVtYS5OdW1iZXIsXG4gICAgICByZXF1ZXN0ZWRCeTogU2NoZW1hLlN0cmluZyxcbiAgICAgIGFjdG9ySWQ6IFNjaGVtYS5vcHRpb25hbChTY2hlbWEuU3RyaW5nKSxcbiAgICB9KSxcbiAgfSksXG5cbiAgZXhlY3V0aW9uQXNzaWduZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuRXhlY3V0aW9uQXNzaWduZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgcXVldWVJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHJ1bnRpbWVTZXNzaW9uSWQ6IFNjaGVtYS5TdHJpbmcsXG4gICAgfSksXG4gIH0pLFxuXG4gIGV4ZWN1dGlvblN0YXJ0ZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuRXhlY3V0aW9uU3RhcnRlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBxdWV1ZUlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgY2VsbElkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgcnVudGltZVNlc3Npb25JZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHN0YXJ0ZWRBdDogU2NoZW1hLkRhdGUsXG4gICAgfSksXG4gIH0pLFxuXG4gIGV4ZWN1dGlvbkNvbXBsZXRlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5FeGVjdXRpb25Db21wbGV0ZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgcXVldWVJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIGNlbGxJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHN0YXR1czogU2NoZW1hLkxpdGVyYWwoXCJzdWNjZXNzXCIsIFwiZXJyb3JcIiwgXCJjYW5jZWxsZWRcIiksXG4gICAgICBlcnJvcjogU2NoZW1hLm9wdGlvbmFsKFNjaGVtYS5TdHJpbmcpLFxuICAgICAgY29tcGxldGVkQXQ6IFNjaGVtYS5EYXRlLFxuICAgICAgZXhlY3V0aW9uRHVyYXRpb25NczogU2NoZW1hLk51bWJlcixcbiAgICB9KSxcbiAgfSksXG5cbiAgZXhlY3V0aW9uQ2FuY2VsbGVkOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLkV4ZWN1dGlvbkNhbmNlbGxlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBxdWV1ZUlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgY2VsbElkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgY2FuY2VsbGVkQnk6IFNjaGVtYS5TdHJpbmcsXG4gICAgICBhY3RvcklkOiBTY2hlbWEub3B0aW9uYWwoU2NoZW1hLlN0cmluZyksXG4gICAgICByZWFzb246IFNjaGVtYS5TdHJpbmcsXG4gICAgfSksXG4gIH0pLFxuXG4gIC8vIFVuaWZpZWQgb3V0cHV0IHN5c3RlbSAtIGdyYW51bGFyIGV2ZW50cyByZXBsYWNpbmcgY2VsbE91dHB1dEFkZGVkXG4gIG11bHRpbWVkaWFEaXNwbGF5T3V0cHV0QWRkZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuTXVsdGltZWRpYURpc3BsYXlPdXRwdXRBZGRlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBpZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIGNlbGxJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHBvc2l0aW9uOiBTY2hlbWEuTnVtYmVyLFxuICAgICAgcmVwcmVzZW50YXRpb25zOiBTY2hlbWEuUmVjb3JkKHtcbiAgICAgICAga2V5OiBTY2hlbWEuU3RyaW5nLFxuICAgICAgICB2YWx1ZTogTWVkaWFSZXByZXNlbnRhdGlvblNjaGVtYSxcbiAgICAgIH0pLFxuICAgICAgZGlzcGxheUlkOiBTY2hlbWEub3B0aW9uYWwoU2NoZW1hLlN0cmluZyksXG4gICAgfSksXG4gIH0pLFxuXG4gIG11bHRpbWVkaWFEaXNwbGF5T3V0cHV0VXBkYXRlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5NdWx0aW1lZGlhRGlzcGxheU91dHB1dFVwZGF0ZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgZGlzcGxheUlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgcmVwcmVzZW50YXRpb25zOiBTY2hlbWEuUmVjb3JkKHtcbiAgICAgICAga2V5OiBTY2hlbWEuU3RyaW5nLFxuICAgICAgICB2YWx1ZTogTWVkaWFSZXByZXNlbnRhdGlvblNjaGVtYSxcbiAgICAgIH0pLFxuICAgIH0pLFxuICB9KSxcblxuICBtdWx0aW1lZGlhUmVzdWx0T3V0cHV0QWRkZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuTXVsdGltZWRpYVJlc3VsdE91dHB1dEFkZGVkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgY2VsbElkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgcG9zaXRpb246IFNjaGVtYS5OdW1iZXIsXG4gICAgICByZXByZXNlbnRhdGlvbnM6IFNjaGVtYS5SZWNvcmQoe1xuICAgICAgICBrZXk6IFNjaGVtYS5TdHJpbmcsXG4gICAgICAgIHZhbHVlOiBNZWRpYVJlcHJlc2VudGF0aW9uU2NoZW1hLFxuICAgICAgfSksXG4gICAgICBleGVjdXRpb25Db3VudDogU2NoZW1hLk51bWJlcixcbiAgICB9KSxcbiAgfSksXG5cbiAgdGVybWluYWxPdXRwdXRBZGRlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5UZXJtaW5hbE91dHB1dEFkZGVkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgY2VsbElkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgcG9zaXRpb246IFNjaGVtYS5OdW1iZXIsXG4gICAgICBjb250ZW50OiBNZWRpYVJlcHJlc2VudGF0aW9uU2NoZW1hLFxuICAgICAgc3RyZWFtTmFtZTogU2NoZW1hLkxpdGVyYWwoXCJzdGRvdXRcIiwgXCJzdGRlcnJcIiksXG4gICAgfSksXG4gIH0pLFxuXG4gIC8qKiBAZGVwcmVjYXRlZCAgKi9cbiAgdGVybWluYWxPdXRwdXRBcHBlbmRlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5UZXJtaW5hbE91dHB1dEFwcGVuZGVkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIG91dHB1dElkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgY29udGVudDogTWVkaWFSZXByZXNlbnRhdGlvblNjaGVtYSxcbiAgICB9KSxcbiAgfSksXG5cbiAgdGVybWluYWxPdXRwdXRBcHBlbmRlZDI6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjIuVGVybWluYWxPdXRwdXRBcHBlbmRlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBpZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIG91dHB1dElkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgZGVsdGE6IFNjaGVtYS5TdHJpbmcsXG4gICAgICBzZXF1ZW5jZU51bWJlcjogU2NoZW1hLk51bWJlcixcbiAgICB9KSxcbiAgfSksXG5cbiAgbWFya2Rvd25PdXRwdXRBZGRlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5NYXJrZG93bk91dHB1dEFkZGVkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGlkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgY2VsbElkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgcG9zaXRpb246IFNjaGVtYS5OdW1iZXIsXG4gICAgICBjb250ZW50OiBNZWRpYVJlcHJlc2VudGF0aW9uU2NoZW1hLFxuICAgIH0pLFxuICB9KSxcblxuICAvKiogQGRlcHJlY2F0ZWQgICovXG4gIG1hcmtkb3duT3V0cHV0QXBwZW5kZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuTWFya2Rvd25PdXRwdXRBcHBlbmRlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBvdXRwdXRJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIGNvbnRlbnQ6IE1lZGlhUmVwcmVzZW50YXRpb25TY2hlbWEsXG4gICAgfSksXG4gIH0pLFxuXG4gIG1hcmtkb3duT3V0cHV0QXBwZW5kZWQyOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYyLk1hcmtkb3duT3V0cHV0QXBwZW5kZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgaWQ6IFNjaGVtYS5TdHJpbmcsXG4gICAgICBvdXRwdXRJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIGRlbHRhOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgc2VxdWVuY2VOdW1iZXI6IFNjaGVtYS5OdW1iZXIsXG4gICAgfSksXG4gIH0pLFxuXG4gIGVycm9yT3V0cHV0QWRkZWQ6IEV2ZW50cy5zeW5jZWQoe1xuICAgIG5hbWU6IFwidjEuRXJyb3JPdXRwdXRBZGRlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBpZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIGNlbGxJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHBvc2l0aW9uOiBTY2hlbWEuTnVtYmVyLFxuICAgICAgY29udGVudDogTWVkaWFSZXByZXNlbnRhdGlvblNjaGVtYSxcbiAgICB9KSxcbiAgfSksXG5cbiAgY2VsbE91dHB1dHNDbGVhcmVkOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLkNlbGxPdXRwdXRzQ2xlYXJlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBjZWxsSWQ6IFNjaGVtYS5TdHJpbmcsXG4gICAgICB3YWl0OiBTY2hlbWEuQm9vbGVhbixcbiAgICAgIGNsZWFyZWRCeTogU2NoZW1hLlN0cmluZyxcbiAgICB9KSxcbiAgfSksXG5cbiAgLy8gQUkgZXZlbnRzXG4gIGFpU2V0dGluZ3NDaGFuZ2VkOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLkFpU2V0dGluZ3NDaGFuZ2VkXCIsXG4gICAgc2NoZW1hOiBTY2hlbWEuU3RydWN0KHtcbiAgICAgIGNlbGxJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHByb3ZpZGVyOiBTY2hlbWEuU3RyaW5nLCAvLyAnb3BlbmFpJywgJ2FudGhyb3BpYycsICdsb2NhbCdcbiAgICAgIG1vZGVsOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgc2V0dGluZ3M6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgICB0ZW1wZXJhdHVyZTogU2NoZW1hLm9wdGlvbmFsKFNjaGVtYS5OdW1iZXIpLFxuICAgICAgICBtYXhUb2tlbnM6IFNjaGVtYS5vcHRpb25hbChTY2hlbWEuTnVtYmVyKSxcbiAgICAgICAgc3lzdGVtUHJvbXB0OiBTY2hlbWEub3B0aW9uYWwoU2NoZW1hLlN0cmluZyksXG4gICAgICB9KSxcbiAgICB9KSxcbiAgfSksXG5cbiAgLy8gU1FMIGV2ZW50c1xuICBzcWxDb25uZWN0aW9uQ2hhbmdlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5TcWxDb25uZWN0aW9uQ2hhbmdlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBjZWxsSWQ6IFNjaGVtYS5TdHJpbmcsXG4gICAgICBjb25uZWN0aW9uSWQ6IFNjaGVtYS5vcHRpb25hbChTY2hlbWEuU3RyaW5nKSxcbiAgICAgIGNoYW5nZWRCeTogU2NoZW1hLlN0cmluZyxcbiAgICB9KSxcbiAgfSksXG5cbiAgc3FsUmVzdWx0VmFyaWFibGVDaGFuZ2VkOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLlNxbFJlc3VsdFZhcmlhYmxlQ2hhbmdlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBjZWxsSWQ6IFNjaGVtYS5TdHJpbmcsXG4gICAgICByZXN1bHRWYXJpYWJsZTogU2NoZW1hLm9wdGlvbmFsKFNjaGVtYS5TdHJpbmcpLFxuICAgICAgY2hhbmdlZEJ5OiBTY2hlbWEuU3RyaW5nLFxuICAgIH0pLFxuICB9KSxcblxuICAvLyBVSSBzdGF0ZVxuICB1aVN0YXRlU2V0OiB0YWJsZXMudWlTdGF0ZS5zZXQsXG5cbiAgYWN0b3JQcm9maWxlU2V0OiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLkFjdG9yUHJvZmlsZVNldFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBpZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHR5cGU6IEFjdG9yVHlwZVNjaGVtYSxcbiAgICAgIGRpc3BsYXlOYW1lOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgYXZhdGFyOiBTY2hlbWEub3B0aW9uYWwoU2NoZW1hLlN0cmluZyksXG4gICAgfSksXG4gIH0pLFxuXG4gIC8vIFRvb2wgYXBwcm92YWwgZXZlbnRzXG4gIHRvb2xBcHByb3ZhbFJlcXVlc3RlZDogRXZlbnRzLnN5bmNlZCh7XG4gICAgbmFtZTogXCJ2MS5Ub29sQXBwcm92YWxSZXF1ZXN0ZWRcIixcbiAgICBzY2hlbWE6IFNjaGVtYS5TdHJ1Y3Qoe1xuICAgICAgdG9vbENhbGxJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIGNlbGxJZDogU2NoZW1hLlN0cmluZyxcbiAgICAgIHRvb2xOYW1lOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgYXJndW1lbnRzOiBTY2hlbWEuUmVjb3JkKHsga2V5OiBTY2hlbWEuU3RyaW5nLCB2YWx1ZTogU2NoZW1hLkFueSB9KSxcbiAgICAgIHJlcXVlc3RlZEF0OiBTY2hlbWEuRGF0ZSxcbiAgICB9KSxcbiAgfSksXG5cbiAgdG9vbEFwcHJvdmFsUmVzcG9uZGVkOiBFdmVudHMuc3luY2VkKHtcbiAgICBuYW1lOiBcInYxLlRvb2xBcHByb3ZhbFJlc3BvbmRlZFwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICB0b29sQ2FsbElkOiBTY2hlbWEuU3RyaW5nLFxuICAgICAgc3RhdHVzOiBTY2hlbWEuTGl0ZXJhbChcImFwcHJvdmVkX29uY2VcIiwgXCJhcHByb3ZlZF9hbHdheXNcIiwgXCJkZW5pZWRcIiksXG4gICAgICBhcHByb3ZlZEJ5OiBTY2hlbWEuU3RyaW5nLFxuICAgICAgcmVzcG9uZGVkQXQ6IFNjaGVtYS5EYXRlLFxuICAgIH0pLFxuICB9KSxcbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBzZWxlY3QgcHJpbWFyeSByZXByZXNlbnRhdGlvbiBmcm9tIG11bHRpbWVkaWEgZGF0YVxuZnVuY3Rpb24gc2VsZWN0UHJpbWFyeVJlcHJlc2VudGF0aW9uKFxuICByZXByZXNlbnRhdGlvbnM6IFJlY29yZDxzdHJpbmcsIE1lZGlhQ29udGFpbmVyPixcbiAgcHJlZmVycmVkTWltZVR5cGVzOiBzdHJpbmdbXSA9IFtcbiAgICAvLyBKU09OLWJhc2VkIGZvcm1hdHMgZmlyc3QgKGhpZ2hlc3QgcHJpb3JpdHkgZm9yIHJpY2ggZGF0YSlcbiAgICBcImFwcGxpY2F0aW9uL3ZuZC5wbG90bHkudjEranNvblwiLFxuICAgIFwiYXBwbGljYXRpb24vdm5kLnZlZ2FsaXRlLnY2K2pzb25cIixcbiAgICBcImFwcGxpY2F0aW9uL3ZuZC52ZWdhbGl0ZS52NStqc29uXCIsXG4gICAgXCJhcHBsaWNhdGlvbi92bmQudmVnYWxpdGUudjQranNvblwiLFxuICAgIFwiYXBwbGljYXRpb24vdm5kLnZlZ2FsaXRlLnYzK2pzb25cIixcbiAgICBcImFwcGxpY2F0aW9uL3ZuZC52ZWdhbGl0ZS52Mitqc29uXCIsXG4gICAgXCJhcHBsaWNhdGlvbi92bmQudmVnYS52NStqc29uXCIsXG4gICAgXCJhcHBsaWNhdGlvbi92bmQudmVnYS52NCtqc29uXCIsXG4gICAgXCJhcHBsaWNhdGlvbi92bmQudmVnYS52Mytqc29uXCIsXG4gICAgXCJhcHBsaWNhdGlvbi92bmQuanVweXRlci53aWRnZXQtdmlldytqc29uXCIsXG4gICAgXCJhcHBsaWNhdGlvbi92bmQuanVweXRlci53aWRnZXQtc3RhdGUranNvblwiLFxuICAgIFwiYXBwbGljYXRpb24vdm5kLmRhdGFyZXNvdXJjZStqc29uXCIsXG4gICAgXCJhcHBsaWNhdGlvbi92ZG9tLnYxK2pzb25cIixcbiAgICBcImFwcGxpY2F0aW9uL2dlbytqc29uXCIsXG4gICAgXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgLy8gSW50ZXJhY3RpdmUgY29udGVudFxuICAgIFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiLFxuICAgIC8vIFJpY2ggZGlzcGxheSBmb3JtYXRzXG4gICAgXCJ0ZXh0L2h0bWxcIixcbiAgICBcImltYWdlL3N2Zyt4bWxcIixcbiAgICAvLyBCaW5hcnkgaW1hZ2VzXG4gICAgXCJpbWFnZS9wbmdcIixcbiAgICBcImltYWdlL2pwZWdcIixcbiAgICBcImltYWdlL2dpZlwiLFxuICAgIC8vIFRleHQgZm9ybWF0c1xuICAgIFwidGV4dC9sYXRleFwiLFxuICAgIFwidGV4dC9tYXJrZG93blwiLFxuICAgIFwidGV4dC9wbGFpblwiLFxuICBdLFxuKTogeyBtaW1lVHlwZTogc3RyaW5nOyBjb250YWluZXI6IE1lZGlhQ29udGFpbmVyIH0gfCBudWxsIHtcbiAgZm9yIChjb25zdCBtaW1lVHlwZSBvZiBwcmVmZXJyZWRNaW1lVHlwZXMpIHtcbiAgICBpZiAocmVwcmVzZW50YXRpb25zW21pbWVUeXBlXSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWltZVR5cGUsXG4gICAgICAgIGNvbnRhaW5lcjogcmVwcmVzZW50YXRpb25zW21pbWVUeXBlXSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byB1cGRhdGUgZXhpc3RpbmcgZGlzcGxheXMgd2l0aCBzYW1lIGRpc3BsYXlJZFxuZnVuY3Rpb24gdXBkYXRlRXhpc3RpbmdEaXNwbGF5cyhcbiAgZGlzcGxheUlkOiBzdHJpbmcsXG4gIHJlcHJlc2VudGF0aW9uczogUmVjb3JkPHN0cmluZywgTWVkaWFDb250YWluZXI+LFxuICAvLyBkZW5vLWxpbnQtaWdub3JlIG5vLWV4cGxpY2l0LWFueVxuICBjdHg6IGFueSxcbikge1xuICBjb25zdCBleGlzdGluZ091dHB1dHMgPSBjdHgucXVlcnkoXG4gICAgdGFibGVzLm91dHB1dHMuc2VsZWN0KCkud2hlcmUoe1xuICAgICAgZGlzcGxheUlkLFxuICAgICAgb3V0cHV0VHlwZTogXCJtdWx0aW1lZGlhX2Rpc3BsYXlcIixcbiAgICB9KSxcbiAgKTtcblxuICBpZiAoZXhpc3RpbmdPdXRwdXRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHByaW1hcnlSZXAgPSBzZWxlY3RQcmltYXJ5UmVwcmVzZW50YXRpb24ocmVwcmVzZW50YXRpb25zKTtcbiAgaWYgKCFwcmltYXJ5UmVwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgeyBtaW1lVHlwZSwgY29udGFpbmVyIH0gPSBwcmltYXJ5UmVwO1xuICBjb25zdCBkYXRhID0gY29udGFpbmVyLnR5cGUgPT09IFwiaW5saW5lXCIgPyBTdHJpbmcoY29udGFpbmVyLmRhdGEgfHwgXCJcIikgOiBcIlwiO1xuXG4gIHJldHVybiBbXG4gICAgdGFibGVzLm91dHB1dHNcbiAgICAgIC51cGRhdGUoe1xuICAgICAgICBkYXRhLFxuICAgICAgICBtaW1lVHlwZSxcbiAgICAgICAgcmVwcmVzZW50YXRpb25zLFxuICAgICAgfSlcbiAgICAgIC53aGVyZSh7XG4gICAgICAgIGRpc3BsYXlJZCxcbiAgICAgICAgb3V0cHV0VHlwZTogXCJtdWx0aW1lZGlhX2Rpc3BsYXlcIixcbiAgICAgIH0pLFxuICBdO1xufVxuXG4vLyBTaGFyZWQgaGVscGVyIGZ1bmN0aW9uIGZvciB1cGRhdGluZyBwcmVzZW5jZVxuZnVuY3Rpb24gdXBkYXRlUHJlc2VuY2UodXNlcklkOiBzdHJpbmcsIGNlbGxJZD86IHN0cmluZykge1xuICByZXR1cm4gdGFibGVzLnByZXNlbmNlXG4gICAgLmluc2VydCh7IHVzZXJJZCwgY2VsbElkOiBjZWxsSWQgfHwgbnVsbCB9KVxuICAgIC5vbkNvbmZsaWN0KFwidXNlcklkXCIsIFwicmVwbGFjZVwiKTtcbn1cblxuLy8gTWF0ZXJpYWxpemVycyBtYXAgZXZlbnRzIHRvIHN0YXRlIGNoYW5nZXNcbmV4cG9ydCBjb25zdCBtYXRlcmlhbGl6ZXJzID0gU3RhdGUuU1FMaXRlLm1hdGVyaWFsaXplcnMoZXZlbnRzLCB7XG4gIFwidjEuRGVidWdcIjogKGV2ZW50LCBjdHgpID0+IHtcbiAgICBjb25zdCBleGlzdGluZ0RlYnVnID0gY3R4LnF1ZXJ5KFxuICAgICAgdGFibGVzLmRlYnVnLnNlbGVjdCgpLndoZXJlKHsgaWQ6IGV2ZW50LmlkIH0pLmxpbWl0KDEpLFxuICAgIClbMF07XG4gICAgaWYgKGV4aXN0aW5nRGVidWcpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIFt0YWJsZXMuZGVidWcuaW5zZXJ0KHsgaWQ6IGV2ZW50LmlkIH0pLm9uQ29uZmxpY3QoXCJpZFwiLCBcInJlcGxhY2VcIildO1xuICB9LFxuICAvLyBOb3RlYm9vayBtYXRlcmlhbGl6ZXJzXG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICBcInYxLk5vdGVib29rSW5pdGlhbGl6ZWRcIjogKHsgaWQsIHRpdGxlLCBvd25lcklkIH0pID0+IFtcbiAgICAvLyBMZWdhY3kgZXZlbnQgLSBjb252ZXJ0IHRvIG1ldGFkYXRhIGZvcm1hdFxuICAgIHRhYmxlcy5ub3RlYm9va01ldGFkYXRhXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAga2V5OiBcInRpdGxlXCIsXG4gICAgICAgIHZhbHVlOiB0aXRsZSxcbiAgICAgIH0pXG4gICAgICAub25Db25mbGljdChcImtleVwiLCBcInJlcGxhY2VcIiksXG4gICAgdGFibGVzLm5vdGVib29rTWV0YWRhdGFcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICBrZXk6IFwib3duZXJJZFwiLFxuICAgICAgICB2YWx1ZTogb3duZXJJZCxcbiAgICAgIH0pXG4gICAgICAub25Db25mbGljdChcImtleVwiLCBcInJlcGxhY2VcIiksXG4gICAgdGFibGVzLmRlYnVnXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgaWQsXG4gICAgICB9KVxuICAgICAgLm9uQ29uZmxpY3QoXCJpZFwiLCBcInJlcGxhY2VcIiksXG4gIF0sXG5cbiAgXCJ2MS5Ob3RlYm9va1RpdGxlQ2hhbmdlZFwiOiAoeyB0aXRsZSB9KSA9PlxuICAgIHRhYmxlcy5ub3RlYm9va01ldGFkYXRhXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAga2V5OiBcInRpdGxlXCIsXG4gICAgICAgIHZhbHVlOiB0aXRsZSxcbiAgICAgIH0pXG4gICAgICAub25Db25mbGljdChcImtleVwiLCBcInJlcGxhY2VcIiksXG5cbiAgXCJ2MS5Ob3RlYm9va01ldGFkYXRhU2V0XCI6ICh7IGtleSwgdmFsdWUgfSkgPT5cbiAgICB0YWJsZXMubm90ZWJvb2tNZXRhZGF0YVxuICAgICAgLmluc2VydCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgdmFsdWUsXG4gICAgICB9KVxuICAgICAgLm9uQ29uZmxpY3QoXCJrZXlcIiwgXCJyZXBsYWNlXCIpLFxuXG4gIC8vIENlbGwgbWF0ZXJpYWxpemVyc1xuICBcInYxLkNlbGxDcmVhdGVkXCI6ICh7IGlkLCBjZWxsVHlwZSwgcG9zaXRpb24sIGNyZWF0ZWRCeSwgYWN0b3JJZCB9KSA9PiBbXG4gICAgdGFibGVzLmNlbGxzXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgaWQsXG4gICAgICAgIGNlbGxUeXBlLFxuICAgICAgICAvLyBDb252ZXJ0IHBvc2l0aW9uIHRvIGRldGVybWluaXN0aWMgZnJhY3Rpb25hbCBpbmRleCBpbiBiYXNlMzYgZm9ybWF0XG4gICAgICAgIC8vIFBvc2l0aW9uIDAgLT4gXCJhMFwiLCBQb3NpdGlvbiAxIC0+IFwiYTFcIiwgZXRjLlxuICAgICAgICBmcmFjdGlvbmFsSW5kZXg6IFwiYVwiICsgTWF0aC5mbG9vcihwb3NpdGlvbikudG9TdHJpbmcoMzYpLFxuICAgICAgICBjcmVhdGVkQnksXG4gICAgICB9KVxuICAgICAgLm9uQ29uZmxpY3QoXCJpZFwiLCBcImlnbm9yZVwiKSxcbiAgICAvLyBVcGRhdGUgcHJlc2VuY2UgdGFibGVcbiAgICB1cGRhdGVQcmVzZW5jZShhY3RvcklkIHx8IGNyZWF0ZWRCeSwgaWQpLFxuICBdLFxuXG4gIFwidjIuQ2VsbENyZWF0ZWRcIjogKHsgaWQsIGZyYWN0aW9uYWxJbmRleCwgY2VsbFR5cGUsIGNyZWF0ZWRCeSB9KSA9PiB7XG4gICAgLy8gV2l0aCBmcmFjdGlvbmFsIGluZGV4aW5nLCB3ZSBkb24ndCBuZWVkIGN0eC5xdWVyeSFcbiAgICAvLyBUaGUgb3JkZXIgaXMgYWxyZWFkeSBjYWxjdWxhdGVkIGNsaWVudC1zaWRlXG4gICAgY29uc3Qgb3BzID0gW107XG5cbiAgICBvcHMucHVzaChcbiAgICAgIHRhYmxlcy5jZWxsc1xuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBjZWxsVHlwZSxcbiAgICAgICAgICBmcmFjdGlvbmFsSW5kZXgsIC8vIE5ldyBmcmFjdGlvbmFsIGluZGV4XG4gICAgICAgICAgY3JlYXRlZEJ5LFxuICAgICAgICB9KVxuICAgICAgICAub25Db25mbGljdChcImlkXCIsIFwiaWdub3JlXCIpLFxuICAgICk7XG5cbiAgICAvLyBVcGRhdGUgcHJlc2VuY2UgZm9yIHRoZSBjcmVhdG9yXG4gICAgb3BzLnB1c2godXBkYXRlUHJlc2VuY2UoY3JlYXRlZEJ5LCBpZCkpO1xuXG4gICAgcmV0dXJuIG9wcztcbiAgfSxcblxuICBcInYxLkNlbGxTb3VyY2VDaGFuZ2VkXCI6ICh7IGlkLCBzb3VyY2UsIG1vZGlmaWVkQnkgfSkgPT4gW1xuICAgIHRhYmxlcy5jZWxscy51cGRhdGUoeyBzb3VyY2UgfSkud2hlcmUoeyBpZCB9KSxcbiAgICAvLyBVcGRhdGUgcHJlc2VuY2UgYmFzZWQgb24gY2VsbCBzb3VyY2UgbW9kaWZpY2F0aW9uXG4gICAgdXBkYXRlUHJlc2VuY2UobW9kaWZpZWRCeSwgaWQpLFxuICBdLFxuXG4gIFwidjEuQ2VsbFR5cGVDaGFuZ2VkXCI6ICh7IGlkLCBjZWxsVHlwZSwgYWN0b3JJZCB9KSA9PiB7XG4gICAgY29uc3Qgb3BzID0gW107XG4gICAgb3BzLnB1c2godGFibGVzLmNlbGxzLnVwZGF0ZSh7IGNlbGxUeXBlIH0pLndoZXJlKHsgaWQgfSkpO1xuICAgIGlmIChhY3RvcklkKSB7XG4gICAgICBvcHMucHVzaCh1cGRhdGVQcmVzZW5jZShhY3RvcklkLCBpZCkpO1xuICAgIH1cbiAgICByZXR1cm4gb3BzO1xuICB9LFxuXG4gIFwidjEuQ2VsbERlbGV0ZWRcIjogKHsgaWQsIGFjdG9ySWQgfSkgPT4ge1xuICAgIGNvbnN0IG9wcyA9IFtdO1xuICAgIG9wcy5wdXNoKHRhYmxlcy5jZWxscy5kZWxldGUoKS53aGVyZSh7IGlkIH0pKTtcbiAgICBpZiAoYWN0b3JJZCkge1xuICAgICAgb3BzLnB1c2godXBkYXRlUHJlc2VuY2UoYWN0b3JJZCwgaWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wcztcbiAgfSxcblxuICBcInYxLkNlbGxNb3ZlZFwiOiAoeyBpZCwgbmV3UG9zaXRpb24sIGFjdG9ySWQgfSkgPT4ge1xuICAgIGNvbnN0IG9wcyA9IFtdO1xuICAgIC8vIENvbnZlcnQgcG9zaXRpb24gdG8gZGV0ZXJtaW5pc3RpYyBmcmFjdGlvbmFsIGluZGV4IGluIGJhc2UzNiBmb3JtYXRcbiAgICBvcHMucHVzaChcbiAgICAgIHRhYmxlcy5jZWxscy51cGRhdGUoe1xuICAgICAgICBmcmFjdGlvbmFsSW5kZXg6IFwiYVwiICsgTWF0aC5mbG9vcihuZXdQb3NpdGlvbikudG9TdHJpbmcoMzYpLFxuICAgICAgfSkud2hlcmUoeyBpZCB9KSxcbiAgICApO1xuICAgIGlmIChhY3RvcklkKSB7XG4gICAgICBvcHMucHVzaCh1cGRhdGVQcmVzZW5jZShhY3RvcklkLCBpZCkpO1xuICAgIH1cbiAgICByZXR1cm4gb3BzO1xuICB9LFxuXG4gIFwidjIuQ2VsbE1vdmVkXCI6ICh7IGlkLCBmcmFjdGlvbmFsSW5kZXgsIGFjdG9ySWQgfSkgPT4ge1xuICAgIGNvbnN0IG9wcyA9IFtdO1xuICAgIG9wcy5wdXNoKHRhYmxlcy5jZWxscy51cGRhdGUoeyBmcmFjdGlvbmFsSW5kZXggfSkud2hlcmUoeyBpZCB9KSk7XG4gICAgaWYgKGFjdG9ySWQpIHtcbiAgICAgIG9wcy5wdXNoKHVwZGF0ZVByZXNlbmNlKGFjdG9ySWQsIGlkKSk7XG4gICAgfVxuICAgIHJldHVybiBvcHM7XG4gIH0sXG5cbiAgXCJ2MS5DZWxsU291cmNlVmlzaWJpbGl0eVRvZ2dsZWRcIjogKHsgaWQsIHNvdXJjZVZpc2libGUsIGFjdG9ySWQgfSkgPT4ge1xuICAgIGNvbnN0IG9wcyA9IFtdO1xuICAgIG9wcy5wdXNoKHRhYmxlcy5jZWxscy51cGRhdGUoeyBzb3VyY2VWaXNpYmxlIH0pLndoZXJlKHsgaWQgfSkpO1xuICAgIGlmIChhY3RvcklkKSB7XG4gICAgICBvcHMucHVzaCh1cGRhdGVQcmVzZW5jZShhY3RvcklkLCBpZCkpO1xuICAgIH1cbiAgICByZXR1cm4gb3BzO1xuICB9LFxuXG4gIFwidjEuQ2VsbE91dHB1dFZpc2liaWxpdHlUb2dnbGVkXCI6ICh7IGlkLCBvdXRwdXRWaXNpYmxlLCBhY3RvcklkIH0pID0+IHtcbiAgICBjb25zdCBvcHMgPSBbXTtcbiAgICBvcHMucHVzaCh0YWJsZXMuY2VsbHMudXBkYXRlKHsgb3V0cHV0VmlzaWJsZSB9KS53aGVyZSh7IGlkIH0pKTtcbiAgICBpZiAoYWN0b3JJZCkge1xuICAgICAgb3BzLnB1c2godXBkYXRlUHJlc2VuY2UoYWN0b3JJZCwgaWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wcztcbiAgfSxcblxuICBcInYxLkNlbGxBaUNvbnRleHRWaXNpYmlsaXR5VG9nZ2xlZFwiOiAoeyBpZCwgYWlDb250ZXh0VmlzaWJsZSwgYWN0b3JJZCB9KSA9PiB7XG4gICAgY29uc3Qgb3BzID0gW107XG4gICAgb3BzLnB1c2godGFibGVzLmNlbGxzLnVwZGF0ZSh7IGFpQ29udGV4dFZpc2libGUgfSkud2hlcmUoeyBpZCB9KSk7XG4gICAgaWYgKGFjdG9ySWQpIHtcbiAgICAgIG9wcy5wdXNoKHVwZGF0ZVByZXNlbmNlKGFjdG9ySWQsIGlkKSk7XG4gICAgfVxuICAgIHJldHVybiBvcHM7XG4gIH0sXG5cbiAgXCJ2MS5QcmVzZW5jZVNldFwiOiAoeyB1c2VySWQsIGNlbGxJZCB9KSA9PiB1cGRhdGVQcmVzZW5jZSh1c2VySWQsIGNlbGxJZCksXG5cbiAgLy8gUnVudGltZSBsaWZlY3ljbGUgbWF0ZXJpYWxpemVyc1xuICBcInYxLlJ1bnRpbWVTZXNzaW9uU3RhcnRlZFwiOiAoe1xuICAgIHNlc3Npb25JZCxcbiAgICBydW50aW1lSWQsXG4gICAgcnVudGltZVR5cGUsXG4gICAgY2FwYWJpbGl0aWVzLFxuICB9KSA9PlxuICAgIHRhYmxlcy5ydW50aW1lU2Vzc2lvbnNcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHJ1bnRpbWVJZCxcbiAgICAgICAgcnVudGltZVR5cGUsXG4gICAgICAgIHN0YXR1czogXCJzdGFydGluZ1wiLFxuICAgICAgICBjYW5FeGVjdXRlQ29kZTogY2FwYWJpbGl0aWVzLmNhbkV4ZWN1dGVDb2RlLFxuICAgICAgICBjYW5FeGVjdXRlU3FsOiBjYXBhYmlsaXRpZXMuY2FuRXhlY3V0ZVNxbCxcbiAgICAgICAgY2FuRXhlY3V0ZUFpOiBjYXBhYmlsaXRpZXMuY2FuRXhlY3V0ZUFpLFxuICAgICAgICBhdmFpbGFibGVBaU1vZGVsczogY2FwYWJpbGl0aWVzLmF2YWlsYWJsZUFpTW9kZWxzIHx8IG51bGwsXG4gICAgICB9KVxuICAgICAgLm9uQ29uZmxpY3QoXCJzZXNzaW9uSWRcIiwgXCJyZXBsYWNlXCIpLFxuXG4gIFwidjEuUnVudGltZVNlc3Npb25TdGF0dXNDaGFuZ2VkXCI6ICh7IHNlc3Npb25JZCwgc3RhdHVzIH0pID0+XG4gICAgdGFibGVzLnJ1bnRpbWVTZXNzaW9uc1xuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1cyxcbiAgICAgIH0pXG4gICAgICAud2hlcmUoeyBzZXNzaW9uSWQgfSksXG5cbiAgXCJ2MS5SdW50aW1lU2Vzc2lvblRlcm1pbmF0ZWRcIjogKHsgc2Vzc2lvbklkIH0pID0+XG4gICAgdGFibGVzLnJ1bnRpbWVTZXNzaW9uc1xuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1czogXCJ0ZXJtaW5hdGVkXCIsXG4gICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgICAud2hlcmUoeyBzZXNzaW9uSWQgfSksXG5cbiAgLy8gRXhlY3V0aW9uIHF1ZXVlIG1hdGVyaWFsaXplcnNcbiAgXCJ2MS5FeGVjdXRpb25SZXF1ZXN0ZWRcIjogKHtcbiAgICBxdWV1ZUlkLFxuICAgIGNlbGxJZCxcbiAgICBleGVjdXRpb25Db3VudCxcbiAgICByZXF1ZXN0ZWRCeSxcbiAgICBhY3RvcklkLFxuICB9KSA9PiBbXG4gICAgdGFibGVzLmV4ZWN1dGlvblF1ZXVlXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgaWQ6IHF1ZXVlSWQsXG4gICAgICAgIGNlbGxJZCxcbiAgICAgICAgZXhlY3V0aW9uQ291bnQsXG4gICAgICAgIHJlcXVlc3RlZEJ5LFxuICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgICAgfSlcbiAgICAgIC5vbkNvbmZsaWN0KFwiaWRcIiwgXCJpZ25vcmVcIiksXG4gICAgLy8gVXBkYXRlIGNlbGwgZXhlY3V0aW9uIHN0YXRlXG4gICAgdGFibGVzLmNlbGxzXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgZXhlY3V0aW9uU3RhdGU6IFwicXVldWVkXCIsXG4gICAgICAgIGV4ZWN1dGlvbkNvdW50LFxuICAgICAgfSlcbiAgICAgIC53aGVyZSh7IGlkOiBjZWxsSWQgfSksXG4gICAgLy8gVXBkYXRlIHByZXNlbmNlIHRhYmxlXG4gICAgdXBkYXRlUHJlc2VuY2UoYWN0b3JJZCB8fCByZXF1ZXN0ZWRCeSwgY2VsbElkKSxcbiAgXSxcblxuICBcInYxLkV4ZWN1dGlvbkFzc2lnbmVkXCI6ICh7IHF1ZXVlSWQsIHJ1bnRpbWVTZXNzaW9uSWQgfSkgPT5cbiAgICB0YWJsZXMuZXhlY3V0aW9uUXVldWVcbiAgICAgIC51cGRhdGUoe1xuICAgICAgICBzdGF0dXM6IFwiYXNzaWduZWRcIixcbiAgICAgICAgYXNzaWduZWRSdW50aW1lU2Vzc2lvbjogcnVudGltZVNlc3Npb25JZCxcbiAgICAgIH0pXG4gICAgICAud2hlcmUoeyBpZDogcXVldWVJZCB9KSxcblxuICBcInYxLkV4ZWN1dGlvblN0YXJ0ZWRcIjogKHsgcXVldWVJZCwgY2VsbElkLCBydW50aW1lU2Vzc2lvbklkLCBzdGFydGVkQXQgfSkgPT4gW1xuICAgIC8vIFVwZGF0ZSBleGVjdXRpb24gcXVldWVcbiAgICB0YWJsZXMuZXhlY3V0aW9uUXVldWVcbiAgICAgIC51cGRhdGUoe1xuICAgICAgICBzdGF0dXM6IFwiZXhlY3V0aW5nXCIsXG4gICAgICAgIHN0YXJ0ZWRBdDogc3RhcnRlZEF0LFxuICAgICAgfSlcbiAgICAgIC53aGVyZSh7IGlkOiBxdWV1ZUlkIH0pLFxuICAgIC8vIFVwZGF0ZSBjZWxsIGV4ZWN1dGlvbiBzdGF0ZVxuICAgIHRhYmxlcy5jZWxsc1xuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIGV4ZWN1dGlvblN0YXRlOiBcInJ1bm5pbmdcIixcbiAgICAgICAgYXNzaWduZWRSdW50aW1lU2Vzc2lvbjogcnVudGltZVNlc3Npb25JZCxcbiAgICAgIH0pXG4gICAgICAud2hlcmUoeyBpZDogY2VsbElkIH0pLFxuICBdLFxuXG4gIFwidjEuRXhlY3V0aW9uQ29tcGxldGVkXCI6ICh7XG4gICAgcXVldWVJZCxcbiAgICBjZWxsSWQsXG4gICAgc3RhdHVzLFxuICAgIGNvbXBsZXRlZEF0LFxuICAgIGV4ZWN1dGlvbkR1cmF0aW9uTXMsXG4gIH0pID0+IFtcbiAgICAvLyBVcGRhdGUgZXhlY3V0aW9uIHF1ZXVlXG4gICAgdGFibGVzLmV4ZWN1dGlvblF1ZXVlXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgc3RhdHVzOiBzdGF0dXMgPT09IFwic3VjY2Vzc1wiID8gXCJjb21wbGV0ZWRcIiA6IFwiZmFpbGVkXCIsXG4gICAgICAgIGNvbXBsZXRlZEF0OiBjb21wbGV0ZWRBdCxcbiAgICAgICAgZXhlY3V0aW9uRHVyYXRpb25NczogZXhlY3V0aW9uRHVyYXRpb25NcyxcbiAgICAgIH0pXG4gICAgICAud2hlcmUoeyBpZDogcXVldWVJZCB9KSxcbiAgICAvLyBVcGRhdGUgY2VsbCBleGVjdXRpb24gc3RhdGVcbiAgICB0YWJsZXMuY2VsbHNcbiAgICAgIC51cGRhdGUoe1xuICAgICAgICBleGVjdXRpb25TdGF0ZTogc3RhdHVzID09PSBcInN1Y2Nlc3NcIiA/IFwiY29tcGxldGVkXCIgOiBcImVycm9yXCIsXG4gICAgICAgIGxhc3RFeGVjdXRpb25EdXJhdGlvbk1zOiBleGVjdXRpb25EdXJhdGlvbk1zLFxuICAgICAgfSlcbiAgICAgIC53aGVyZSh7IGlkOiBjZWxsSWQgfSksXG4gIF0sXG5cbiAgXCJ2MS5FeGVjdXRpb25DYW5jZWxsZWRcIjogKHsgcXVldWVJZCwgY2VsbElkLCBjYW5jZWxsZWRCeSwgYWN0b3JJZCB9KSA9PiBbXG4gICAgLy8gVXBkYXRlIGV4ZWN1dGlvbiBxdWV1ZVxuICAgIHRhYmxlcy5leGVjdXRpb25RdWV1ZVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1czogXCJjYW5jZWxsZWRcIixcbiAgICAgIH0pXG4gICAgICAud2hlcmUoeyBpZDogcXVldWVJZCB9KSxcbiAgICAvLyBVcGRhdGUgY2VsbCBleGVjdXRpb24gc3RhdGVcbiAgICB0YWJsZXMuY2VsbHNcbiAgICAgIC51cGRhdGUoe1xuICAgICAgICBleGVjdXRpb25TdGF0ZTogXCJpZGxlXCIsXG4gICAgICB9KVxuICAgICAgLndoZXJlKHsgaWQ6IGNlbGxJZCB9KSxcbiAgICAvLyBVcGRhdGUgcHJlc2VuY2UgdGFibGVcbiAgICB1cGRhdGVQcmVzZW5jZShhY3RvcklkIHx8IGNhbmNlbGxlZEJ5LCBjZWxsSWQpLFxuICBdLFxuXG4gIC8vIFVuaWZpZWQgb3V0cHV0IHN5c3RlbSBtYXRlcmlhbGl6ZXJzIHdpdGggcGVuZGluZyBjbGVhciBzdXBwb3J0XG4gIFwidjEuTXVsdGltZWRpYURpc3BsYXlPdXRwdXRBZGRlZFwiOiAoXG4gICAgeyBpZCwgY2VsbElkLCBwb3NpdGlvbiwgcmVwcmVzZW50YXRpb25zLCBkaXNwbGF5SWQgfSxcbiAgICBjdHgsXG4gICkgPT4ge1xuICAgIGNvbnN0IG9wcyA9IFtdO1xuICAgIC8vIENoZWNrIGZvciBwZW5kaW5nIGNsZWFyc1xuICAgIGNvbnN0IHBlbmRpbmdDbGVhciA9IGN0eC5xdWVyeShcbiAgICAgIHRhYmxlcy5wZW5kaW5nQ2xlYXJzLnNlbGVjdCgpLndoZXJlKHsgY2VsbElkIH0pLmxpbWl0KDEpLFxuICAgIClbMF07XG4gICAgaWYgKHBlbmRpbmdDbGVhcikge1xuICAgICAgb3BzLnB1c2godGFibGVzLm91dHB1dHMuZGVsZXRlKCkud2hlcmUoeyBjZWxsSWQgfSkpO1xuICAgICAgb3BzLnB1c2godGFibGVzLnBlbmRpbmdDbGVhcnMuZGVsZXRlKCkud2hlcmUoeyBjZWxsSWQgfSkpO1xuICAgIH1cblxuICAgIC8vIElmIGRpc3BsYXlJZCBwcm92aWRlZCwgdXBkYXRlIGFsbCBleGlzdGluZyBkaXNwbGF5cyB3aXRoIHNhbWUgSUQgZmlyc3RcbiAgICBpZiAoZGlzcGxheUlkKSB7XG4gICAgICBvcHMucHVzaCguLi51cGRhdGVFeGlzdGluZ0Rpc3BsYXlzKGRpc3BsYXlJZCwgcmVwcmVzZW50YXRpb25zLCBjdHgpKTtcbiAgICB9XG5cbiAgICAvLyBBbHdheXMgY3JlYXRlIG5ldyBvdXRwdXQgKGNvcmUgYmVoYXZpb3Igb2YgXCJBZGRlZFwiIGV2ZW50KVxuICAgIGNvbnN0IHByaW1hcnlSZXAgPSBzZWxlY3RQcmltYXJ5UmVwcmVzZW50YXRpb24ocmVwcmVzZW50YXRpb25zKTtcbiAgICBjb25zdCBwcmltYXJ5RGF0YSA9IHByaW1hcnlSZXBcbiAgICAgID8gcHJpbWFyeVJlcC5jb250YWluZXIudHlwZSA9PT0gXCJpbmxpbmVcIlxuICAgICAgICA/IFN0cmluZyhwcmltYXJ5UmVwLmNvbnRhaW5lci5kYXRhIHx8IFwiXCIpXG4gICAgICAgIDogXCJcIlxuICAgICAgOiBcIlwiO1xuICAgIGNvbnN0IHByaW1hcnlNaW1lVHlwZSA9IHByaW1hcnlSZXAgPyBwcmltYXJ5UmVwLm1pbWVUeXBlIDogXCJ0ZXh0L3BsYWluXCI7XG5cbiAgICBvcHMucHVzaChcbiAgICAgIHRhYmxlcy5vdXRwdXRzXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGNlbGxJZCxcbiAgICAgICAgICBvdXRwdXRUeXBlOiBcIm11bHRpbWVkaWFfZGlzcGxheVwiLFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgIGRpc3BsYXlJZDogZGlzcGxheUlkIHx8IG51bGwsXG4gICAgICAgICAgZGF0YTogcHJpbWFyeURhdGEsXG4gICAgICAgICAgYXJ0aWZhY3RJZDogbnVsbCxcbiAgICAgICAgICBtaW1lVHlwZTogcHJpbWFyeU1pbWVUeXBlLFxuICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgIHJlcHJlc2VudGF0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLm9uQ29uZmxpY3QoXCJpZFwiLCBcInJlcGxhY2VcIiksXG4gICAgKTtcbiAgICByZXR1cm4gb3BzO1xuICB9LFxuXG4gIFwidjEuTXVsdGltZWRpYURpc3BsYXlPdXRwdXRVcGRhdGVkXCI6IChcbiAgICB7IGRpc3BsYXlJZCwgcmVwcmVzZW50YXRpb25zIH0sXG4gICAgY3R4LFxuICApID0+IHtcbiAgICAvLyBPbmx5IHVwZGF0ZSBleGlzdGluZyBkaXNwbGF5cyAtIG5vIG5ldyBvdXRwdXQgY3JlYXRpb25cbiAgICByZXR1cm4gdXBkYXRlRXhpc3RpbmdEaXNwbGF5cyhkaXNwbGF5SWQsIHJlcHJlc2VudGF0aW9ucywgY3R4KTtcbiAgfSxcblxuICBcInYxLk11bHRpbWVkaWFSZXN1bHRPdXRwdXRBZGRlZFwiOiAoXG4gICAgeyBpZCwgY2VsbElkLCBwb3NpdGlvbiwgcmVwcmVzZW50YXRpb25zLCBleGVjdXRpb25Db3VudCB9LFxuICAgIGN0eCxcbiAgKSA9PiB7XG4gICAgY29uc3Qgb3BzID0gW107XG4gICAgLy8gQ2hlY2sgZm9yIHBlbmRpbmcgY2xlYXJzXG4gICAgY29uc3QgcGVuZGluZ0NsZWFyID0gY3R4LnF1ZXJ5KFxuICAgICAgdGFibGVzLnBlbmRpbmdDbGVhcnMuc2VsZWN0KCkud2hlcmUoeyBjZWxsSWQgfSkubGltaXQoMSksXG4gICAgKVswXTtcbiAgICBpZiAocGVuZGluZ0NsZWFyKSB7XG4gICAgICBvcHMucHVzaCh0YWJsZXMub3V0cHV0cy5kZWxldGUoKS53aGVyZSh7IGNlbGxJZCB9KSk7XG4gICAgICBvcHMucHVzaCh0YWJsZXMucGVuZGluZ0NsZWFycy5kZWxldGUoKS53aGVyZSh7IGNlbGxJZCB9KSk7XG4gICAgfVxuXG4gICAgLy8gQ2hvb3NlIHByaW1hcnkgcmVwcmVzZW50YXRpb25cbiAgICBjb25zdCBwcmVmZXJlbmNlT3JkZXIgPSBbXG4gICAgICBcInRleHQvaHRtbFwiLFxuICAgICAgXCJpbWFnZS9wbmdcIixcbiAgICAgIFwiaW1hZ2UvanBlZ1wiLFxuICAgICAgXCJpbWFnZS9zdmcreG1sXCIsXG4gICAgICBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwidGV4dC9wbGFpblwiLFxuICAgIF07XG4gICAgbGV0IHByaW1hcnlEYXRhID0gXCJcIjtcbiAgICBsZXQgcHJpbWFyeU1pbWVUeXBlID0gXCJ0ZXh0L3BsYWluXCI7XG5cbiAgICBmb3IgKGNvbnN0IG1pbWVUeXBlIG9mIHByZWZlcmVuY2VPcmRlcikge1xuICAgICAgaWYgKHJlcHJlc2VudGF0aW9uc1ttaW1lVHlwZV0pIHtcbiAgICAgICAgY29uc3QgcmVwID0gcmVwcmVzZW50YXRpb25zW21pbWVUeXBlXTtcbiAgICAgICAgcHJpbWFyeURhdGEgPSByZXAudHlwZSA9PT0gXCJpbmxpbmVcIiA/IFN0cmluZyhyZXAuZGF0YSB8fCBcIlwiKSA6IFwiXCI7XG4gICAgICAgIHByaW1hcnlNaW1lVHlwZSA9IG1pbWVUeXBlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvcHMucHVzaChcbiAgICAgIHRhYmxlcy5vdXRwdXRzXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGNlbGxJZCxcbiAgICAgICAgICBvdXRwdXRUeXBlOiBcIm11bHRpbWVkaWFfcmVzdWx0XCIsXG4gICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgZXhlY3V0aW9uQ291bnQsXG4gICAgICAgICAgZGF0YTogcHJpbWFyeURhdGEsXG4gICAgICAgICAgYXJ0aWZhY3RJZDogbnVsbCxcbiAgICAgICAgICBtaW1lVHlwZTogcHJpbWFyeU1pbWVUeXBlLFxuICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgIHJlcHJlc2VudGF0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgICAgLm9uQ29uZmxpY3QoXCJpZFwiLCBcInJlcGxhY2VcIiksXG4gICAgKTtcbiAgICByZXR1cm4gb3BzO1xuICB9LFxuXG4gIFwidjEuVGVybWluYWxPdXRwdXRBZGRlZFwiOiAoXG4gICAgeyBpZCwgY2VsbElkLCBwb3NpdGlvbiwgY29udGVudCwgc3RyZWFtTmFtZSB9LFxuICAgIGN0eCxcbiAgKSA9PiB7XG4gICAgY29uc3Qgb3BzID0gW107XG4gICAgLy8gQ2hlY2sgZm9yIHBlbmRpbmcgY2xlYXJzXG4gICAgY29uc3QgcGVuZGluZ0NsZWFyID0gY3R4LnF1ZXJ5KFxuICAgICAgdGFibGVzLnBlbmRpbmdDbGVhcnMuc2VsZWN0KCkud2hlcmUoeyBjZWxsSWQgfSkubGltaXQoMSksXG4gICAgKVswXTtcbiAgICBpZiAocGVuZGluZ0NsZWFyKSB7XG4gICAgICBvcHMucHVzaCh0YWJsZXMub3V0cHV0cy5kZWxldGUoKS53aGVyZSh7IGNlbGxJZCB9KSk7XG4gICAgICBvcHMucHVzaCh0YWJsZXMucGVuZGluZ0NsZWFycy5kZWxldGUoKS53aGVyZSh7IGNlbGxJZCB9KSk7XG4gICAgfVxuXG4gICAgb3BzLnB1c2goXG4gICAgICB0YWJsZXMub3V0cHV0c1xuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBjZWxsSWQsXG4gICAgICAgICAgb3V0cHV0VHlwZTogXCJ0ZXJtaW5hbFwiLFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgIHN0cmVhbU5hbWUsXG4gICAgICAgICAgZGF0YTogY29udGVudC50eXBlID09PSBcImlubGluZVwiID8gU3RyaW5nKGNvbnRlbnQuZGF0YSkgOiBudWxsLFxuICAgICAgICAgIGFydGlmYWN0SWQ6IGNvbnRlbnQudHlwZSA9PT0gXCJhcnRpZmFjdFwiID8gY29udGVudC5hcnRpZmFjdElkIDogbnVsbCxcbiAgICAgICAgICBtaW1lVHlwZTogXCJ0ZXh0L3BsYWluXCIsXG4gICAgICAgICAgbWV0YWRhdGE6IGNvbnRlbnQubWV0YWRhdGEgfHwgbnVsbCxcbiAgICAgICAgICByZXByZXNlbnRhdGlvbnM6IG51bGwsXG4gICAgICAgIH0pXG4gICAgICAgIC5vbkNvbmZsaWN0KFwiaWRcIiwgXCJyZXBsYWNlXCIpLFxuICAgICk7XG4gICAgcmV0dXJuIG9wcztcbiAgfSxcblxuICBcInYxLlRlcm1pbmFsT3V0cHV0QXBwZW5kZWRcIjogKHsgb3V0cHV0SWQsIGNvbnRlbnQgfSwgY3R4KSA9PiB7XG4gICAgY29uc3QgZXhpc3RpbmdPdXRwdXQgPSBjdHgucXVlcnkoXG4gICAgICB0YWJsZXMub3V0cHV0cy5zZWxlY3QoKS53aGVyZSh7IGlkOiBvdXRwdXRJZCB9KS5saW1pdCgxKSxcbiAgICApWzBdO1xuXG4gICAgaWYgKCFleGlzdGluZ091dHB1dCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBjb250ZW50LnR5cGUgPT09IFwiaW5saW5lXCIgPyBTdHJpbmcoY29udGVudC5kYXRhKSA6IFwiXCI7XG4gICAgY29uc3QgY29uY2F0ZW5hdGVkRGF0YSA9IChleGlzdGluZ091dHB1dC5kYXRhIHx8IFwiXCIpICsgbmV3Q29udGVudDtcblxuICAgIHJldHVybiBbXG4gICAgICB0YWJsZXMub3V0cHV0cy51cGRhdGUoeyBkYXRhOiBjb25jYXRlbmF0ZWREYXRhIH0pLndoZXJlKHsgaWQ6IG91dHB1dElkIH0pLFxuICAgIF07XG4gIH0sXG5cbiAgXCJ2Mi5UZXJtaW5hbE91dHB1dEFwcGVuZGVkXCI6ICh7IG91dHB1dElkLCBkZWx0YSwgaWQsIHNlcXVlbmNlTnVtYmVyIH0pID0+IHtcbiAgICByZXR1cm4gdGFibGVzLm91dHB1dERlbHRhcy5pbnNlcnQoe1xuICAgICAgaWQsXG4gICAgICBvdXRwdXRJZCxcbiAgICAgIGRlbHRhLFxuICAgICAgc2VxdWVuY2VOdW1iZXIsXG4gICAgfSk7XG4gIH0sXG5cbiAgXCJ2MS5NYXJrZG93bk91dHB1dEFkZGVkXCI6ICh7IGlkLCBjZWxsSWQsIHBvc2l0aW9uLCBjb250ZW50IH0sIGN0eCkgPT4ge1xuICAgIGNvbnN0IG9wcyA9IFtdO1xuICAgIC8vIENoZWNrIGZvciBwZW5kaW5nIGNsZWFyc1xuICAgIGNvbnN0IHBlbmRpbmdDbGVhciA9IGN0eC5xdWVyeShcbiAgICAgIHRhYmxlcy5wZW5kaW5nQ2xlYXJzLnNlbGVjdCgpLndoZXJlKHsgY2VsbElkIH0pLmxpbWl0KDEpLFxuICAgIClbMF07XG4gICAgaWYgKHBlbmRpbmdDbGVhcikge1xuICAgICAgb3BzLnB1c2godGFibGVzLm91dHB1dHMuZGVsZXRlKCkud2hlcmUoeyBjZWxsSWQgfSkpO1xuICAgICAgb3BzLnB1c2godGFibGVzLnBlbmRpbmdDbGVhcnMuZGVsZXRlKCkud2hlcmUoeyBjZWxsSWQgfSkpO1xuICAgIH1cblxuICAgIG9wcy5wdXNoKFxuICAgICAgdGFibGVzLm91dHB1dHNcbiAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgY2VsbElkLFxuICAgICAgICAgIG91dHB1dFR5cGU6IFwibWFya2Rvd25cIixcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICBkYXRhOiBjb250ZW50LnR5cGUgPT09IFwiaW5saW5lXCIgPyBTdHJpbmcoY29udGVudC5kYXRhKSA6IG51bGwsXG4gICAgICAgICAgYXJ0aWZhY3RJZDogY29udGVudC50eXBlID09PSBcImFydGlmYWN0XCIgPyBjb250ZW50LmFydGlmYWN0SWQgOiBudWxsLFxuICAgICAgICAgIG1pbWVUeXBlOiBcInRleHQvbWFya2Rvd25cIixcbiAgICAgICAgICBtZXRhZGF0YTogY29udGVudC5tZXRhZGF0YSB8fCBudWxsLFxuICAgICAgICAgIHJlcHJlc2VudGF0aW9uczogbnVsbCxcbiAgICAgICAgfSlcbiAgICAgICAgLm9uQ29uZmxpY3QoXCJpZFwiLCBcInJlcGxhY2VcIiksXG4gICAgKTtcbiAgICByZXR1cm4gb3BzO1xuICB9LFxuXG4gIC8qKkBkZXByZWNhdGVkICovXG4gIFwidjEuTWFya2Rvd25PdXRwdXRBcHBlbmRlZFwiOiAoeyBvdXRwdXRJZCwgY29udGVudCB9LCBjdHgpID0+IHtcbiAgICBjb25zdCBleGlzdGluZ091dHB1dCA9IGN0eC5xdWVyeShcbiAgICAgIHRhYmxlcy5vdXRwdXRzLnNlbGVjdCgpLndoZXJlKHsgaWQ6IG91dHB1dElkIH0pLmxpbWl0KDEpLFxuICAgIClbMF07XG5cbiAgICBpZiAoIWV4aXN0aW5nT3V0cHV0KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgbmV3Q29udGVudCA9IGNvbnRlbnQudHlwZSA9PT0gXCJpbmxpbmVcIiA/IFN0cmluZyhjb250ZW50LmRhdGEpIDogXCJcIjtcbiAgICBjb25zdCBjb25jYXRlbmF0ZWREYXRhID0gKGV4aXN0aW5nT3V0cHV0LmRhdGEgfHwgXCJcIikgKyBuZXdDb250ZW50O1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIHRhYmxlcy5vdXRwdXRzLnVwZGF0ZSh7IGRhdGE6IGNvbmNhdGVuYXRlZERhdGEgfSkud2hlcmUoeyBpZDogb3V0cHV0SWQgfSksXG4gICAgXTtcbiAgfSxcblxuICBcInYyLk1hcmtkb3duT3V0cHV0QXBwZW5kZWRcIjogKHsgaWQsIG91dHB1dElkLCBkZWx0YSwgc2VxdWVuY2VOdW1iZXIgfSkgPT4ge1xuICAgIHJldHVybiB0YWJsZXMub3V0cHV0RGVsdGFzLmluc2VydCh7XG4gICAgICBpZCxcbiAgICAgIG91dHB1dElkLFxuICAgICAgZGVsdGEsXG4gICAgICBzZXF1ZW5jZU51bWJlcixcbiAgICB9KTtcbiAgfSxcblxuICBcInYxLkVycm9yT3V0cHV0QWRkZWRcIjogKHsgaWQsIGNlbGxJZCwgcG9zaXRpb24sIGNvbnRlbnQgfSwgY3R4KSA9PiB7XG4gICAgY29uc3Qgb3BzID0gW107XG4gICAgLy8gQ2hlY2sgZm9yIHBlbmRpbmcgY2xlYXJzXG4gICAgY29uc3QgcGVuZGluZ0NsZWFyID0gY3R4LnF1ZXJ5KFxuICAgICAgdGFibGVzLnBlbmRpbmdDbGVhcnMuc2VsZWN0KCkud2hlcmUoeyBjZWxsSWQgfSkubGltaXQoMSksXG4gICAgKVswXTtcbiAgICBpZiAocGVuZGluZ0NsZWFyKSB7XG4gICAgICBvcHMucHVzaCh0YWJsZXMub3V0cHV0cy5kZWxldGUoKS53aGVyZSh7IGNlbGxJZCB9KSk7XG4gICAgICBvcHMucHVzaCh0YWJsZXMucGVuZGluZ0NsZWFycy5kZWxldGUoKS53aGVyZSh7IGNlbGxJZCB9KSk7XG4gICAgfVxuXG4gICAgb3BzLnB1c2goXG4gICAgICB0YWJsZXMub3V0cHV0c1xuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBjZWxsSWQsXG4gICAgICAgICAgb3V0cHV0VHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgIGRhdGE6IGNvbnRlbnQudHlwZSA9PT0gXCJpbmxpbmVcIiA/IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQuZGF0YSkgOiBudWxsLFxuICAgICAgICAgIGFydGlmYWN0SWQ6IGNvbnRlbnQudHlwZSA9PT0gXCJhcnRpZmFjdFwiID8gY29udGVudC5hcnRpZmFjdElkIDogbnVsbCxcbiAgICAgICAgICBtaW1lVHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgbWV0YWRhdGE6IGNvbnRlbnQubWV0YWRhdGEgfHwgbnVsbCxcbiAgICAgICAgICByZXByZXNlbnRhdGlvbnM6IG51bGwsXG4gICAgICAgIH0pXG4gICAgICAgIC5vbkNvbmZsaWN0KFwiaWRcIiwgXCJyZXBsYWNlXCIpLFxuICAgICk7XG4gICAgcmV0dXJuIG9wcztcbiAgfSxcblxuICBcInYxLkNlbGxPdXRwdXRzQ2xlYXJlZFwiOiAoeyBjZWxsSWQsIHdhaXQsIGNsZWFyZWRCeSB9KSA9PiB7XG4gICAgY29uc3Qgb3BzID0gW107XG4gICAgaWYgKHdhaXQpIHtcbiAgICAgIC8vIFN0b3JlIHBlbmRpbmcgY2xlYXIgZm9yIHdhaXQ9VHJ1ZVxuICAgICAgb3BzLnB1c2goXG4gICAgICAgIHRhYmxlcy5wZW5kaW5nQ2xlYXJzXG4gICAgICAgICAgLmluc2VydCh7IGNlbGxJZCwgY2xlYXJlZEJ5IH0pXG4gICAgICAgICAgLm9uQ29uZmxpY3QoXCJjZWxsSWRcIiwgXCJyZXBsYWNlXCIpLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW1tZWRpYXRlIGNsZWFyIGZvciB3YWl0PUZhbHNlXG4gICAgICBvcHMucHVzaCh0YWJsZXMub3V0cHV0cy5kZWxldGUoKS53aGVyZSh7IGNlbGxJZCB9KSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHByZXNlbmNlIHVwZGF0ZSBpZiB1c2VyIGlzIHByb3ZpZGVkXG4gICAgaWYgKGNsZWFyZWRCeSkge1xuICAgICAgb3BzLnB1c2godXBkYXRlUHJlc2VuY2UoY2xlYXJlZEJ5LCBjZWxsSWQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3BzO1xuICB9LFxuXG4gIC8vIEFJIG1hdGVyaWFsaXplcnNcbiAgXCJ2MS5BaVNldHRpbmdzQ2hhbmdlZFwiOiAoeyBjZWxsSWQsIHByb3ZpZGVyLCBtb2RlbCwgc2V0dGluZ3MgfSkgPT5cbiAgICB0YWJsZXMuY2VsbHNcbiAgICAgIC51cGRhdGUoe1xuICAgICAgICBhaVByb3ZpZGVyOiBwcm92aWRlcixcbiAgICAgICAgYWlNb2RlbDogbW9kZWwsXG4gICAgICAgIGFpU2V0dGluZ3M6IHNldHRpbmdzLFxuICAgICAgfSlcbiAgICAgIC53aGVyZSh7IGlkOiBjZWxsSWQgfSksXG5cbiAgLy8gU1FMIG1hdGVyaWFsaXplcnNcbiAgXCJ2MS5TcWxDb25uZWN0aW9uQ2hhbmdlZFwiOiAoeyBjZWxsSWQsIGNvbm5lY3Rpb25JZCB9KSA9PlxuICAgIHRhYmxlcy5jZWxsc1xuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHNxbENvbm5lY3Rpb25JZDogY29ubmVjdGlvbklkID8/IG51bGwsXG4gICAgICB9KVxuICAgICAgLndoZXJlKHsgaWQ6IGNlbGxJZCB9KSxcblxuICBcInYxLlNxbFJlc3VsdFZhcmlhYmxlQ2hhbmdlZFwiOiAoeyBjZWxsSWQsIHJlc3VsdFZhcmlhYmxlIH0pID0+XG4gICAgdGFibGVzLmNlbGxzXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgc3FsUmVzdWx0VmFyaWFibGU6IHJlc3VsdFZhcmlhYmxlID8/IG51bGwsXG4gICAgICB9KVxuICAgICAgLndoZXJlKHsgaWQ6IGNlbGxJZCB9KSxcblxuICBcInYxLkFjdG9yUHJvZmlsZVNldFwiOiAoeyBpZCwgdHlwZSwgZGlzcGxheU5hbWUsIGF2YXRhciB9KSA9PlxuICAgIHRhYmxlcy5hY3RvcnNcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICBpZCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgZGlzcGxheU5hbWUsXG4gICAgICAgIGF2YXRhcjogYXZhdGFyID8/IG51bGwsXG4gICAgICB9KVxuICAgICAgLm9uQ29uZmxpY3QoXCJpZFwiLCBcInJlcGxhY2VcIiksXG5cbiAgLy8gVG9vbCBhcHByb3ZhbCBtYXRlcmlhbGl6ZXJzXG4gIFwidjEuVG9vbEFwcHJvdmFsUmVxdWVzdGVkXCI6ICh7XG4gICAgdG9vbENhbGxJZCxcbiAgICBjZWxsSWQsXG4gICAgdG9vbE5hbWUsXG4gICAgYXJndW1lbnRzOiBfYXJncyxcbiAgICByZXF1ZXN0ZWRBdCxcbiAgfSkgPT5cbiAgICB0YWJsZXMudG9vbEFwcHJvdmFsc1xuICAgICAgLmluc2VydCh7XG4gICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgIGNlbGxJZCxcbiAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCIsXG4gICAgICAgIGFwcHJvdmVkQnk6IG51bGwsXG4gICAgICAgIHJlcXVlc3RlZEF0LFxuICAgICAgICByZXNwb25kZWRBdDogbnVsbCxcbiAgICAgIH0pXG4gICAgICAub25Db25mbGljdChcInRvb2xDYWxsSWRcIiwgXCJyZXBsYWNlXCIpLFxuXG4gIFwidjEuVG9vbEFwcHJvdmFsUmVzcG9uZGVkXCI6ICh7XG4gICAgdG9vbENhbGxJZCxcbiAgICBzdGF0dXMsXG4gICAgYXBwcm92ZWRCeSxcbiAgICByZXNwb25kZWRBdCxcbiAgfSkgPT5cbiAgICB0YWJsZXMudG9vbEFwcHJvdmFsc1xuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgYXBwcm92ZWRCeSxcbiAgICAgICAgcmVzcG9uZGVkQXQsXG4gICAgICB9KVxuICAgICAgLndoZXJlKHsgdG9vbENhbGxJZCB9KSxcbn0pO1xuXG4vLyBUeXBlIGV4cG9ydHMgZGVyaXZlZCBmcm9tIHRoZSBhY3R1YWwgdGFibGUgZGVmaW5pdGlvbnMgLSBmdWxsIHR5cGUgaW5mZXJlbmNlIHdvcmtzIGhlcmUhXG5leHBvcnQgdHlwZSBOb3RlYm9va01ldGFkYXRhRGF0YSA9IHR5cGVvZiB0YWJsZXMubm90ZWJvb2tNZXRhZGF0YS5UeXBlO1xuZXhwb3J0IHR5cGUgQ2VsbERhdGEgPSB0eXBlb2YgdGFibGVzLmNlbGxzLlR5cGU7XG5leHBvcnQgdHlwZSBPdXRwdXREYXRhID0gdHlwZW9mIHRhYmxlcy5vdXRwdXRzLlR5cGU7XG5cbmV4cG9ydCB0eXBlIFJ1bnRpbWVTZXNzaW9uRGF0YSA9IHR5cGVvZiB0YWJsZXMucnVudGltZVNlc3Npb25zLlR5cGU7XG5leHBvcnQgdHlwZSBFeGVjdXRpb25RdWV1ZURhdGEgPSB0eXBlb2YgdGFibGVzLmV4ZWN1dGlvblF1ZXVlLlR5cGU7XG5leHBvcnQgdHlwZSBVaVN0YXRlRGF0YSA9IHR5cGVvZiB0YWJsZXMudWlTdGF0ZS5UeXBlO1xuXG4vLyBUeXBlIGd1YXJkcyBmb3IgTWVkaWFDb250YWluZXJcbmV4cG9ydCBmdW5jdGlvbiBpc0lubGluZUNvbnRhaW5lcjxUPihcbiAgY29udGFpbmVyOiBNZWRpYUNvbnRhaW5lcixcbik6IGNvbnRhaW5lciBpcyBJbmxpbmVDb250YWluZXI8VD4ge1xuICByZXR1cm4gY29udGFpbmVyLnR5cGUgPT09IFwiaW5saW5lXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FydGlmYWN0Q29udGFpbmVyKFxuICBjb250YWluZXI6IE1lZGlhQ29udGFpbmVyLFxuKTogY29udGFpbmVyIGlzIEFydGlmYWN0Q29udGFpbmVyIHtcbiAgcmV0dXJuIGNvbnRhaW5lci50eXBlID09PSBcImFydGlmYWN0XCI7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgbm90ZWJvb2sgbWV0YWRhdGEgd2l0aCBkZWZhdWx0c1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vdGVib29rTWV0YWRhdGEoXG4gIG1ldGFkYXRhUmVjb3JkczogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9PixcbiAga2V5OiBzdHJpbmcsXG4gIGRlZmF1bHRWYWx1ZTogc3RyaW5nID0gXCJcIixcbik6IHN0cmluZyB7XG4gIGNvbnN0IHJlY29yZCA9IG1ldGFkYXRhUmVjb3Jkcy5maW5kKChyKSA9PiByLmtleSA9PT0ga2V5KTtcbiAgcmV0dXJuIHJlY29yZD8udmFsdWUgPz8gZGVmYXVsdFZhbHVlO1xufVxuXG4vLyBIZWxwZXIgdG8gZ2V0IGNvbW1vbiBub3RlYm9vayBtZXRhZGF0YSB2YWx1ZXNcbmV4cG9ydCBmdW5jdGlvbiBnZXROb3RlYm9va0luZm8oXG4gIG1ldGFkYXRhUmVjb3JkczogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9Pixcbikge1xuICByZXR1cm4ge1xuICAgIHRpdGxlOiBnZXROb3RlYm9va01ldGFkYXRhKG1ldGFkYXRhUmVjb3JkcywgXCJ0aXRsZVwiLCBcIlVudGl0bGVkXCIpLFxuICAgIG93bmVySWQ6IGdldE5vdGVib29rTWV0YWRhdGEobWV0YWRhdGFSZWNvcmRzLCBcIm93bmVySWRcIiwgXCJhbm9ueW1vdXNcIiksXG4gICAgcnVudGltZVR5cGU6IGdldE5vdGVib29rTWV0YWRhdGEobWV0YWRhdGFSZWNvcmRzLCBcInJ1bnRpbWVUeXBlXCIsIFwicHl0aG9uM1wiKSxcbiAgICBpc1B1YmxpYzpcbiAgICAgIGdldE5vdGVib29rTWV0YWRhdGEobWV0YWRhdGFSZWNvcmRzLCBcImlzUHVibGljXCIsIFwiZmFsc2VcIikgPT09IFwidHJ1ZVwiLFxuICB9O1xufVxuXG4vLyBPdXRwdXQgZGF0YSB0eXBlcyBmb3IgZGlmZmVyZW50IG91dHB1dCBmb3JtYXRzXG5leHBvcnQgaW50ZXJmYWNlIFJpY2hPdXRwdXREYXRhIHtcbiAgW21pbWVUeXBlOiBzdHJpbmddOiBNZWRpYUNvbnRhaW5lcjtcbn1cblxuLy8gRXJyb3Igb3V0cHV0IHN0cnVjdHVyZVxuLy8gRXJyb3Igb3V0cHV0IGRhdGEgc3RydWN0dXJlIGZvciB1bmlmaWVkIHN5c3RlbVxuZXhwb3J0IGludGVyZmFjZSBFcnJvck91dHB1dERhdGEge1xuICBlbmFtZTogc3RyaW5nO1xuICBldmFsdWU6IHN0cmluZztcbiAgdHJhY2ViYWNrOiBzdHJpbmdbXTtcbn1cblxuLy8gVHlwZSBndWFyZHMgZm9yIG91dHB1dCBkYXRhXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvck91dHB1dChkYXRhOiB1bmtub3duKTogZGF0YSBpcyBFcnJvck91dHB1dERhdGEge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmXG4gICAgZGF0YSAhPT0gbnVsbCAmJlxuICAgIFwiZW5hbWVcIiBpbiBkYXRhICYmXG4gICAgXCJldmFsdWVcIiBpbiBkYXRhICYmXG4gICAgdHlwZW9mIChkYXRhIGFzIEVycm9yT3V0cHV0RGF0YSkuZW5hbWUgPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgKGRhdGEgYXMgRXJyb3JPdXRwdXREYXRhKS5ldmFsdWUgPT09IFwic3RyaW5nXCJcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmljaE91dHB1dChkYXRhOiB1bmtub3duKTogZGF0YSBpcyBSaWNoT3V0cHV0RGF0YSB7XG4gIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhICE9PSBudWxsICYmICFpc0Vycm9yT3V0cHV0KGRhdGEpO1xufVxuXG4vKipcbiAqIEFJIHRvb2wgY2FsbCBkYXRhIHN0cnVjdHVyZSBmb3Igbm90ZWJvb2sgb3V0cHV0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEFpVG9vbENhbGxEYXRhIHtcbiAgdG9vbF9jYWxsX2lkOiBzdHJpbmc7XG4gIHRvb2xfbmFtZTogc3RyaW5nO1xuICBhcmd1bWVudHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xufVxuXG4vKipcbiAqIEFJIHRvb2wgcmVzdWx0IGRhdGEgc3RydWN0dXJlIGZvciBub3RlYm9vayBvdXRwdXRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWlUb29sUmVzdWx0RGF0YSB7XG4gIHRvb2xfY2FsbF9pZDogc3RyaW5nO1xuICBzdGF0dXM6IFwic3VjY2Vzc1wiIHwgXCJlcnJvclwiO1xuICByZXN1bHQ/OiBzdHJpbmc7XG4gIC8vIE9wdGlvbmFsIGZpZWxkcyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICB0b29sX25hbWU/OiBzdHJpbmc7XG4gIGFyZ3VtZW50cz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICB0aW1lc3RhbXA/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBkYXRhIGlzIGFuIEFJIHRvb2wgY2FsbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBaVRvb2xDYWxsRGF0YShkYXRhOiB1bmtub3duKTogZGF0YSBpcyBBaVRvb2xDYWxsRGF0YSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiZcbiAgICBkYXRhICE9PSBudWxsICYmXG4gICAgXCJ0b29sX2NhbGxfaWRcIiBpbiBkYXRhICYmXG4gICAgXCJ0b29sX25hbWVcIiBpbiBkYXRhICYmXG4gICAgXCJhcmd1bWVudHNcIiBpbiBkYXRhICYmXG4gICAgdHlwZW9mIChkYXRhIGFzIEFpVG9vbENhbGxEYXRhKS50b29sX2NhbGxfaWQgPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgKGRhdGEgYXMgQWlUb29sQ2FsbERhdGEpLnRvb2xfbmFtZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIHR5cGVvZiAoZGF0YSBhcyBBaVRvb2xDYWxsRGF0YSkuYXJndW1lbnRzID09PSBcIm9iamVjdFwiXG4gICk7XG59XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBkYXRhIGlzIGFuIEFJIHRvb2wgcmVzdWx0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FpVG9vbFJlc3VsdERhdGEoZGF0YTogdW5rbm93bik6IGRhdGEgaXMgQWlUb29sUmVzdWx0RGF0YSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiZcbiAgICBkYXRhICE9PSBudWxsICYmXG4gICAgXCJ0b29sX2NhbGxfaWRcIiBpbiBkYXRhICYmXG4gICAgXCJzdGF0dXNcIiBpbiBkYXRhICYmXG4gICAgdHlwZW9mIChkYXRhIGFzIEFpVG9vbFJlc3VsdERhdGEpLnRvb2xfY2FsbF9pZCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIHR5cGVvZiAoZGF0YSBhcyBBaVRvb2xSZXN1bHREYXRhKS5zdGF0dXMgPT09IFwic3RyaW5nXCIgJiZcbiAgICBbXCJzdWNjZXNzXCIsIFwiZXJyb3JcIl0uaW5jbHVkZXMoKGRhdGEgYXMgQWlUb29sUmVzdWx0RGF0YSkuc3RhdHVzKVxuICApO1xufVxuXG4vKipcbiAqIEFJIHRvb2wgY2FsbCBNSU1FIHR5cGUgY29uc3RhbnRcbiAqL1xuZXhwb3J0IGNvbnN0IEFJX1RPT0xfQ0FMTF9NSU1FX1RZUEUgPVxuICBcImFwcGxpY2F0aW9uL3ZuZC5hbm9kZS5haXRvb2wranNvblwiIGFzIGNvbnN0O1xuXG4vKipcbiAqIEFJIHRvb2wgcmVzdWx0IE1JTUUgdHlwZSBjb25zdGFudFxuICovXG5leHBvcnQgY29uc3QgQUlfVE9PTF9SRVNVTFRfTUlNRV9UWVBFID1cbiAgXCJhcHBsaWNhdGlvbi92bmQuYW5vZGUuYWl0b29sLnJlc3VsdCtqc29uXCIgYXMgY29uc3Q7XG5cbi8vIEV4cG9ydCBmcmFjdGlvbmFsIGluZGV4aW5nIHV0aWxpdGllcyB3aXRoIG9wdGlvbmFsIGppdHRlcmluZ1xuLyoqXG4gKiBCaW5hcnktY29sbGF0aW9uLXNhZmUgZnJhY3Rpb25hbCBpbmRleGluZyBpbXBsZW1lbnRhdGlvbi5cbiAqIFVzZXMgb25seSBjaGFyYWN0ZXJzIDAtOSBhbmQgYS16IHdoaWNoIHNvcnQgY29ycmVjdGx5IGluIGJpbmFyeS9BU0NJSSBjb2xsYXRpb24uXG4gKiBUaGlzIGF2b2lkcyB0aGUgdXBwZXJjYXNlL2xvd2VyY2FzZSBzb3J0aW5nIGlzc3VlcyB3aXRoIHRoZSBmcmFjdGlvbmFsLWluZGV4aW5nIGxpYnJhcnkuXG4gKi9cblxuY29uc3QgQkFTRTM2X0RJR0lUUyA9IFwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCI7XG5jb25zdCBCQVNFID0gQkFTRTM2X0RJR0lUUy5sZW5ndGg7XG5cbmZ1bmN0aW9uIGNoYXJUb1ZhbHVlKGNoYXI6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IGluZGV4ID0gQkFTRTM2X0RJR0lUUy5pbmRleE9mKGNoYXIpO1xuICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNoYXJhY3RlcjogJHtjaGFyfWApO1xuICB9XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gdmFsdWVUb0NoYXIodmFsdWU6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPj0gQkFTRSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgb3V0IG9mIHJhbmdlOiAke3ZhbHVlfWApO1xuICB9XG4gIHJldHVybiBCQVNFMzZfRElHSVRTW3ZhbHVlXSE7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlS2V5QmV0d2VlbihcbiAgYTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgYjogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCxcbik6IHN0cmluZyB7XG4gIC8vIEhhbmRsZSBudWxsL3VuZGVmaW5lZCBjYXNlc1xuICBpZiAoIWEgJiYgIWIpIHJldHVybiBcIm1cIjsgLy8gTWlkZGxlIG9mIHRoZSByYW5nZVxuICBpZiAoIWEpIHJldHVybiBnZW5lcmF0ZUtleUJlZm9yZShiISk7XG4gIGlmICghYikgcmV0dXJuIGdlbmVyYXRlS2V5QWZ0ZXIoYSk7XG5cbiAgLy8gRW5zdXJlIGEgPCBiXG4gIGlmIChhID49IGIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmFuZ2U6ICR7YX0gPj0gJHtifWApO1xuICB9XG5cbiAgLy8gRmluZCB0aGUgZmlyc3QgcG9zaXRpb24gd2hlcmUgdGhleSBkaWZmZXJcbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAoaSA8IGEubGVuZ3RoICYmIGkgPCBiLmxlbmd0aCAmJiBhW2ldID09PSBiW2ldKSB7XG4gICAgaSsrO1xuICB9XG5cbiAgLy8gSWYgYSBpcyBhIHByZWZpeCBvZiBiLCB3ZSBuZWVkIHNwZWNpYWwgaGFuZGxpbmdcbiAgaWYgKGkgPT09IGEubGVuZ3RoKSB7XG4gICAgY29uc3QgbmV4dENoYXIgPSBiW2ldO1xuICAgIGlmICghbmV4dENoYXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpbmRleCAke2l9IGZvciBzdHJpbmcgJHtifWApO1xuICAgIH1cbiAgICBjb25zdCBuZXh0VmFsID0gY2hhclRvVmFsdWUobmV4dENoYXIpO1xuXG4gICAgLy8gSWYgYiBjb250aW51ZXMgd2l0aCBhIGNoYXJhY3RlciA+IDAsIHdlIGNhbiBpbnNlcnQgYSBtaWRwb2ludFxuICAgIGlmIChuZXh0VmFsID4gMCkge1xuICAgICAgLy8gV2UgY2FuIGZpdCBzb21ldGhpbmcgYmV0d2VlbiBhIGFuZCBiXG4gICAgICAvLyBGb3IgZXhhbXBsZSwgYmV0d2VlbiBcImFcIiBhbmQgXCJhNVwiLCB3ZSBjYW4gdXNlIFwiYTJcIlxuICAgICAgY29uc3QgbWlkVmFsID0gTWF0aC5mbG9vcihuZXh0VmFsIC8gMik7XG4gICAgICBpZiAobWlkVmFsID4gMCkge1xuICAgICAgICByZXR1cm4gYSArIHZhbHVlVG9DaGFyKG1pZFZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBuZXh0VmFsIGlzIDEsIHNvIG1pZFZhbCBpcyAwXG4gICAgICAgIC8vIFJldHVybiBhICsgXCIwXCIgd2hpY2ggaXMgYmV0d2VlbiBhIGFuZCBhICsgXCIxXCJcbiAgICAgICAgcmV0dXJuIGEgKyBcIjBcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbmV4dFZhbCBpcyAwLCBtZWFuaW5nIGIgY29udGludWVzIHdpdGggXCIwXCIgYWZ0ZXIgYSBlbmRzXG4gICAgICAvLyBDaGVjayBpZiB3ZSBjYW4gaW5zZXJ0IHNvbWV0aGluZyBiZXR3ZWVuIHRoZW1cbiAgICAgIGlmIChiLmxlbmd0aCA+IGkgKyAxKSB7XG4gICAgICAgIC8vIGIgY29udGludWVzIHBhc3QgdGhlIGluaXRpYWwgXCIwXCJcbiAgICAgICAgLy8gQ291bnQgY29uc2VjdXRpdmUgemVyb3MgYWZ0ZXIgcG9zaXRpb24gaSBpbiBiXG4gICAgICAgIGxldCB6ZXJvQ291bnQgPSAwO1xuICAgICAgICBsZXQgaiA9IGk7XG4gICAgICAgIHdoaWxlIChqIDwgYi5sZW5ndGggJiYgYltqXSA9PT0gXCIwXCIpIHtcbiAgICAgICAgICB6ZXJvQ291bnQrKztcbiAgICAgICAgICBqKys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBiIGlzIGFsbCB6ZXJvcyBhZnRlciB0aGUgcHJlZml4LCB3ZSBjYW4gaW5zZXJ0IGEgc3RyaW5nIHdpdGggZmV3ZXIgemVyb3NcbiAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGJldHdlZW4gXCJtXCIgYW5kIFwibTAwMFwiLCB3ZSBjYW4gdXNlIFwibTBcIiBvciBcIm0wMFwiXG4gICAgICAgIGlmIChqID09PSBiLmxlbmd0aCAmJiB6ZXJvQ291bnQgPiAxKSB7XG4gICAgICAgICAgLy8gVXNlIGhhbGYgdGhlIHplcm9zIChhdCBsZWFzdCAxKVxuICAgICAgICAgIHJldHVybiBhICsgXCIwXCIucmVwZWF0KE1hdGguZmxvb3IoemVyb0NvdW50IC8gMikpO1xuICAgICAgICB9IGVsc2UgaWYgKGogPCBiLmxlbmd0aCkge1xuICAgICAgICAgIC8vIGIgaGFzIGEgbm9uLXplcm8gY2hhcmFjdGVyIGF0IHBvc2l0aW9uIGpcbiAgICAgICAgICAvLyBXZSBjYW4gaW5zZXJ0IHNvbWV0aGluZyBiZWZvcmUgdGhhdCBwb3NpdGlvblxuICAgICAgICAgIGNvbnN0IHByZWZpeCA9IGEgKyBcIjBcIi5yZXBlYXQoaiAtIGkpO1xuICAgICAgICAgIGNvbnN0IG5leHRDaGFyID0gYltqXTtcbiAgICAgICAgICBpZiAoIW5leHRDaGFyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaW5kZXggJHtqfSBmb3Igc3RyaW5nICR7Yn1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbmV4dFZhbCA9IGNoYXJUb1ZhbHVlKG5leHRDaGFyKTtcbiAgICAgICAgICBpZiAobmV4dFZhbCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyB2YWx1ZVRvQ2hhcihNYXRoLmZsb29yKG5leHRWYWwgLyAyKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBObyBzcGFjZSBiZXR3ZWVuIGEgYW5kIGJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE5vIHN0cmluZyBleGlzdHMgYmV0d2VlbiBcIiR7YX1cIiBhbmQgXCIke2J9XCIgaW4gYmFzZTM2IGVuY29kaW5nYCxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYiBpcyBhIHByZWZpeCBvZiBhIChzaG91bGRuJ3QgaGFwcGVuIGlmIGEgPCBiLCBidXQgbGV0J3MgYmUgc2FmZSlcbiAgaWYgKGkgPT09IGIubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNhc2U6IGIgXCIke2J9XCIgaXMgYSBwcmVmaXggb2YgYSBcIiR7YX1cImApO1xuICB9XG5cbiAgLy8gR2V0IHRoZSB2YWx1ZXMgYXQgcG9zaXRpb24gaVxuICBjb25zdCBhQ2hhciA9IGFbaV07XG4gIGNvbnN0IGJDaGFyID0gYltpXTtcbiAgaWYgKCFhQ2hhciB8fCAhYkNoYXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaW5kZXggJHtpfSBmb3Igc3RyaW5ncyAke2F9IGFuZCAke2J9YCk7XG4gIH1cbiAgY29uc3QgYVZhbCA9IGNoYXJUb1ZhbHVlKGFDaGFyKTtcbiAgY29uc3QgYlZhbCA9IGNoYXJUb1ZhbHVlKGJDaGFyKTtcblxuICAvLyBJZiB0aGVyZSdzIHJvb20gYmV0d2VlbiB0aGVtLCB1c2UgdGhlIG1pZHBvaW50XG4gIGlmIChiVmFsIC0gYVZhbCA+IDEpIHtcbiAgICBjb25zdCBtaWRWYWwgPSBNYXRoLmZsb29yKChhVmFsICsgYlZhbCkgLyAyKTtcbiAgICByZXR1cm4gYS5zdWJzdHJpbmcoMCwgaSkgKyB2YWx1ZVRvQ2hhcihtaWRWYWwpICsgYS5zdWJzdHJpbmcoaSArIDEpO1xuICB9XG5cbiAgLy8gQ2hhcmFjdGVycyBhcmUgYWRqYWNlbnQgKGRpZmYgaXMgMSlcbiAgLy8gV2UgbmVlZCB0byBleHRlbmQgdGhlIHN0cmluZyB0byBmaW5kIGEgcG9zaXRpb25cblxuICAvLyBJZiBhIGhhcyBtb3JlIGNoYXJhY3RlcnMgYWZ0ZXIgcG9zaXRpb24gaSwgd2UgY2FuIGluY3JlbWVudCB3aXRoaW4gYSdzIHJhbmdlXG4gIGlmIChpIDwgYS5sZW5ndGggLSAxKSB7XG4gICAgLy8gVHJ5IHRvIGZpbmQgc3BhY2UgYWZ0ZXIgYVtpXSBidXQgd2l0aGluIGEncyByZW1haW5pbmcgcmFuZ2VcbiAgICBjb25zdCBwcmVmaXggPSBhLnN1YnN0cmluZygwLCBpICsgMSk7XG4gICAgY29uc3QgcmVtYWluaW5nID0gYS5zdWJzdHJpbmcoaSArIDEpO1xuXG4gICAgLy8gRmluZCBhIHBvc2l0aW9uIGJldHdlZW4gcmVtYWluaW5nIGFuZCB0aGUgbmV4dCBwb3NzaWJsZSBzdHJpbmdcbiAgICBjb25zdCBzdWZmaXggPSBnZW5lcmF0ZUtleUFmdGVyKHJlbWFpbmluZyk7XG4gICAgcmV0dXJuIHByZWZpeCArIHN1ZmZpeDtcbiAgfVxuXG4gIC8vIGFbaV0gYW5kIGJbaV0gYXJlIGFkamFjZW50LCBhbmQgYSBoYXMgbm8gbW9yZSBjaGFyYWN0ZXJzXG4gIC8vIFdlIG5lZWQgdG8gZXh0ZW5kIGEgd2l0aCBzb21ldGhpbmcgdGhhdCBrZWVwcyB1cyBsZXNzIHRoYW4gYlxuICAvLyBTaW5jZSBiW2ldID0gYVZhbCArIDEsIHdlIGV4dGVuZCBhIHdpdGggYSBtaWRwb2ludCBjaGFyYWN0ZXJcbiAgcmV0dXJuIGEuc3Vic3RyaW5nKDAsIGkgKyAxKSArIFwiaFwiO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUtleUJlZm9yZShiOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIWIgfHwgYi5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gXCJtXCI7IC8vIE1pZGRsZSBvZiByYW5nZSBpZiBubyB1cHBlciBib3VuZFxuICB9XG5cbiAgLy8gRmluZCB0aGUgZmlyc3Qgbm9uLXplcm8gY2hhcmFjdGVyXG4gIGxldCBpID0gMDtcbiAgd2hpbGUgKGkgPCBiLmxlbmd0aCAmJiBiW2ldID09PSBcIjBcIikge1xuICAgIGkrKztcbiAgfVxuXG4gIGlmIChpID09PSBiLmxlbmd0aCkge1xuICAgIC8vIEFsbCB6ZXJvcywgcHJlcGVuZCBhbm90aGVyIHplcm9cbiAgICByZXR1cm4gXCIwXCIgKyBiO1xuICB9XG5cbiAgLy8gRm91bmQgYSBub24temVybyBjaGFyYWN0ZXJcbiAgY29uc3QgY2hhciA9IGJbaV07XG4gIGlmICghY2hhcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpbmRleCAke2l9IGZvciBzdHJpbmcgJHtifWApO1xuICB9XG4gIGNvbnN0IHZhbCA9IGNoYXJUb1ZhbHVlKGNoYXIpO1xuXG4gIGlmIChpID09PSAwICYmIHZhbCA+IDEpIHtcbiAgICAvLyBDYW4gc2ltcGx5IHVzZSBhIHNtYWxsZXIgZmlyc3QgY2hhcmFjdGVyXG4gICAgcmV0dXJuIHZhbHVlVG9DaGFyKE1hdGguZmxvb3IodmFsIC8gMikpO1xuICB9XG5cbiAgLy8gTmVlZCB0byBwcmVzZXJ2ZSBwcmVmaXggYW5kIGFkanVzdFxuICBjb25zdCBwcmVmaXggPSBiLnN1YnN0cmluZygwLCBpKTtcbiAgaWYgKHZhbCA+IDEpIHtcbiAgICByZXR1cm4gcHJlZml4ICsgdmFsdWVUb0NoYXIoTWF0aC5mbG9vcih2YWwgLyAyKSk7XG4gIH1cblxuICAvLyB2YWwgaXMgMSwgc28gd2UgdXNlIHByZWZpeCArIFwiMFwiICsgbWlkcG9pbnRcbiAgcmV0dXJuIHByZWZpeCArIFwiMGhcIjtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVLZXlBZnRlcihhOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIWEgfHwgYS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gXCJtXCI7IC8vIE1pZGRsZSBvZiByYW5nZSBpZiBubyBsb3dlciBib3VuZFxuICB9XG5cbiAgLy8gRmluZCB0aGUgbGFzdCBjaGFyYWN0ZXIgdGhhdCBpc24ndCAneidcbiAgbGV0IGkgPSBhLmxlbmd0aCAtIDE7XG4gIHdoaWxlIChpID49IDAgJiYgYVtpXSA9PT0gXCJ6XCIpIHtcbiAgICBpLS07XG4gIH1cblxuICBpZiAoaSA9PT0gLTEpIHtcbiAgICAvLyBBbGwgJ3oncywgbmVlZCB0byBleHRlbmRcbiAgICByZXR1cm4gYSArIFwiaFwiOyAvLyBBcHBlbmQgbWlkcG9pbnRcbiAgfVxuXG4gIC8vIENhbiBpbmNyZW1lbnQgdGhlIGNoYXJhY3RlciBhdCBwb3NpdGlvbiBpXG4gIGNvbnN0IHByZWZpeCA9IGEuc3Vic3RyaW5nKDAsIGkpO1xuICBjb25zdCBjaGFyID0gYVtpXTtcbiAgaWYgKCFjaGFyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGluZGV4ICR7aX0gZm9yIHN0cmluZyAke2F9YCk7XG4gIH1cbiAgY29uc3QgdmFsID0gY2hhclRvVmFsdWUoY2hhcik7XG5cbiAgaWYgKHZhbCA8IEJBU0UgLSAyKSB7XG4gICAgLy8gU2ltcGxlIGluY3JlbWVudFxuICAgIHJldHVybiBwcmVmaXggKyB2YWx1ZVRvQ2hhcih2YWwgKyAxKTtcbiAgfVxuXG4gIC8vIHZhbCBpcyAneScsIGluY3JlbWVudGluZyBnaXZlcyAneidcbiAgLy8gVG8gYXZvaWQgZ2V0dGluZyB0b28gY2xvc2UgdG8gdGhlIGJvdW5kYXJ5LCBleHRlbmQgaW5zdGVhZFxuICByZXR1cm4gYSArIFwiaFwiO1xufVxuXG4vLyBKaXR0ZXJQcm92aWRlciBpbnRlcmZhY2UgZm9yIHRlc3RhYmlsaXR5XG5leHBvcnQgaW50ZXJmYWNlIEppdHRlclByb3ZpZGVyIHtcbiAgLy8gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxXG4gIHJhbmRvbSgpOiBudW1iZXI7XG4gIC8vIFJldHVybnMgYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIDAgKGluY2x1c2l2ZSkgYW5kIG1heCAoZXhjbHVzaXZlKVxuICByYW5kb21JbnQobWF4OiBudW1iZXIpOiBudW1iZXI7XG59XG5cbi8vIERlZmF1bHQgaml0dGVyIHByb3ZpZGVyIHVzaW5nIE1hdGgucmFuZG9tXG5leHBvcnQgY29uc3QgZGVmYXVsdEppdHRlclByb3ZpZGVyOiBKaXR0ZXJQcm92aWRlciA9IHtcbiAgcmFuZG9tOiAoKSA9PiBNYXRoLnJhbmRvbSgpLFxuICByYW5kb21JbnQ6IChtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCksXG59O1xuXG4vLyBEZXRlcm1pbmlzdGljIGppdHRlciBwcm92aWRlciBmb3IgdGVzdGluZ1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRlc3RKaXR0ZXJQcm92aWRlciA9IChzZWVkID0gMCk6IEppdHRlclByb3ZpZGVyID0+IHtcbiAgbGV0IGN1cnJlbnRTZWVkID0gc2VlZDtcblxuICAvLyBTaW1wbGUgbGluZWFyIGNvbmdydWVudGlhbCBnZW5lcmF0b3JcbiAgY29uc3QgbmV4dFJhbmRvbSA9ICgpID0+IHtcbiAgICBjdXJyZW50U2VlZCA9IChjdXJyZW50U2VlZCAqIDExMDM1MTUyNDUgKyAxMjM0NSkgJiAweDdmZmZmZmZmO1xuICAgIHJldHVybiBjdXJyZW50U2VlZCAvIDB4N2ZmZmZmZmY7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICByYW5kb206IG5leHRSYW5kb20sXG4gICAgcmFuZG9tSW50OiAobWF4KSA9PiBNYXRoLmZsb29yKG5leHRSYW5kb20oKSAqIG1heCksXG4gIH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZnJhY3Rpb25hbEluZGV4QmV0d2VlbihcbiAgYTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgYjogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgaml0dGVyUHJvdmlkZXI6IEppdHRlclByb3ZpZGVyID0gZGVmYXVsdEppdHRlclByb3ZpZGVyLFxuKTogc3RyaW5nIHtcbiAgLy8gQWRkIHNvbWUgaml0dGVyIHRvIGF2b2lkIGNsdXN0ZXJpbmdcbiAgY29uc3Qga2V5ID0gZ2VuZXJhdGVLZXlCZXR3ZWVuKGEsIGIpO1xuXG4gIC8vIEZvciBiZXR0ZXIgZGlzdHJpYnV0aW9uLCBzb21ldGltZXMgZXh0ZW5kIHRoZSBrZXlcbiAgLy8gQnV0IHdlIG11c3QgZW5zdXJlIHRoZSByZXN1bHQgc3RheXMgd2l0aGluIGJvdW5kc1xuICBpZiAoaml0dGVyUHJvdmlkZXIucmFuZG9tKCkgPCAwLjMgJiYga2V5Lmxlbmd0aCA8IDEwKSB7XG4gICAgY29uc3Qgc3VmZml4ID0gdmFsdWVUb0NoYXIoaml0dGVyUHJvdmlkZXIucmFuZG9tSW50KEJBU0UpKTtcbiAgICBjb25zdCBjYW5kaWRhdGUgPSBrZXkgKyBzdWZmaXg7XG5cbiAgICAvLyBWZXJpZnkgdGhlIGNhbmRpZGF0ZSBtYWludGFpbnMgb3JkZXJpbmdcbiAgICBjb25zdCBpc1ZhbGlkID0gKCFhIHx8IGNhbmRpZGF0ZSA+IGEpICYmICghYiB8fCBjYW5kaWRhdGUgPCBiKTtcblxuICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gY2FuZGlkYXRlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBrZXk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUZyYWN0aW9uYWxJbmRpY2VzKFxuICBhOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBiOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBuOiBudW1iZXIsXG4gIGppdHRlclByb3ZpZGVyOiBKaXR0ZXJQcm92aWRlciA9IGRlZmF1bHRKaXR0ZXJQcm92aWRlcixcbik6IHN0cmluZ1tdIHtcbiAgaWYgKG4gPD0gMCkgcmV0dXJuIFtdO1xuICBpZiAobiA9PT0gMSkgcmV0dXJuIFtmcmFjdGlvbmFsSW5kZXhCZXR3ZWVuKGEsIGIsIGppdHRlclByb3ZpZGVyKV07XG5cbiAgY29uc3Qga2V5czogc3RyaW5nW10gPSBbXTtcblxuICAvLyBHZW5lcmF0ZSBuIGtleXMgYnkgcmVwZWF0ZWRseSBzdWJkaXZpZGluZyB0aGUgcmFuZ2VcbiAgbGV0IHByZXYgPSBhO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgIC8vIEZvciBiZXR0ZXIgZGlzdHJpYnV0aW9uLCB3ZSBnZW5lcmF0ZSBrZXlzIHNlcXVlbnRpYWxseVxuICAgIC8vIFRoaXMgYXZvaWRzIGNsdXN0ZXJpbmcgdGhhdCBjYW4gaGFwcGVuIHdpdGggYmluYXJ5IHN1YmRpdmlzaW9uXG4gICAgY29uc3Qga2V5ID0gZnJhY3Rpb25hbEluZGV4QmV0d2VlbihwcmV2LCBiLCBqaXR0ZXJQcm92aWRlcik7XG4gICAga2V5cy5wdXNoKGtleSk7XG4gICAgcHJldiA9IGtleTtcbiAgfVxuXG4gIHJldHVybiBrZXlzO1xufVxuXG4vLyBIZWxwZXIgdG8gZ2V0IGluaXRpYWwgZnJhY3Rpb25hbCBpbmRleFxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxGcmFjdGlvbmFsSW5kZXgoXG4gIGppdHRlclByb3ZpZGVyOiBKaXR0ZXJQcm92aWRlciA9IGRlZmF1bHRKaXR0ZXJQcm92aWRlcixcbik6IHN0cmluZyB7XG4gIHJldHVybiBmcmFjdGlvbmFsSW5kZXhCZXR3ZWVuKG51bGwsIG51bGwsIGppdHRlclByb3ZpZGVyKTtcbn1cblxuLy8gUmViYWxhbmNpbmcgZnVuY3Rpb25hbGl0eSB0byBoYW5kbGUgXCJObyBzdHJpbmcgZXhpc3RzIGJldHdlZW5cIiBjYXNlc1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlYmFsYW5jZVJlc3VsdCB7XG4gIC8qKiBOZXcgZnJhY3Rpb25hbCBpbmRpY2VzIGZvciB0aGUgY2VsbHMgKi9cbiAgbmV3SW5kaWNlczogeyBjZWxsSWQ6IHN0cmluZzsgZnJhY3Rpb25hbEluZGV4OiBzdHJpbmcgfVtdO1xuICAvKiogRXZlbnRzIHRvIGFwcGx5IHRoZSByZWJhbGFuY2luZyAqL1xuICBldmVudHM6IFJldHVyblR5cGU8dHlwZW9mIGV2ZW50cy5jZWxsTW92ZWQyPltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlYmFsYW5jZU9wdGlvbnMge1xuICAvKiogSml0dGVyIHByb3ZpZGVyIGZvciBjb25zaXN0ZW50IGdlbmVyYXRpb24gKi9cbiAgaml0dGVyUHJvdmlkZXI/OiBKaXR0ZXJQcm92aWRlcjtcbiAgLyoqIEFjdG9yIElEIGZvciB0aGUgcmViYWxhbmNpbmcgZXZlbnRzICovXG4gIGFjdG9ySWQ/OiBzdHJpbmc7XG4gIC8qKiBCdWZmZXIgc3BhY2UgdG8gYWRkIGFyb3VuZCB0aGUgcmViYWxhbmNlZCByZWdpb24gKi9cbiAgYnVmZmVyQ2VsbHM/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2VsbE9wZXJhdGlvblJlc3VsdCB7XG4gIC8qKiBFdmVudHMgdG8gYXBwbHkgZm9yIHRoZSBjZWxsIG9wZXJhdGlvbiAobWF5IGluY2x1ZGUgcmViYWxhbmNpbmcpICovXG4gIGV2ZW50czogQXJyYXk8XG4gICAgfCBSZXR1cm5UeXBlPHR5cGVvZiBldmVudHMuY2VsbENyZWF0ZWQyPlxuICAgIHwgUmV0dXJuVHlwZTx0eXBlb2YgZXZlbnRzLmNlbGxNb3ZlZDI+XG4gID47XG4gIC8qKiBJRCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjZWxsICovXG4gIG5ld0NlbGxJZDogc3RyaW5nO1xuICAvKiogV2hldGhlciByZWJhbGFuY2luZyB3YXMgcGVyZm9ybWVkICovXG4gIG5lZWRzUmViYWxhbmNpbmc6IGJvb2xlYW47XG4gIC8qKiBOdW1iZXIgb2YgY2VsbHMgcmViYWxhbmNlZCAoZm9yIGRlYnVnZ2luZy9tZXRyaWNzKSAqL1xuICByZWJhbGFuY2VDb3VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb3ZlT3BlcmF0aW9uUmVzdWx0IHtcbiAgLyoqIEV2ZW50cyB0byBhcHBseSBmb3IgdGhlIG1vdmUgb3BlcmF0aW9uIChtYXkgaW5jbHVkZSByZWJhbGFuY2luZykgKi9cbiAgZXZlbnRzOiBBcnJheTxSZXR1cm5UeXBlPHR5cGVvZiBldmVudHMuY2VsbE1vdmVkMj4+O1xuICAvKiogV2hldGhlciB0aGUgY2VsbCB3YXMgYWN0dWFsbHkgbW92ZWQgKi9cbiAgbW92ZWQ6IGJvb2xlYW47XG4gIC8qKiBXaGV0aGVyIHJlYmFsYW5jaW5nIHdhcyBwZXJmb3JtZWQgKi9cbiAgbmVlZHNSZWJhbGFuY2luZzogYm9vbGVhbjtcbiAgLyoqIE51bWJlciBvZiBjZWxscyByZWJhbGFuY2VkIChmb3IgZGVidWdnaW5nL21ldHJpY3MpICovXG4gIHJlYmFsYW5jZUNvdW50PzogbnVtYmVyO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSByYW5nZSBvZiBjZWxscyBuZWVkcyByZWJhbGFuY2luZyBkdWUgdG8gY3Jvd2RlZCBpbmRpY2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZWVkc1JlYmFsYW5jaW5nKFxuICBjZWxsczogcmVhZG9ubHkgQ2VsbFJlZmVyZW5jZVtdLFxuICBpbnNlcnRQb3NpdGlvbj86IG51bWJlcixcbik6IGJvb2xlYW4ge1xuICBpZiAoY2VsbHMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIFNvcnQgY2VsbHMgYnkgZnJhY3Rpb25hbCBpbmRleFxuICBjb25zdCBzb3J0ZWRDZWxscyA9IFsuLi5jZWxsc10uc29ydCgoYSwgYikgPT5cbiAgICAoYS5mcmFjdGlvbmFsSW5kZXggfHwgXCJcIikubG9jYWxlQ29tcGFyZShiLmZyYWN0aW9uYWxJbmRleCB8fCBcIlwiKVxuICApO1xuXG4gIC8vIENoZWNrIGZvciBhZGphY2VudCBpbmRpY2VzIHRoYXQgd291bGQgcHJldmVudCBpbnNlcnRpb25cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWRDZWxscy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBjdXJyZW50ID0gc29ydGVkQ2VsbHNbaV0/LmZyYWN0aW9uYWxJbmRleDtcbiAgICBjb25zdCBuZXh0ID0gc29ydGVkQ2VsbHNbaSArIDFdPy5mcmFjdGlvbmFsSW5kZXg7XG5cbiAgICBpZiAoIWN1cnJlbnQgfHwgIW5leHQpIGNvbnRpbnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFRlc3QgaWYgd2UgY2FuIGluc2VydCBiZXR3ZWVuIHRoZXNlIGluZGljZXNcbiAgICAgIGZyYWN0aW9uYWxJbmRleEJldHdlZW4oY3VycmVudCwgbmV4dCwge1xuICAgICAgICByYW5kb206ICgpID0+IDAsXG4gICAgICAgIHJhbmRvbUludDogKCkgPT4gMCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJObyBzdHJpbmcgZXhpc3RzIGJldHdlZW5cIikgfHxcbiAgICAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwiSW52YWxpZCByYW5nZVwiKSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJZiBpbnNlcnRQb3NpdGlvbiBpcyBzcGVjaWZpZWQsIGNoZWNrIGlmIHdlIGNhbiBpbnNlcnQgdGhlcmVcbiAgaWYgKGluc2VydFBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBiZWZvcmVDZWxsID0gaW5zZXJ0UG9zaXRpb24gPiAwXG4gICAgICA/IHNvcnRlZENlbGxzW2luc2VydFBvc2l0aW9uIC0gMV1cbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBhZnRlckNlbGwgPSBpbnNlcnRQb3NpdGlvbiA8IHNvcnRlZENlbGxzLmxlbmd0aFxuICAgICAgPyBzb3J0ZWRDZWxsc1tpbnNlcnRQb3NpdGlvbl1cbiAgICAgIDogbnVsbDtcblxuICAgIGlmIChiZWZvcmVDZWxsICYmIGFmdGVyQ2VsbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZnJhY3Rpb25hbEluZGV4QmV0d2VlbihcbiAgICAgICAgICBiZWZvcmVDZWxsLmZyYWN0aW9uYWxJbmRleCxcbiAgICAgICAgICBhZnRlckNlbGwuZnJhY3Rpb25hbEluZGV4LFxuICAgICAgICAgIHsgcmFuZG9tOiAoKSA9PiAwLCByYW5kb21JbnQ6ICgpID0+IDAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgICAgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJObyBzdHJpbmcgZXhpc3RzIGJldHdlZW5cIikgfHxcbiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJJbnZhbGlkIHJhbmdlXCIpKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZWJhbGFuY2VzIGZyYWN0aW9uYWwgaW5kaWNlcyBmb3IgYSByYW5nZSBvZiBjZWxscyB0byBjcmVhdGUgc3BhY2UgZm9yIGluc2VydGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYmFsYW5jZUNlbGxJbmRpY2VzKFxuICBjZWxsczogcmVhZG9ubHkgQ2VsbFJlZmVyZW5jZVtdLFxuICBvcHRpb25zOiBSZWJhbGFuY2VPcHRpb25zID0ge30sXG4pOiBSZWJhbGFuY2VSZXN1bHQge1xuICBjb25zdCB7XG4gICAgaml0dGVyUHJvdmlkZXIgPSBkZWZhdWx0Sml0dGVyUHJvdmlkZXIsXG4gICAgYWN0b3JJZCA9IFwic3lzdGVtXCIsXG4gICAgYnVmZmVyQ2VsbHMgPSAyLFxuICB9ID0gb3B0aW9ucztcblxuICBpZiAoY2VsbHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHsgbmV3SW5kaWNlczogW10sIGV2ZW50czogW10gfTtcbiAgfVxuXG4gIC8vIFNvcnQgY2VsbHMgYnkgY3VycmVudCBmcmFjdGlvbmFsIGluZGV4XG4gIGNvbnN0IHNvcnRlZENlbGxzID0gWy4uLmNlbGxzXS5zb3J0KChhLCBiKSA9PlxuICAgIChhLmZyYWN0aW9uYWxJbmRleCB8fCBcIlwiKS5sb2NhbGVDb21wYXJlKGIuZnJhY3Rpb25hbEluZGV4IHx8IFwiXCIpXG4gICk7XG5cbiAgY29uc3QgbmV3SW5kaWNlczogeyBjZWxsSWQ6IHN0cmluZzsgZnJhY3Rpb25hbEluZGV4OiBzdHJpbmcgfVtdID0gW107XG4gIGNvbnN0IG1vdmVFdmVudHM6IFJldHVyblR5cGU8dHlwZW9mIGV2ZW50cy5jZWxsTW92ZWQyPltdID0gW107XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSByYW5nZSB3aXRoIGJ1ZmZlclxuICBjb25zdCB0b3RhbFBvc2l0aW9ucyA9IGNlbGxzLmxlbmd0aCArIChidWZmZXJDZWxscyAqIDIpO1xuXG4gIC8vIEdlbmVyYXRlIGV2ZW5seSBkaXN0cmlidXRlZCBpbmRpY2VzXG4gIGNvbnN0IGluZGljZXMgPSBnZW5lcmF0ZUZyYWN0aW9uYWxJbmRpY2VzKFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICB0b3RhbFBvc2l0aW9ucyxcbiAgICBqaXR0ZXJQcm92aWRlcixcbiAgKTtcblxuICAvLyBBc3NpZ24gbmV3IGluZGljZXMgdG8gY2VsbHMgKHNraXBwaW5nIGJ1ZmZlciBwb3NpdGlvbnMpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkQ2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjZWxsID0gc29ydGVkQ2VsbHNbaV07XG4gICAgY29uc3QgbmV3SW5kZXggPSBpbmRpY2VzW2kgKyBidWZmZXJDZWxsc107IC8vIFNraXAgYnVmZmVyIHBvc2l0aW9ucyBhdCBzdGFydFxuXG4gICAgaWYgKCFjZWxsIHx8ICFuZXdJbmRleCkgY29udGludWU7XG5cbiAgICBpZiAoY2VsbC5mcmFjdGlvbmFsSW5kZXggIT09IG5ld0luZGV4KSB7XG4gICAgICBuZXdJbmRpY2VzLnB1c2goe1xuICAgICAgICBjZWxsSWQ6IGNlbGwuaWQsXG4gICAgICAgIGZyYWN0aW9uYWxJbmRleDogbmV3SW5kZXgsXG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIG1vdmUgZXZlbnRcbiAgICAgIGNvbnN0IG1vdmVFdmVudCA9IGV2ZW50cy5jZWxsTW92ZWQyKHtcbiAgICAgICAgaWQ6IGNlbGwuaWQsXG4gICAgICAgIGZyYWN0aW9uYWxJbmRleDogbmV3SW5kZXgsXG4gICAgICAgIGFjdG9ySWQsXG4gICAgICB9KTtcblxuICAgICAgbW92ZUV2ZW50cy5wdXNoKG1vdmVFdmVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgbmV3SW5kaWNlcywgZXZlbnRzOiBtb3ZlRXZlbnRzIH07XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIGluc2VydGlvbiBpbmRleCBhZnRlciByZWJhbGFuY2luZyBoYXMgYmVlbiBwZXJmb3JtZWRcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlSW5zZXJ0aW9uSW5kZXhBZnRlclJlYmFsYW5jaW5nKFxuICBpbnNlcnRQb3NpdGlvbjogbnVtYmVyLFxuICByZWJhbGFuY2VSZXN1bHQ6IFJlYmFsYW5jZVJlc3VsdCxcbiAgaml0dGVyUHJvdmlkZXI6IEppdHRlclByb3ZpZGVyLFxuKTogc3RyaW5nIHtcbiAgLy8gR2V0IHRoZSBuZXcgaW5kaWNlcyBhZnRlciByZWJhbGFuY2luZ1xuICBjb25zdCBuZXdJbmRpY2VzID0gcmViYWxhbmNlUmVzdWx0Lm5ld0luZGljZXMubWFwKChpdGVtKSA9PlxuICAgIGl0ZW0uZnJhY3Rpb25hbEluZGV4XG4gICk7XG4gIG5ld0luZGljZXMuc29ydCgpO1xuXG4gIC8vIENhbGN1bGF0ZSB3aGVyZSB0byBpbnNlcnQgYmFzZWQgb24gdGhlIHBvc2l0aW9uXG4gIGlmIChpbnNlcnRQb3NpdGlvbiA9PT0gMCkge1xuICAgIC8vIEluc2VydCBhdCBiZWdpbm5pbmcgLSBnZW5lcmF0ZSBpbmRleCBiZWZvcmUgZmlyc3QgY2VsbFxuICAgIGNvbnN0IGZpcnN0SW5kZXggPSBuZXdJbmRpY2VzWzBdO1xuICAgIHJldHVybiBmcmFjdGlvbmFsSW5kZXhCZXR3ZWVuKG51bGwsIGZpcnN0SW5kZXgsIGppdHRlclByb3ZpZGVyKTtcbiAgfVxuXG4gIGlmIChpbnNlcnRQb3NpdGlvbiA+PSBuZXdJbmRpY2VzLmxlbmd0aCkge1xuICAgIC8vIEluc2VydCBhdCBlbmQgLSBnZW5lcmF0ZSBpbmRleCBhZnRlciBsYXN0IGNlbGxcbiAgICBjb25zdCBsYXN0SW5kZXggPSBuZXdJbmRpY2VzW25ld0luZGljZXMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIGZyYWN0aW9uYWxJbmRleEJldHdlZW4obGFzdEluZGV4LCBudWxsLCBqaXR0ZXJQcm92aWRlcik7XG4gIH1cblxuICAvLyBJbnNlcnQgYmV0d2VlbiBjZWxscyBhdCBpbnNlcnRQb3NpdGlvbi0xIGFuZCBpbnNlcnRQb3NpdGlvblxuICBjb25zdCBiZWZvcmVJbmRleCA9IG5ld0luZGljZXNbaW5zZXJ0UG9zaXRpb24gLSAxXTtcbiAgY29uc3QgYWZ0ZXJJbmRleCA9IG5ld0luZGljZXNbaW5zZXJ0UG9zaXRpb25dO1xuICByZXR1cm4gZnJhY3Rpb25hbEluZGV4QmV0d2VlbihiZWZvcmVJbmRleCwgYWZ0ZXJJbmRleCwgaml0dGVyUHJvdmlkZXIpO1xufVxuXG4vKipcbiAqIEVuaGFuY2VkIGZyYWN0aW9uYWwgaW5kZXggZ2VuZXJhdGlvbiB3aXRoIGF1dG9tYXRpYyByZWJhbGFuY2luZyBmYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gZnJhY3Rpb25hbEluZGV4QmV0d2VlbldpdGhGYWxsYmFjayhcbiAgYTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgYjogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgY29udGV4dDoge1xuICAgIC8qKiBBbGwgY2VsbHMgaW4gdGhlIGN1cnJlbnQgY29udGV4dCBmb3IgcmViYWxhbmNpbmcgKi9cbiAgICBhbGxDZWxscz86IHJlYWRvbmx5IENlbGxSZWZlcmVuY2VbXTtcbiAgICAvKiogUG9zaXRpb24gd2hlcmUgaW5zZXJ0aW9uIGlzIGludGVuZGVkICovXG4gICAgaW5zZXJ0UG9zaXRpb24/OiBudW1iZXI7XG4gICAgLyoqIEppdHRlciBwcm92aWRlciAqL1xuICAgIGppdHRlclByb3ZpZGVyPzogSml0dGVyUHJvdmlkZXI7XG4gIH0gPSB7fSxcbik6IHtcbiAgaW5kZXg/OiBzdHJpbmc7XG4gIG5lZWRzUmViYWxhbmNpbmc6IGJvb2xlYW47XG4gIHJlYmFsYW5jZVJlc3VsdD86IFJlYmFsYW5jZVJlc3VsdDtcbn0ge1xuICBjb25zdCB7XG4gICAgYWxsQ2VsbHMgPSBbXSxcbiAgICBpbnNlcnRQb3NpdGlvbixcbiAgICBqaXR0ZXJQcm92aWRlciA9IGRlZmF1bHRKaXR0ZXJQcm92aWRlcixcbiAgfSA9IGNvbnRleHQ7XG5cbiAgLy8gRmlyc3QsIHRyeSBub3JtYWwgZnJhY3Rpb25hbCBpbmRleCBnZW5lcmF0aW9uXG4gIHRyeSB7XG4gICAgY29uc3QgaW5kZXggPSBmcmFjdGlvbmFsSW5kZXhCZXR3ZWVuKGEsIGIsIGppdHRlclByb3ZpZGVyKTtcbiAgICByZXR1cm4geyBpbmRleCwgbmVlZHNSZWJhbGFuY2luZzogZmFsc2UgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoXG4gICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIk5vIHN0cmluZyBleGlzdHMgYmV0d2VlblwiKSB8fFxuICAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwiSW52YWxpZCByYW5nZVwiKSlcbiAgICApIHtcbiAgICAgIC8vIENoZWNrIGlmIHJlYmFsYW5jaW5nIGlzIG5lZWRlZCBhbmQgcG9zc2libGVcbiAgICAgIGlmIChhbGxDZWxscy5sZW5ndGggPiAwICYmIG5lZWRzUmViYWxhbmNpbmcoYWxsQ2VsbHMsIGluc2VydFBvc2l0aW9uKSkge1xuICAgICAgICBjb25zdCByZWJhbGFuY2VSZXN1bHQgPSByZWJhbGFuY2VDZWxsSW5kaWNlcyhhbGxDZWxscywge1xuICAgICAgICAgIGppdHRlclByb3ZpZGVyLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGluc2VydGlvbiBpbmRleCBhZnRlciByZWJhbGFuY2luZ1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGluc2VydFBvc2l0aW9uID8/IGFsbENlbGxzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgaW5zZXJ0aW9uSW5kZXggPSBjYWxjdWxhdGVJbnNlcnRpb25JbmRleEFmdGVyUmViYWxhbmNpbmcoXG4gICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgcmViYWxhbmNlUmVzdWx0LFxuICAgICAgICAgIGppdHRlclByb3ZpZGVyLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaW5kZXg6IGluc2VydGlvbkluZGV4LFxuICAgICAgICAgIG5lZWRzUmViYWxhbmNpbmc6IHRydWUsXG4gICAgICAgICAgcmViYWxhbmNlUmVzdWx0LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlLXRocm93IG90aGVyIGVycm9yc1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogU2FmZSBjZWxsIG1vdmVtZW50IHdpdGggYXV0b21hdGljIHJlYmFsYW5jaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlQ2VsbFdpdGhSZWJhbGFuY2luZyhcbiAgY2VsbDogQ2VsbFJlZmVyZW5jZSxcbiAgY2VsbEJlZm9yZTogQ2VsbFJlZmVyZW5jZSB8IG51bGwsXG4gIGNlbGxBZnRlcjogQ2VsbFJlZmVyZW5jZSB8IG51bGwsXG4gIGFsbENlbGxzOiByZWFkb25seSBDZWxsUmVmZXJlbmNlW10sXG4gIG9wdGlvbnM6IHtcbiAgICBhY3RvcklkPzogc3RyaW5nO1xuICAgIGppdHRlclByb3ZpZGVyPzogSml0dGVyUHJvdmlkZXI7XG4gIH0gPSB7fSxcbik6IHtcbiAgbW92ZUV2ZW50PzogUmV0dXJuVHlwZTx0eXBlb2YgZXZlbnRzLmNlbGxNb3ZlZDI+O1xuICByZWJhbGFuY2VSZXN1bHQ/OiBSZWJhbGFuY2VSZXN1bHQ7XG4gIG5lZWRzUmViYWxhbmNpbmc6IGJvb2xlYW47XG59IHtcbiAgY29uc3QgeyBhY3RvcklkID0gXCJ1c2VyXCIsIGppdHRlclByb3ZpZGVyID0gZGVmYXVsdEppdHRlclByb3ZpZGVyIH0gPSBvcHRpb25zO1xuXG4gIC8vIFRyeSBub3JtYWwgbW92ZSBmaXJzdFxuICB0cnkge1xuICAgIGNvbnN0IG1vdmVFdmVudCA9IG1vdmVDZWxsQmV0d2VlbihcbiAgICAgIGNlbGwsXG4gICAgICBjZWxsQmVmb3JlLFxuICAgICAgY2VsbEFmdGVyLFxuICAgICAgYWN0b3JJZCxcbiAgICAgIGppdHRlclByb3ZpZGVyLFxuICAgICk7XG5cbiAgICBpZiAobW92ZUV2ZW50KSB7XG4gICAgICByZXR1cm4geyBtb3ZlRXZlbnQsIG5lZWRzUmViYWxhbmNpbmc6IGZhbHNlIH07XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIENoZWNrIGlmIGl0J3MgdGhlIFwiTm8gc3RyaW5nIGV4aXN0cyBiZXR3ZWVuXCIgZXJyb3JcbiAgICBpZiAoXG4gICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwiTm8gc3RyaW5nIGV4aXN0cyBiZXR3ZWVuXCIpXG4gICAgKSB7XG4gICAgICAvLyBUaGlzIGluZGljYXRlcyB3ZSBuZWVkIHJlYmFsYW5jaW5nLCBzbyBmYWxsIHRocm91Z2ggdG8gdGhlIHJlYmFsYW5jaW5nIGNoZWNrXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXRocm93IG90aGVyIGVycm9yc1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgaXQncyBiZWNhdXNlIHdlIG5lZWQgcmViYWxhbmNpbmdcbiAgaWYgKG5lZWRzUmViYWxhbmNpbmcoYWxsQ2VsbHMpKSB7XG4gICAgY29uc3QgcmViYWxhbmNlUmVzdWx0ID0gcmViYWxhbmNlQ2VsbEluZGljZXMoYWxsQ2VsbHMsIHtcbiAgICAgIGppdHRlclByb3ZpZGVyLFxuICAgICAgYWN0b3JJZDogYCR7YWN0b3JJZH0tcmViYWxhbmNlYCxcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBuZWVkc1JlYmFsYW5jaW5nOiB0cnVlLFxuICAgICAgcmViYWxhbmNlUmVzdWx0LFxuICAgIH07XG4gIH1cblxuICAvLyBDZWxsIHdhcyBhbHJlYWR5IGluIHBvc2l0aW9uIG9yIG90aGVyIHJlYXNvblxuICByZXR1cm4geyBuZWVkc1JlYmFsYW5jaW5nOiBmYWxzZSB9O1xufVxuXG4vLyBIZWxwZXIgdG8gdmFsaWRhdGUgZnJhY3Rpb25hbCBpbmRleCAoYmFzaWMgY2hlY2spXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEZyYWN0aW9uYWxJbmRleChpbmRleDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2YgaW5kZXggIT09IFwic3RyaW5nXCIgfHwgaW5kZXgubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQ2hlY2sgdGhhdCBhbGwgY2hhcmFjdGVycyBhcmUgdmFsaWQgYmFzZTM2IGNoYXJhY3RlcnNcbiAgZm9yIChjb25zdCBjaGFyIG9mIGluZGV4KSB7XG4gICAgaWYgKCFCQVNFMzZfRElHSVRTLmluY2x1ZGVzKGNoYXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIFZhbGlkYXRlIHRoYXQgZnJhY3Rpb25hbCBpbmRpY2VzIG1haW50YWluIHByb3BlciBiaW5hcnkgY29sbGF0aW9uIG9yZGVyaW5nXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVGcmFjdGlvbmFsSW5kZXhPcmRlcihcbiAgaW5kaWNlczogKHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpW10sXG4pOiBib29sZWFuIHtcbiAgY29uc3QgdmFsaWRJbmRpY2VzID0gaW5kaWNlcy5maWx0ZXIoKGlkeCk6IGlkeCBpcyBzdHJpbmcgPT5cbiAgICBpc1ZhbGlkRnJhY3Rpb25hbEluZGV4KGlkeCB8fCBcIlwiKVxuICApO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgdmFsaWRJbmRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJldiA9IHZhbGlkSW5kaWNlc1tpIC0gMV07XG4gICAgY29uc3QgY3VyciA9IHZhbGlkSW5kaWNlc1tpXTtcbiAgICBpZiAoIXByZXYgfHwgIWN1cnIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHByZXYgPj0gY3Vycikge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYEZyYWN0aW9uYWwgaW5kZXggb3JkZXJpbmcgdmlvbGF0aW9uOiBcIiR7cHJldn1cIiA+PSBcIiR7Y3Vycn1cImAsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENlbGwgcmVmZXJlbmNlIHR5cGUgZm9yIGZyYWN0aW9uYWwgaW5kZXhpbmcgb3BlcmF0aW9uc1xuICovXG5leHBvcnQgdHlwZSBDZWxsUmVmZXJlbmNlID0ge1xuICBpZDogc3RyaW5nO1xuICBmcmFjdGlvbmFsSW5kZXg6IHN0cmluZyB8IG51bGw7XG4gIGNlbGxUeXBlOiBDZWxsVHlwZTtcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgY2VsbCBjcmVhdGlvbiBhbmQgbW92ZW1lbnQgd2l0aCBmcmFjdGlvbmFsIGluZGV4aW5nXG4gKlxuICogU29ydGluZyBTdHJhdGVneTpcbiAqIDEuIFByaW1hcnkgc29ydDogTGV4aWNvZ3JhcGhpYyBjb21wYXJpc29uIG9mIGZyYWN0aW9uYWwgaW5kaWNlcyAoYSA8IGIsIG5vdCBsb2NhbGVDb21wYXJlKVxuICogMi4gU2Vjb25kYXJ5IHNvcnQ6IENlbGwgSUQgY29tcGFyaXNvbiB3aGVuIGZyYWN0aW9uYWwgaW5kaWNlcyBhcmUgZXF1YWwgKHJhcmUgYnV0IHBvc3NpYmxlKVxuICpcbiAqIFRoaXMgZW5zdXJlcyBzdGFibGUsIGRldGVybWluaXN0aWMgb3JkZXJpbmcgZXZlbiBpbiB0aGUgdW5saWtlbHkgZXZlbnQgb2YgaW5kZXggY29sbGlzaW9ucy5cbiAqIFdlIGdlbmVyYXRlIDIwIGNhbmRpZGF0ZSBpbmRpY2VzIGFuZCBwaWNrIG9uZSByYW5kb21seSB0byBtaW5pbWl6ZSBjb2xsaXNpb24gcHJvYmFiaWxpdHkuXG4gKi9cblxuLyoqXG4gKiBNb3ZlIGEgY2VsbCBiZXR3ZWVuIHR3byBvdGhlciBjZWxscyB1c2luZyBmcmFjdGlvbmFsIGluZGljZXNcbiAqXG4gKiBAcGFyYW0gY2VsbCAtIFRoZSBjZWxsIHRvIG1vdmUgKG11c3QgaGF2ZSBhIHZhbGlkIGZyYWN0aW9uYWxJbmRleClcbiAqIEBwYXJhbSBjZWxsQmVmb3JlIC0gVGhlIGNlbGwgdGhhdCBzaG91bGQgY29tZSBiZWZvcmUgKG51bGwgZm9yIGJlZ2lubmluZylcbiAqIEBwYXJhbSBjZWxsQWZ0ZXIgLSBUaGUgY2VsbCB0aGF0IHNob3VsZCBjb21lIGFmdGVyIChudWxsIGZvciBlbmQpXG4gKiBAcGFyYW0gYWN0b3JJZCAtIE9wdGlvbmFsIGFjdG9yIElEIGZvciB0cmFja2luZyB3aG8gbWFkZSB0aGUgY2hhbmdlXG4gKlxuICogTm90ZTogSXQncyB0aGUgY2FsbGVyJ3MgcmVzcG9uc2liaWxpdHkgdG8gcHJvdmlkZSBhY2N1cmF0ZSBiZWZvcmUvYWZ0ZXIgY2VsbHMuXG4gKiBJZiBib3RoIGNlbGxCZWZvcmUgYW5kIGNlbGxBZnRlciBhcmUgcHJvdmlkZWQsIHRoZXkgbXVzdCBiZSBhZGphY2VudCBjZWxscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVDZWxsQmV0d2VlbihcbiAgY2VsbDogQ2VsbFJlZmVyZW5jZSxcbiAgY2VsbEJlZm9yZTogQ2VsbFJlZmVyZW5jZSB8IG51bGwsXG4gIGNlbGxBZnRlcjogQ2VsbFJlZmVyZW5jZSB8IG51bGwsXG4gIGFjdG9ySWQ/OiBzdHJpbmcsXG4gIGppdHRlclByb3ZpZGVyOiBKaXR0ZXJQcm92aWRlciA9IGRlZmF1bHRKaXR0ZXJQcm92aWRlcixcbik6IFJldHVyblR5cGU8dHlwZW9mIGV2ZW50cy5jZWxsTW92ZWQyPiB8IG51bGwge1xuICAvLyBDZWxsIG11c3QgaGF2ZSBhIHZhbGlkIGZyYWN0aW9uYWwgaW5kZXggdG8gYmUgbW92ZWRcbiAgaWYgKCFjZWxsLmZyYWN0aW9uYWxJbmRleCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gRGV0ZXJtaW5lIHRoZSBmcmFjdGlvbmFsIGluZGljZXMgZm9yIGJlZm9yZSBhbmQgYWZ0ZXJcbiAgY29uc3QgcHJldmlvdXNLZXkgPSBjZWxsQmVmb3JlPy5mcmFjdGlvbmFsSW5kZXggfHwgbnVsbDtcbiAgY29uc3QgbmV4dEtleSA9IGNlbGxBZnRlcj8uZnJhY3Rpb25hbEluZGV4IHx8IG51bGw7XG5cbiAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBpbiB0aGUgdGFyZ2V0IHBvc2l0aW9uXG4gIGlmIChjZWxsQmVmb3JlICYmIGNlbGxBZnRlcikge1xuICAgIC8vIElmIGJldHdlZW4gdHdvIGNlbGxzLCBjaGVjayBpZiB3ZSdyZSBhbHJlYWR5IHRoZXJlXG4gICAgaWYgKFxuICAgICAgY2VsbC5mcmFjdGlvbmFsSW5kZXggPiBwcmV2aW91c0tleSEgJiZcbiAgICAgIGNlbGwuZnJhY3Rpb25hbEluZGV4IDwgbmV4dEtleSFcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBlbHNlIGlmICghY2VsbEJlZm9yZSAmJiBjZWxsQWZ0ZXIpIHtcbiAgICAvLyBNb3ZpbmcgdG8gYmVnaW5uaW5nIC0gY2hlY2sgaWYgYWxyZWFkeSBiZWZvcmUgY2VsbEFmdGVyXG4gICAgaWYgKGNlbGwuZnJhY3Rpb25hbEluZGV4IDwgbmV4dEtleSEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjZWxsQmVmb3JlICYmICFjZWxsQWZ0ZXIpIHtcbiAgICAvLyBNb3ZpbmcgdG8gZW5kIC0gY2hlY2sgaWYgYWxyZWFkeSBhZnRlciBjZWxsQmVmb3JlXG4gICAgaWYgKGNlbGwuZnJhY3Rpb25hbEluZGV4ID4gcHJldmlvdXNLZXkhKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBjb25zdCBmcmFjdGlvbmFsSW5kZXggPSBmcmFjdGlvbmFsSW5kZXhCZXR3ZWVuKFxuICAgIHByZXZpb3VzS2V5LFxuICAgIG5leHRLZXksXG4gICAgaml0dGVyUHJvdmlkZXIsXG4gICk7XG5cbiAgcmV0dXJuIGV2ZW50cy5jZWxsTW92ZWQyKHtcbiAgICBpZDogY2VsbC5pZCxcbiAgICBmcmFjdGlvbmFsSW5kZXgsXG4gICAgYWN0b3JJZCxcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY2VsbCBiZXR3ZWVuIHR3byBvdGhlciBjZWxscyB1c2luZyBmcmFjdGlvbmFsIGluZGljZXNcbiAqXG4gKiBAcGFyYW0gY2VsbERhdGEgLSBUaGUgY2VsbCBkYXRhIChpZCwgY2VsbFR5cGUsIGNyZWF0ZWRCeSlcbiAqIEBwYXJhbSBjZWxsQmVmb3JlIC0gVGhlIGNlbGwgdGhhdCBzaG91bGQgY29tZSBiZWZvcmUgKG51bGwgZm9yIGJlZ2lubmluZylcbiAqIEBwYXJhbSBjZWxsQWZ0ZXIgLSBUaGUgY2VsbCB0aGF0IHNob3VsZCBjb21lIGFmdGVyIChudWxsIGZvciBlbmQpXG4gKlxuICogTm90ZTogSXQncyB0aGUgY2FsbGVyJ3MgcmVzcG9uc2liaWxpdHkgdG8gcHJvdmlkZSBhY2N1cmF0ZSBiZWZvcmUvYWZ0ZXIgY2VsbHMuXG4gKiBJZiBib3RoIGNlbGxCZWZvcmUgYW5kIGNlbGxBZnRlciBhcmUgcHJvdmlkZWQsIHRoZXkgbXVzdCBiZSBhZGphY2VudCBjZWxscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNlbGxCZXR3ZWVuKFxuICBjZWxsRGF0YToge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgY2VsbFR5cGU6IENlbGxUeXBlO1xuICAgIGNyZWF0ZWRCeTogc3RyaW5nO1xuICB9LFxuICBjZWxsQmVmb3JlOiBDZWxsUmVmZXJlbmNlIHwgbnVsbCxcbiAgY2VsbEFmdGVyOiBDZWxsUmVmZXJlbmNlIHwgbnVsbCxcbiAgYWxsQ2VsbHM6IHJlYWRvbmx5IENlbGxSZWZlcmVuY2VbXSxcbiAgaml0dGVyUHJvdmlkZXI6IEppdHRlclByb3ZpZGVyID0gZGVmYXVsdEppdHRlclByb3ZpZGVyLFxuKTogQ2VsbE9wZXJhdGlvblJlc3VsdCB7XG4gIC8vIERldGVybWluZSB0aGUgZnJhY3Rpb25hbCBpbmRpY2VzIGZvciBiZWZvcmUgYW5kIGFmdGVyXG4gIGxldCBwcmV2aW91c0tleSA9IGNlbGxCZWZvcmU/LmZyYWN0aW9uYWxJbmRleCB8fCBudWxsO1xuICBsZXQgbmV4dEtleSA9IGNlbGxBZnRlcj8uZnJhY3Rpb25hbEluZGV4IHx8IG51bGw7XG5cbiAgLy8gU3BlY2lhbCBjYXNlOiBpZiBib3RoIGFyZSBudWxsIGJ1dCB3ZSBoYXZlIGV4aXN0aW5nIGNlbGxzLCBpbnNlcnQgYXQgZW5kXG4gIGlmICghY2VsbEJlZm9yZSAmJiAhY2VsbEFmdGVyICYmIGFsbENlbGxzLmxlbmd0aCA+IDApIHtcbiAgICAvLyBTb3J0IGNlbGxzIGJ5IGZyYWN0aW9uYWwgaW5kZXggdG8gZmluZCB0aGUgbGFzdCBvbmVcbiAgICBjb25zdCBzb3J0ZWRDZWxscyA9IFsuLi5hbGxDZWxsc10uc29ydCgoYSwgYikgPT5cbiAgICAgIChhLmZyYWN0aW9uYWxJbmRleCB8fCBcIlwiKS5sb2NhbGVDb21wYXJlKGIuZnJhY3Rpb25hbEluZGV4IHx8IFwiXCIpXG4gICAgKTtcbiAgICBjb25zdCBsYXN0Q2VsbCA9IHNvcnRlZENlbGxzW3NvcnRlZENlbGxzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChsYXN0Q2VsbD8uZnJhY3Rpb25hbEluZGV4KSB7XG4gICAgICBwcmV2aW91c0tleSA9IGxhc3RDZWxsLmZyYWN0aW9uYWxJbmRleDtcbiAgICAgIG5leHRLZXkgPSBudWxsOyAvLyBJbnNlcnQgYWZ0ZXIgdGhlIGxhc3QgY2VsbFxuICAgIH1cbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBpbnNlcnRpb24gcG9zaXRpb24gZm9yIHJlYmFsYW5jaW5nIGNvbnRleHRcbiAgbGV0IGluc2VydFBvc2l0aW9uID0gMDtcbiAgaWYgKGNlbGxCZWZvcmUgJiYgY2VsbEFmdGVyKSB7XG4gICAgLy8gRmluZCBwb3NpdGlvbiBiZXR3ZWVuIHRoZSB0d28gY2VsbHNcbiAgICBjb25zdCBiZWZvcmVJbmRleCA9IGFsbENlbGxzLmZpbmRJbmRleCgoY2VsbCkgPT4gY2VsbC5pZCA9PT0gY2VsbEJlZm9yZS5pZCk7XG4gICAgaW5zZXJ0UG9zaXRpb24gPSBiZWZvcmVJbmRleCArIDE7XG4gIH0gZWxzZSBpZiAoY2VsbEJlZm9yZSkge1xuICAgIC8vIEluc2VydCBhZnRlciBjZWxsQmVmb3JlXG4gICAgY29uc3QgYmVmb3JlSW5kZXggPSBhbGxDZWxscy5maW5kSW5kZXgoKGNlbGwpID0+IGNlbGwuaWQgPT09IGNlbGxCZWZvcmUuaWQpO1xuICAgIGluc2VydFBvc2l0aW9uID0gYmVmb3JlSW5kZXggKyAxO1xuICB9IGVsc2UgaWYgKGNlbGxBZnRlcikge1xuICAgIC8vIEluc2VydCBiZWZvcmUgY2VsbEFmdGVyXG4gICAgY29uc3QgYWZ0ZXJJbmRleCA9IGFsbENlbGxzLmZpbmRJbmRleCgoY2VsbCkgPT4gY2VsbC5pZCA9PT0gY2VsbEFmdGVyLmlkKTtcbiAgICBpbnNlcnRQb3NpdGlvbiA9IGFmdGVySW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgLy8gSW5zZXJ0IGF0IGVuZFxuICAgIGluc2VydFBvc2l0aW9uID0gYWxsQ2VsbHMubGVuZ3RoO1xuICB9XG5cbiAgLy8gVXNlIHRoZSByb2J1c3QgZnJhY3Rpb25hbCBpbmRleCBnZW5lcmF0aW9uIHdpdGggZmFsbGJhY2tcbiAgY29uc3QgcmVzdWx0ID0gZnJhY3Rpb25hbEluZGV4QmV0d2VlbldpdGhGYWxsYmFjayhcbiAgICBwcmV2aW91c0tleSxcbiAgICBuZXh0S2V5LFxuICAgIHtcbiAgICAgIGFsbENlbGxzLFxuICAgICAgaW5zZXJ0UG9zaXRpb24sXG4gICAgICBqaXR0ZXJQcm92aWRlcixcbiAgICB9LFxuICApO1xuXG4gIGNvbnN0IHJlc3VsdEV2ZW50czogQXJyYXk8XG4gICAgfCBSZXR1cm5UeXBlPHR5cGVvZiBldmVudHMuY2VsbENyZWF0ZWQyPlxuICAgIHwgUmV0dXJuVHlwZTx0eXBlb2YgZXZlbnRzLmNlbGxNb3ZlZDI+XG4gID4gPSBbXTtcblxuICAvLyBBZGQgcmViYWxhbmNpbmcgZXZlbnRzIGlmIG5lZWRlZFxuICBpZiAocmVzdWx0Lm5lZWRzUmViYWxhbmNpbmcgJiYgcmVzdWx0LnJlYmFsYW5jZVJlc3VsdCkge1xuICAgIHJlc3VsdEV2ZW50cy5wdXNoKC4uLnJlc3VsdC5yZWJhbGFuY2VSZXN1bHQuZXZlbnRzKTtcbiAgfVxuXG4gIC8vIENyZWF0ZSB0aGUgbmV3IGNlbGwgd2l0aCB0aGUgY2FsY3VsYXRlZCBmcmFjdGlvbmFsIGluZGV4XG4gIGNvbnN0IGNyZWF0ZUV2ZW50ID0gZXZlbnRzLmNlbGxDcmVhdGVkMih7XG4gICAgLi4uY2VsbERhdGEsXG4gICAgZnJhY3Rpb25hbEluZGV4OiByZXN1bHQuaW5kZXghLFxuICB9KTtcbiAgcmVzdWx0RXZlbnRzLnB1c2goY3JlYXRlRXZlbnQpO1xuXG4gIHJldHVybiB7XG4gICAgZXZlbnRzOiByZXN1bHRFdmVudHMsXG4gICAgbmV3Q2VsbElkOiBjZWxsRGF0YS5pZCxcbiAgICBuZWVkc1JlYmFsYW5jaW5nOiByZXN1bHQubmVlZHNSZWJhbGFuY2luZyxcbiAgICAuLi4ocmVzdWx0LnJlYmFsYW5jZVJlc3VsdCAmJiB7XG4gICAgICByZWJhbGFuY2VDb3VudDogcmVzdWx0LnJlYmFsYW5jZVJlc3VsdC5uZXdJbmRpY2VzLmxlbmd0aCxcbiAgICB9KSxcbiAgfTtcbn1cblxuLyoqXG4gKiBNb3ZlIGEgY2VsbCBiZXR3ZWVuIHR3byBvdGhlciBjZWxscyB3aXRoIGF1dG9tYXRpYyByZWJhbGFuY2luZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZUNlbGxCZXR3ZWVuV2l0aFJlYmFsYW5jaW5nKFxuICBjZWxsOiBDZWxsUmVmZXJlbmNlLFxuICBjZWxsQmVmb3JlOiBDZWxsUmVmZXJlbmNlIHwgbnVsbCxcbiAgY2VsbEFmdGVyOiBDZWxsUmVmZXJlbmNlIHwgbnVsbCxcbiAgYWxsQ2VsbHM6IHJlYWRvbmx5IENlbGxSZWZlcmVuY2VbXSxcbiAgYWN0b3JJZD86IHN0cmluZyxcbiAgaml0dGVyUHJvdmlkZXI6IEppdHRlclByb3ZpZGVyID0gZGVmYXVsdEppdHRlclByb3ZpZGVyLFxuKTogTW92ZU9wZXJhdGlvblJlc3VsdCB7XG4gIC8vIENlbGwgbXVzdCBoYXZlIGEgdmFsaWQgZnJhY3Rpb25hbCBpbmRleCB0byBiZSBtb3ZlZFxuICBpZiAoIWNlbGwuZnJhY3Rpb25hbEluZGV4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV2ZW50czogW10sXG4gICAgICBtb3ZlZDogZmFsc2UsXG4gICAgICBuZWVkc1JlYmFsYW5jaW5nOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIHRhcmdldCBwb3NpdGlvblxuICBsZXQgdGFyZ2V0UG9zaXRpb24gPSAwO1xuICBpZiAoY2VsbEJlZm9yZSAmJiBjZWxsQWZ0ZXIpIHtcbiAgICAvLyBGaW5kIHBvc2l0aW9uIGJldHdlZW4gdGhlIHR3byBjZWxsc1xuICAgIGNvbnN0IGJlZm9yZUluZGV4ID0gYWxsQ2VsbHMuZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjZWxsQmVmb3JlLmlkKTtcbiAgICB0YXJnZXRQb3NpdGlvbiA9IGJlZm9yZUluZGV4ICsgMTtcbiAgfSBlbHNlIGlmIChjZWxsQmVmb3JlKSB7XG4gICAgLy8gTW92ZSBhZnRlciBjZWxsQmVmb3JlXG4gICAgY29uc3QgYmVmb3JlSW5kZXggPSBhbGxDZWxscy5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNlbGxCZWZvcmUuaWQpO1xuICAgIHRhcmdldFBvc2l0aW9uID0gYmVmb3JlSW5kZXggKyAxO1xuICB9IGVsc2UgaWYgKGNlbGxBZnRlcikge1xuICAgIC8vIE1vdmUgYmVmb3JlIGNlbGxBZnRlclxuICAgIGNvbnN0IGFmdGVySW5kZXggPSBhbGxDZWxscy5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGNlbGxBZnRlci5pZCk7XG4gICAgdGFyZ2V0UG9zaXRpb24gPSBhZnRlckluZGV4O1xuICB9IGVsc2Uge1xuICAgIC8vIE1vdmUgdG8gZW5kXG4gICAgdGFyZ2V0UG9zaXRpb24gPSBhbGxDZWxscy5sZW5ndGggLSAxOyAvLyBBY2NvdW50IGZvciB0aGUgY2VsbCBiZWluZyBtb3ZlZFxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBpbiB0YXJnZXQgcG9zaXRpb25cbiAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gYWxsQ2VsbHMuZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBjZWxsLmlkKTtcbiAgaWYgKGN1cnJlbnRQb3NpdGlvbiA9PT0gdGFyZ2V0UG9zaXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXZlbnRzOiBbXSxcbiAgICAgIG1vdmVkOiBmYWxzZSxcbiAgICAgIG5lZWRzUmViYWxhbmNpbmc6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICAvLyBVc2UgdGhlIGV4aXN0aW5nIG1vdmVDZWxsV2l0aFJlYmFsYW5jaW5nIGZ1bmN0aW9uXG4gIGNvbnN0IHJlc3VsdCA9IG1vdmVDZWxsV2l0aFJlYmFsYW5jaW5nKFxuICAgIGNlbGwsXG4gICAgY2VsbEJlZm9yZSxcbiAgICBjZWxsQWZ0ZXIsXG4gICAgYWxsQ2VsbHMsXG4gICAgeyAuLi4oYWN0b3JJZCAmJiB7IGFjdG9ySWQgfSksIGppdHRlclByb3ZpZGVyIH0sXG4gICk7XG5cbiAgY29uc3QgcmVzdWx0RXZlbnRzOiBBcnJheTxSZXR1cm5UeXBlPHR5cGVvZiBldmVudHMuY2VsbE1vdmVkMj4+ID0gW107XG5cbiAgLy8gQWRkIHJlYmFsYW5jaW5nIGV2ZW50cyBpZiBuZWVkZWRcbiAgaWYgKHJlc3VsdC5uZWVkc1JlYmFsYW5jaW5nICYmIHJlc3VsdC5yZWJhbGFuY2VSZXN1bHQpIHtcbiAgICByZXN1bHRFdmVudHMucHVzaCguLi5yZXN1bHQucmViYWxhbmNlUmVzdWx0LmV2ZW50cyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZXZlbnRzOiByZXN1bHRFdmVudHMsXG4gICAgICBtb3ZlZDogdHJ1ZSxcbiAgICAgIG5lZWRzUmViYWxhbmNpbmc6IHRydWUsXG4gICAgICByZWJhbGFuY2VDb3VudDogcmVzdWx0LnJlYmFsYW5jZVJlc3VsdC5uZXdJbmRpY2VzLmxlbmd0aCxcbiAgICB9O1xuICB9XG5cbiAgLy8gQWRkIHRoZSBtb3ZlIGV2ZW50IGlmIG9uZSB3YXMgZ2VuZXJhdGVkXG4gIGlmIChyZXN1bHQubW92ZUV2ZW50KSB7XG4gICAgcmVzdWx0RXZlbnRzLnB1c2gocmVzdWx0Lm1vdmVFdmVudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZXZlbnRzOiByZXN1bHRFdmVudHMsXG4gICAgICBtb3ZlZDogdHJ1ZSxcbiAgICAgIG5lZWRzUmViYWxhbmNpbmc6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICAvLyBObyBtb3ZlIHdhcyBuZWVkZWRcbiAgcmV0dXJuIHtcbiAgICBldmVudHM6IFtdLFxuICAgIG1vdmVkOiBmYWxzZSxcbiAgICBuZWVkc1JlYmFsYW5jaW5nOiBmYWxzZSxcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3Igc2ltcGxlIGNlbGwgY3JlYXRpb24gd2l0aCBhdXRvbWF0aWMgZXZlbnQgY29tbWl0bWVudFxuICogUmV0dXJucyB0aGUgbmV3IGNlbGwgSUQgZm9yIGltbWVkaWF0ZSB1c2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNlbGxCZXR3ZWVuQW5kQ29tbWl0PFxuICBUIGV4dGVuZHMge1xuICAgIGNvbW1pdDogKFxuICAgICAgZXZlbnQ6XG4gICAgICAgIHwgUmV0dXJuVHlwZTx0eXBlb2YgZXZlbnRzLmNlbGxDcmVhdGVkMj5cbiAgICAgICAgfCBSZXR1cm5UeXBlPHR5cGVvZiBldmVudHMuY2VsbE1vdmVkMj4sXG4gICAgKSA9PiB2b2lkO1xuICB9LFxuPihcbiAgc3RvcmU6IFQsXG4gIGNlbGxEYXRhOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBjZWxsVHlwZTogQ2VsbFR5cGU7XG4gICAgY3JlYXRlZEJ5OiBzdHJpbmc7XG4gIH0sXG4gIGNlbGxCZWZvcmU6IENlbGxSZWZlcmVuY2UgfCBudWxsLFxuICBjZWxsQWZ0ZXI6IENlbGxSZWZlcmVuY2UgfCBudWxsLFxuICBhbGxDZWxsczogcmVhZG9ubHkgQ2VsbFJlZmVyZW5jZVtdLFxuICBqaXR0ZXJQcm92aWRlcjogSml0dGVyUHJvdmlkZXIgPSBkZWZhdWx0Sml0dGVyUHJvdmlkZXIsXG4pOiBzdHJpbmcge1xuICBjb25zdCByZXN1bHQgPSBjcmVhdGVDZWxsQmV0d2VlbihcbiAgICBjZWxsRGF0YSxcbiAgICBjZWxsQmVmb3JlLFxuICAgIGNlbGxBZnRlcixcbiAgICBhbGxDZWxscyxcbiAgICBqaXR0ZXJQcm92aWRlcixcbiAgKTtcblxuICAvLyBDb21taXQgYWxsIGV2ZW50c1xuICByZXN1bHQuZXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiBzdG9yZS5jb21taXQoZXZlbnQpKTtcblxuICByZXR1cm4gcmVzdWx0Lm5ld0NlbGxJZDtcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3Igc2ltcGxlIGNlbGwgbW92ZW1lbnQgd2l0aCBhdXRvbWF0aWMgZXZlbnQgY29tbWl0bWVudFxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBjZWxsIHdhcyBhY3R1YWxseSBtb3ZlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZUNlbGxCZXR3ZWVuQW5kQ29tbWl0PFxuICBUIGV4dGVuZHMgeyBjb21taXQ6IChldmVudDogUmV0dXJuVHlwZTx0eXBlb2YgZXZlbnRzLmNlbGxNb3ZlZDI+KSA9PiB2b2lkIH0sXG4+KFxuICBzdG9yZTogVCxcbiAgY2VsbDogQ2VsbFJlZmVyZW5jZSxcbiAgY2VsbEJlZm9yZTogQ2VsbFJlZmVyZW5jZSB8IG51bGwsXG4gIGNlbGxBZnRlcjogQ2VsbFJlZmVyZW5jZSB8IG51bGwsXG4gIGFsbENlbGxzOiByZWFkb25seSBDZWxsUmVmZXJlbmNlW10sXG4gIGFjdG9ySWQ/OiBzdHJpbmcsXG4gIGppdHRlclByb3ZpZGVyOiBKaXR0ZXJQcm92aWRlciA9IGRlZmF1bHRKaXR0ZXJQcm92aWRlcixcbik6IGJvb2xlYW4ge1xuICBjb25zdCByZXN1bHQgPSBtb3ZlQ2VsbEJldHdlZW5XaXRoUmViYWxhbmNpbmcoXG4gICAgY2VsbCxcbiAgICBjZWxsQmVmb3JlLFxuICAgIGNlbGxBZnRlcixcbiAgICBhbGxDZWxscyxcbiAgICBhY3RvcklkLFxuICAgIGppdHRlclByb3ZpZGVyLFxuICApO1xuXG4gIC8vIENvbW1pdCBhbGwgZXZlbnRzXG4gIHJlc3VsdC5ldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHN0b3JlLmNvbW1pdChldmVudCkpO1xuXG4gIHJldHVybiByZXN1bHQubW92ZWQ7XG59XG5cbi8vIFByZSAwLjcuMSAtLSB0aGVzZSB0eXBlcyBzaG91bGQgZ2V0IGNyZWF0ZWQgaW4gY2xpZW50c1xuLy8gY29uc3Qgc3RhdGUgPSBTdGF0ZS5TUUxpdGUubWFrZVN0YXRlKHsgdGFibGVzLCBtYXRlcmlhbGl6ZXJzIH0pO1xuLy8gZXhwb3J0IGNvbnN0IHNjaGVtYSA9IG1ha2VTY2hlbWEoeyBldmVudHMsIHN0YXRlIH0pO1xuLy8gZXhwb3J0IHR5cGUgU3RvcmUgPSBMaXZlU3RvcmU8dHlwZW9mIHNjaGVtYT47XG4iXSwibmFtZXMiOlsiRXZlbnRzIiwiU2NoZW1hIiwiU3RhdGUiLCJBY3RvclR5cGVTY2hlbWEiLCJDZWxsVHlwZVNjaGVtYSIsIk1lZGlhUmVwcmVzZW50YXRpb25TY2hlbWEiLCJ0YWJsZXMiLCJldmVudHMiLCJkZWJ1ZzEiLCJzeW5jZWQiLCJuYW1lIiwic2NoZW1hIiwiU3RydWN0IiwiaWQiLCJTdHJpbmciLCJub3RlYm9va0luaXRpYWxpemVkIiwidGl0bGUiLCJvd25lcklkIiwibm90ZWJvb2tUaXRsZUNoYW5nZWQiLCJub3RlYm9va01ldGFkYXRhU2V0Iiwia2V5IiwidmFsdWUiLCJjZWxsQ3JlYXRlZCIsImNlbGxUeXBlIiwicG9zaXRpb24iLCJOdW1iZXIiLCJjcmVhdGVkQnkiLCJhY3RvcklkIiwib3B0aW9uYWwiLCJjZWxsQ3JlYXRlZDIiLCJmcmFjdGlvbmFsSW5kZXgiLCJhbm5vdGF0aW9ucyIsImRlc2NyaXB0aW9uIiwiY2VsbFNvdXJjZUNoYW5nZWQiLCJzb3VyY2UiLCJtb2RpZmllZEJ5IiwiY2VsbFR5cGVDaGFuZ2VkIiwiY2VsbERlbGV0ZWQiLCJjZWxsTW92ZWQiLCJuZXdQb3NpdGlvbiIsImNlbGxNb3ZlZDIiLCJjZWxsU291cmNlVmlzaWJpbGl0eVRvZ2dsZWQiLCJzb3VyY2VWaXNpYmxlIiwiQm9vbGVhbiIsImNlbGxPdXRwdXRWaXNpYmlsaXR5VG9nZ2xlZCIsIm91dHB1dFZpc2libGUiLCJjZWxsQWlDb250ZXh0VmlzaWJpbGl0eVRvZ2dsZWQiLCJhaUNvbnRleHRWaXNpYmxlIiwicnVudGltZVNlc3Npb25TdGFydGVkIiwic2Vzc2lvbklkIiwicnVudGltZUlkIiwicnVudGltZVR5cGUiLCJjYXBhYmlsaXRpZXMiLCJjYW5FeGVjdXRlQ29kZSIsImNhbkV4ZWN1dGVTcWwiLCJjYW5FeGVjdXRlQWkiLCJhdmFpbGFibGVBaU1vZGVscyIsIkFueSIsInByZXNlbmNlU2V0IiwidXNlcklkIiwiY2VsbElkIiwicnVudGltZVNlc3Npb25TdGF0dXNDaGFuZ2VkIiwic3RhdHVzIiwiTGl0ZXJhbCIsInJ1bnRpbWVTZXNzaW9uVGVybWluYXRlZCIsInJlYXNvbiIsImV4ZWN1dGlvblJlcXVlc3RlZCIsInF1ZXVlSWQiLCJleGVjdXRpb25Db3VudCIsInJlcXVlc3RlZEJ5IiwiZXhlY3V0aW9uQXNzaWduZWQiLCJydW50aW1lU2Vzc2lvbklkIiwiZXhlY3V0aW9uU3RhcnRlZCIsInN0YXJ0ZWRBdCIsIkRhdGUiLCJleGVjdXRpb25Db21wbGV0ZWQiLCJlcnJvciIsImNvbXBsZXRlZEF0IiwiZXhlY3V0aW9uRHVyYXRpb25NcyIsImV4ZWN1dGlvbkNhbmNlbGxlZCIsImNhbmNlbGxlZEJ5IiwibXVsdGltZWRpYURpc3BsYXlPdXRwdXRBZGRlZCIsInJlcHJlc2VudGF0aW9ucyIsIlJlY29yZCIsImRpc3BsYXlJZCIsIm11bHRpbWVkaWFEaXNwbGF5T3V0cHV0VXBkYXRlZCIsIm11bHRpbWVkaWFSZXN1bHRPdXRwdXRBZGRlZCIsInRlcm1pbmFsT3V0cHV0QWRkZWQiLCJjb250ZW50Iiwic3RyZWFtTmFtZSIsInRlcm1pbmFsT3V0cHV0QXBwZW5kZWQiLCJvdXRwdXRJZCIsInRlcm1pbmFsT3V0cHV0QXBwZW5kZWQyIiwiZGVsdGEiLCJzZXF1ZW5jZU51bWJlciIsIm1hcmtkb3duT3V0cHV0QWRkZWQiLCJtYXJrZG93bk91dHB1dEFwcGVuZGVkIiwibWFya2Rvd25PdXRwdXRBcHBlbmRlZDIiLCJlcnJvck91dHB1dEFkZGVkIiwiY2VsbE91dHB1dHNDbGVhcmVkIiwid2FpdCIsImNsZWFyZWRCeSIsImFpU2V0dGluZ3NDaGFuZ2VkIiwicHJvdmlkZXIiLCJtb2RlbCIsInNldHRpbmdzIiwidGVtcGVyYXR1cmUiLCJtYXhUb2tlbnMiLCJzeXN0ZW1Qcm9tcHQiLCJzcWxDb25uZWN0aW9uQ2hhbmdlZCIsImNvbm5lY3Rpb25JZCIsImNoYW5nZWRCeSIsInNxbFJlc3VsdFZhcmlhYmxlQ2hhbmdlZCIsInJlc3VsdFZhcmlhYmxlIiwidWlTdGF0ZVNldCIsInVpU3RhdGUiLCJzZXQiLCJhY3RvclByb2ZpbGVTZXQiLCJ0eXBlIiwiZGlzcGxheU5hbWUiLCJhdmF0YXIiLCJ0b29sQXBwcm92YWxSZXF1ZXN0ZWQiLCJ0b29sQ2FsbElkIiwidG9vbE5hbWUiLCJhcmd1bWVudHMiLCJyZXF1ZXN0ZWRBdCIsInRvb2xBcHByb3ZhbFJlc3BvbmRlZCIsImFwcHJvdmVkQnkiLCJyZXNwb25kZWRBdCIsInNlbGVjdFByaW1hcnlSZXByZXNlbnRhdGlvbiIsInByZWZlcnJlZE1pbWVUeXBlcyIsIm1pbWVUeXBlIiwiY29udGFpbmVyIiwidXBkYXRlRXhpc3RpbmdEaXNwbGF5cyIsImN0eCIsImV4aXN0aW5nT3V0cHV0cyIsInF1ZXJ5Iiwib3V0cHV0cyIsInNlbGVjdCIsIndoZXJlIiwib3V0cHV0VHlwZSIsImxlbmd0aCIsInByaW1hcnlSZXAiLCJkYXRhIiwidXBkYXRlIiwidXBkYXRlUHJlc2VuY2UiLCJwcmVzZW5jZSIsImluc2VydCIsIm9uQ29uZmxpY3QiLCJtYXRlcmlhbGl6ZXJzIiwiU1FMaXRlIiwiZXZlbnQiLCJleGlzdGluZ0RlYnVnIiwiZGVidWciLCJsaW1pdCIsIm5vdGVib29rTWV0YWRhdGEiLCJjZWxscyIsIk1hdGgiLCJmbG9vciIsInRvU3RyaW5nIiwib3BzIiwicHVzaCIsImRlbGV0ZSIsInJ1bnRpbWVTZXNzaW9ucyIsImlzQWN0aXZlIiwiZXhlY3V0aW9uUXVldWUiLCJleGVjdXRpb25TdGF0ZSIsImFzc2lnbmVkUnVudGltZVNlc3Npb24iLCJsYXN0RXhlY3V0aW9uRHVyYXRpb25NcyIsInBlbmRpbmdDbGVhciIsInBlbmRpbmdDbGVhcnMiLCJwcmltYXJ5RGF0YSIsInByaW1hcnlNaW1lVHlwZSIsImFydGlmYWN0SWQiLCJtZXRhZGF0YSIsInByZWZlcmVuY2VPcmRlciIsInJlcCIsImV4aXN0aW5nT3V0cHV0IiwibmV3Q29udGVudCIsImNvbmNhdGVuYXRlZERhdGEiLCJvdXRwdXREZWx0YXMiLCJKU09OIiwic3RyaW5naWZ5IiwiYWlQcm92aWRlciIsImFpTW9kZWwiLCJhaVNldHRpbmdzIiwic3FsQ29ubmVjdGlvbklkIiwic3FsUmVzdWx0VmFyaWFibGUiLCJhY3RvcnMiLCJfYXJncyIsInRvb2xBcHByb3ZhbHMiLCJpc0lubGluZUNvbnRhaW5lciIsImlzQXJ0aWZhY3RDb250YWluZXIiLCJnZXROb3RlYm9va01ldGFkYXRhIiwibWV0YWRhdGFSZWNvcmRzIiwiZGVmYXVsdFZhbHVlIiwicmVjb3JkIiwiZmluZCIsInIiLCJnZXROb3RlYm9va0luZm8iLCJpc1B1YmxpYyIsImlzRXJyb3JPdXRwdXQiLCJlbmFtZSIsImV2YWx1ZSIsImlzUmljaE91dHB1dCIsImlzQWlUb29sQ2FsbERhdGEiLCJ0b29sX2NhbGxfaWQiLCJ0b29sX25hbWUiLCJpc0FpVG9vbFJlc3VsdERhdGEiLCJpbmNsdWRlcyIsIkFJX1RPT0xfQ0FMTF9NSU1FX1RZUEUiLCJBSV9UT09MX1JFU1VMVF9NSU1FX1RZUEUiLCJCQVNFMzZfRElHSVRTIiwiQkFTRSIsImNoYXJUb1ZhbHVlIiwiY2hhciIsImluZGV4IiwiaW5kZXhPZiIsIkVycm9yIiwidmFsdWVUb0NoYXIiLCJnZW5lcmF0ZUtleUJldHdlZW4iLCJhIiwiYiIsImdlbmVyYXRlS2V5QmVmb3JlIiwiZ2VuZXJhdGVLZXlBZnRlciIsImkiLCJuZXh0Q2hhciIsIm5leHRWYWwiLCJtaWRWYWwiLCJ6ZXJvQ291bnQiLCJqIiwicmVwZWF0IiwicHJlZml4IiwiYUNoYXIiLCJiQ2hhciIsImFWYWwiLCJiVmFsIiwic3Vic3RyaW5nIiwicmVtYWluaW5nIiwic3VmZml4IiwidmFsIiwiZGVmYXVsdEppdHRlclByb3ZpZGVyIiwicmFuZG9tIiwicmFuZG9tSW50IiwibWF4IiwiY3JlYXRlVGVzdEppdHRlclByb3ZpZGVyIiwic2VlZCIsImN1cnJlbnRTZWVkIiwibmV4dFJhbmRvbSIsImZyYWN0aW9uYWxJbmRleEJldHdlZW4iLCJqaXR0ZXJQcm92aWRlciIsImNhbmRpZGF0ZSIsImlzVmFsaWQiLCJnZW5lcmF0ZUZyYWN0aW9uYWxJbmRpY2VzIiwibiIsImtleXMiLCJwcmV2IiwiaW5pdGlhbEZyYWN0aW9uYWxJbmRleCIsIm5lZWRzUmViYWxhbmNpbmciLCJpbnNlcnRQb3NpdGlvbiIsInNvcnRlZENlbGxzIiwic29ydCIsImxvY2FsZUNvbXBhcmUiLCJjdXJyZW50IiwibmV4dCIsIm1lc3NhZ2UiLCJ1bmRlZmluZWQiLCJiZWZvcmVDZWxsIiwiYWZ0ZXJDZWxsIiwicmViYWxhbmNlQ2VsbEluZGljZXMiLCJvcHRpb25zIiwiYnVmZmVyQ2VsbHMiLCJuZXdJbmRpY2VzIiwibW92ZUV2ZW50cyIsInRvdGFsUG9zaXRpb25zIiwiaW5kaWNlcyIsImNlbGwiLCJuZXdJbmRleCIsIm1vdmVFdmVudCIsImNhbGN1bGF0ZUluc2VydGlvbkluZGV4QWZ0ZXJSZWJhbGFuY2luZyIsInJlYmFsYW5jZVJlc3VsdCIsIm1hcCIsIml0ZW0iLCJmaXJzdEluZGV4IiwibGFzdEluZGV4IiwiYmVmb3JlSW5kZXgiLCJhZnRlckluZGV4IiwiZnJhY3Rpb25hbEluZGV4QmV0d2VlbldpdGhGYWxsYmFjayIsImNvbnRleHQiLCJhbGxDZWxscyIsImluc2VydGlvbkluZGV4IiwibW92ZUNlbGxXaXRoUmViYWxhbmNpbmciLCJjZWxsQmVmb3JlIiwiY2VsbEFmdGVyIiwibW92ZUNlbGxCZXR3ZWVuIiwiaXNWYWxpZEZyYWN0aW9uYWxJbmRleCIsInZhbGlkYXRlRnJhY3Rpb25hbEluZGV4T3JkZXIiLCJ2YWxpZEluZGljZXMiLCJmaWx0ZXIiLCJpZHgiLCJjdXJyIiwiY29uc29sZSIsInByZXZpb3VzS2V5IiwibmV4dEtleSIsImNyZWF0ZUNlbGxCZXR3ZWVuIiwiY2VsbERhdGEiLCJsYXN0Q2VsbCIsImZpbmRJbmRleCIsInJlc3VsdCIsInJlc3VsdEV2ZW50cyIsImNyZWF0ZUV2ZW50IiwibmV3Q2VsbElkIiwicmViYWxhbmNlQ291bnQiLCJtb3ZlQ2VsbEJldHdlZW5XaXRoUmViYWxhbmNpbmciLCJtb3ZlZCIsInRhcmdldFBvc2l0aW9uIiwiYyIsImN1cnJlbnRQb3NpdGlvbiIsImNyZWF0ZUNlbGxCZXR3ZWVuQW5kQ29tbWl0Iiwic3RvcmUiLCJmb3JFYWNoIiwiY29tbWl0IiwibW92ZUNlbGxCZXR3ZWVuQW5kQ29tbWl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/schema/mod.ts\n");

/***/ }),

/***/ "(rsc)/./src/schema/queries/cellOrdering.ts":
/*!********************************************!*\
  !*** ./src/schema/queries/cellOrdering.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cellOrdering$: () => (/* binding */ cellOrdering$),\n/* harmony export */   cellPositionInfo: () => (/* binding */ cellPositionInfo),\n/* harmony export */   cellsAfter: () => (/* binding */ cellsAfter),\n/* harmony export */   cellsBefore: () => (/* binding */ cellsBefore),\n/* harmony export */   cellsInRange: () => (/* binding */ cellsInRange),\n/* harmony export */   cellsWithIndices$: () => (/* binding */ cellsWithIndices$),\n/* harmony export */   firstCell$: () => (/* binding */ firstCell$),\n/* harmony export */   getAdjacentCells: () => (/* binding */ getAdjacentCells),\n/* harmony export */   lastCell$: () => (/* binding */ lastCell$),\n/* harmony export */   neighboringCells: () => (/* binding */ neighboringCells)\n/* harmony export */ });\n/* harmony import */ var _tables_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tables.ts */ \"(rsc)/./src/schema/tables.ts\");\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/@livestore/livestore/dist/live-queries/db-query.js\");\n\n\n/**\n * Cell ordering queries using fractional indexing\n * These queries are designed to be fine-grained and reusable\n * to minimize re-renders across the application\n */ // Get all cells with their fractional indices, sorted\nconst cellsWithIndices$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\", \"cellType\").orderBy(\"fractionalIndex\", \"asc\"), {\n    label: \"cells.withIndices\"\n});\n// Get just the cell ordering information (minimal fields)\nconst cellOrdering$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\").orderBy(\"fractionalIndex\", \"asc\"), {\n    label: \"cells.ordering\"\n});\n// Get the first cell in the notebook\nconst firstCell$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\").orderBy(\"fractionalIndex\", \"asc\").first({\n    fallback: ()=>null\n}), {\n    label: \"cells.first\"\n});\n// Get the last cell in the notebook\nconst lastCell$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\").orderBy(\"fractionalIndex\", \"desc\").first({\n    fallback: ()=>null\n}), {\n    label: \"cells.last\"\n});\n// Get cells before a specific fractional index\nconst cellsBefore = (fractionalIndex, limit = 1)=>(0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\").where(\"fractionalIndex\", \"<\", fractionalIndex).orderBy(\"fractionalIndex\", \"desc\").limit(limit), {\n        deps: [\n            fractionalIndex,\n            limit\n        ],\n        label: `cells.before.${fractionalIndex}`\n    });\n// Get cells after a specific fractional index\nconst cellsAfter = (fractionalIndex, limit = 1)=>(0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\").where(\"fractionalIndex\", \">\", fractionalIndex).orderBy(\"fractionalIndex\", \"asc\").limit(limit), {\n        deps: [\n            fractionalIndex,\n            limit\n        ],\n        label: `cells.after.${fractionalIndex}`\n    });\n// Get neighboring cells (one before and one after)\nconst neighboringCells = (cellId)=>(0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\").orderBy(\"fractionalIndex\", \"asc\"), {\n        deps: [\n            cellId\n        ],\n        label: `cells.neighbors.${cellId}`\n    });\n// Get the immediate adjacent cells (previous and next) for a specific cell\nconst getAdjacentCells = (cellId, fractionalIndex)=>{\n    const previousCell$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\").where(\"fractionalIndex\", \"<\", fractionalIndex).orderBy(\"fractionalIndex\", \"desc\").first({\n        fallback: ()=>null\n    }), {\n        deps: [\n            cellId,\n            fractionalIndex\n        ],\n        label: `cells.previous.${cellId}`\n    });\n    const nextCell$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\").where(\"fractionalIndex\", \">\", fractionalIndex).orderBy(\"fractionalIndex\", \"asc\").first({\n        fallback: ()=>null\n    }), {\n        deps: [\n            cellId,\n            fractionalIndex\n        ],\n        label: `cells.next.${cellId}`\n    });\n    return {\n        previousCell$,\n        nextCell$\n    };\n};\n// Get cell position info (useful for UI that needs to know if a cell is first/last)\nconst cellPositionInfo = (cellId)=>(0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\").where({\n        id: cellId\n    }).first({\n        fallback: ()=>null\n    }), {\n        deps: [\n            cellId\n        ],\n        label: `cells.positionInfo.${cellId}`\n    });\n// Get cells in a range (useful for virtualization)\nconst cellsInRange = (startIndex, endIndex)=>{\n    let query = _tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\", \"cellType\");\n    if (startIndex && endIndex) {\n        // Both bounds specified\n        query = query.where(\"fractionalIndex\", \">=\", startIndex).where(\"fractionalIndex\", \"<=\", endIndex);\n    } else if (startIndex) {\n        // Only start bound\n        query = query.where(\"fractionalIndex\", \">=\", startIndex);\n    } else if (endIndex) {\n        // Only end bound\n        query = query.where(\"fractionalIndex\", \"<=\", endIndex);\n    }\n    return (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(query.orderBy(\"fractionalIndex\", \"asc\"), {\n        deps: [\n            startIndex,\n            endIndex\n        ],\n        label: `cells.range.${startIndex}-${endIndex}`\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2NoZW1hL3F1ZXJpZXMvY2VsbE9yZGVyaW5nLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzQztBQUNTO0FBRS9DOzs7O0NBSUMsR0FFRCxzREFBc0Q7QUFDL0MsTUFBTUUsb0JBQW9CRCw2REFBT0EsQ0FDdENELDhDQUFNQSxDQUFDRyxLQUFLLENBQ1RDLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixZQUNoQ0MsT0FBTyxDQUFDLG1CQUFtQixRQUM5QjtJQUFFQyxPQUFPO0FBQW9CLEdBQzdCO0FBRUYsMERBQTBEO0FBQ25ELE1BQU1DLGdCQUFnQk4sNkRBQU9BLENBQ2xDRCw4Q0FBTUEsQ0FBQ0csS0FBSyxDQUNUQyxNQUFNLENBQUMsTUFBTSxtQkFDYkMsT0FBTyxDQUFDLG1CQUFtQixRQUM5QjtJQUFFQyxPQUFPO0FBQWlCLEdBQzFCO0FBRUYscUNBQXFDO0FBQzlCLE1BQU1FLGFBQWFQLDZEQUFPQSxDQUMvQkQsOENBQU1BLENBQUNHLEtBQUssQ0FDVEMsTUFBTSxDQUFDLE1BQU0sbUJBQ2JDLE9BQU8sQ0FBQyxtQkFBbUIsT0FDM0JJLEtBQUssQ0FBQztJQUFFQyxVQUFVLElBQU07QUFBSyxJQUNoQztJQUFFSixPQUFPO0FBQWMsR0FDdkI7QUFFRixvQ0FBb0M7QUFDN0IsTUFBTUssWUFBWVYsNkRBQU9BLENBQzlCRCw4Q0FBTUEsQ0FBQ0csS0FBSyxDQUNUQyxNQUFNLENBQUMsTUFBTSxtQkFDYkMsT0FBTyxDQUFDLG1CQUFtQixRQUMzQkksS0FBSyxDQUFDO0lBQUVDLFVBQVUsSUFBTTtBQUFLLElBQ2hDO0lBQUVKLE9BQU87QUFBYSxHQUN0QjtBQUVGLCtDQUErQztBQUN4QyxNQUFNTSxjQUFjLENBQUNDLGlCQUF5QkMsUUFBZ0IsQ0FBQyxHQUNwRWIsNkRBQU9BLENBQ0xELDhDQUFNQSxDQUFDRyxLQUFLLENBQ1RDLE1BQU0sQ0FBQyxNQUFNLG1CQUNiVyxLQUFLLENBQUMsbUJBQW1CLEtBQUtGLGlCQUM5QlIsT0FB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QUFDMkIsTUFBTXZCLE9BQU8sQ0FBQyxtQkFBbUIsUUFBUTtRQUN0RFcsTUFBTTtZQUFDVTtZQUFZQztTQUFTO1FBQzVCckIsT0FBTyxDQUFDLFlBQVksRUFBRW9CLFdBQVcsQ0FBQyxFQUFFQyxTQUFTLENBQUM7SUFDaEQ7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5hY29uZGEtYXNzZXNtZW50LTEvLi9zcmMvc2NoZW1hL3F1ZXJpZXMvY2VsbE9yZGVyaW5nLnRzPzU4OWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGFibGVzIH0gZnJvbSBcIi4uL3RhYmxlcy50c1wiO1xuaW1wb3J0IHsgcXVlcnlEYiB9IGZyb20gXCJAbGl2ZXN0b3JlL2xpdmVzdG9yZVwiO1xuXG4vKipcbiAqIENlbGwgb3JkZXJpbmcgcXVlcmllcyB1c2luZyBmcmFjdGlvbmFsIGluZGV4aW5nXG4gKiBUaGVzZSBxdWVyaWVzIGFyZSBkZXNpZ25lZCB0byBiZSBmaW5lLWdyYWluZWQgYW5kIHJldXNhYmxlXG4gKiB0byBtaW5pbWl6ZSByZS1yZW5kZXJzIGFjcm9zcyB0aGUgYXBwbGljYXRpb25cbiAqL1xuXG4vLyBHZXQgYWxsIGNlbGxzIHdpdGggdGhlaXIgZnJhY3Rpb25hbCBpbmRpY2VzLCBzb3J0ZWRcbmV4cG9ydCBjb25zdCBjZWxsc1dpdGhJbmRpY2VzJCA9IHF1ZXJ5RGIoXG4gIHRhYmxlcy5jZWxsc1xuICAgIC5zZWxlY3QoXCJpZFwiLCBcImZyYWN0aW9uYWxJbmRleFwiLCBcImNlbGxUeXBlXCIpXG4gICAgLm9yZGVyQnkoXCJmcmFjdGlvbmFsSW5kZXhcIiwgXCJhc2NcIiksXG4gIHsgbGFiZWw6IFwiY2VsbHMud2l0aEluZGljZXNcIiB9LFxuKTtcblxuLy8gR2V0IGp1c3QgdGhlIGNlbGwgb3JkZXJpbmcgaW5mb3JtYXRpb24gKG1pbmltYWwgZmllbGRzKVxuZXhwb3J0IGNvbnN0IGNlbGxPcmRlcmluZyQgPSBxdWVyeURiKFxuICB0YWJsZXMuY2VsbHNcbiAgICAuc2VsZWN0KFwiaWRcIiwgXCJmcmFjdGlvbmFsSW5kZXhcIilcbiAgICAub3JkZXJCeShcImZyYWN0aW9uYWxJbmRleFwiLCBcImFzY1wiKSxcbiAgeyBsYWJlbDogXCJjZWxscy5vcmRlcmluZ1wiIH0sXG4pO1xuXG4vLyBHZXQgdGhlIGZpcnN0IGNlbGwgaW4gdGhlIG5vdGVib29rXG5leHBvcnQgY29uc3QgZmlyc3RDZWxsJCA9IHF1ZXJ5RGIoXG4gIHRhYmxlcy5jZWxsc1xuICAgIC5zZWxlY3QoXCJpZFwiLCBcImZyYWN0aW9uYWxJbmRleFwiKVxuICAgIC5vcmRlckJ5KFwiZnJhY3Rpb25hbEluZGV4XCIsIFwiYXNjXCIpXG4gICAgLmZpcnN0KHsgZmFsbGJhY2s6ICgpID0+IG51bGwgfSksXG4gIHsgbGFiZWw6IFwiY2VsbHMuZmlyc3RcIiB9LFxuKTtcblxuLy8gR2V0IHRoZSBsYXN0IGNlbGwgaW4gdGhlIG5vdGVib29rXG5leHBvcnQgY29uc3QgbGFzdENlbGwkID0gcXVlcnlEYihcbiAgdGFibGVzLmNlbGxzXG4gICAgLnNlbGVjdChcImlkXCIsIFwiZnJhY3Rpb25hbEluZGV4XCIpXG4gICAgLm9yZGVyQnkoXCJmcmFjdGlvbmFsSW5kZXhcIiwgXCJkZXNjXCIpXG4gICAgLmZpcnN0KHsgZmFsbGJhY2s6ICgpID0+IG51bGwgfSksXG4gIHsgbGFiZWw6IFwiY2VsbHMubGFzdFwiIH0sXG4pO1xuXG4vLyBHZXQgY2VsbHMgYmVmb3JlIGEgc3BlY2lmaWMgZnJhY3Rpb25hbCBpbmRleFxuZXhwb3J0IGNvbnN0IGNlbGxzQmVmb3JlID0gKGZyYWN0aW9uYWxJbmRleDogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gMSkgPT5cbiAgcXVlcnlEYihcbiAgICB0YWJsZXMuY2VsbHNcbiAgICAgIC5zZWxlY3QoXCJpZFwiLCBcImZyYWN0aW9uYWxJbmRleFwiKVxuICAgICAgLndoZXJlKFwiZnJhY3Rpb25hbEluZGV4XCIsIFwiPFwiLCBmcmFjdGlvbmFsSW5kZXgpXG4gICAgICAub3JkZXJCeShcImZyYWN0aW9uYWxJbmRleFwiLCBcImRlc2NcIilcbiAgICAgIC5saW1pdChsaW1pdCksXG4gICAge1xuICAgICAgZGVwczogW2ZyYWN0aW9uYWxJbmRleCwgbGltaXRdLFxuICAgICAgbGFiZWw6IGBjZWxscy5iZWZvcmUuJHtmcmFjdGlvbmFsSW5kZXh9YCxcbiAgICB9LFxuICApO1xuXG4vLyBHZXQgY2VsbHMgYWZ0ZXIgYSBzcGVjaWZpYyBmcmFjdGlvbmFsIGluZGV4XG5leHBvcnQgY29uc3QgY2VsbHNBZnRlciA9IChmcmFjdGlvbmFsSW5kZXg6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDEpID0+XG4gIHF1ZXJ5RGIoXG4gICAgdGFibGVzLmNlbGxzXG4gICAgICAuc2VsZWN0KFwiaWRcIiwgXCJmcmFjdGlvbmFsSW5kZXhcIilcbiAgICAgIC53aGVyZShcImZyYWN0aW9uYWxJbmRleFwiLCBcIj5cIiwgZnJhY3Rpb25hbEluZGV4KVxuICAgICAgLm9yZGVyQnkoXCJmcmFjdGlvbmFsSW5kZXhcIiwgXCJhc2NcIilcbiAgICAgIC5saW1pdChsaW1pdCksXG4gICAge1xuICAgICAgZGVwczogW2ZyYWN0aW9uYWxJbmRleCwgbGltaXRdLFxuICAgICAgbGFiZWw6IGBjZWxscy5hZnRlci4ke2ZyYWN0aW9uYWxJbmRleH1gLFxuICAgIH0sXG4gICk7XG5cbi8vIEdldCBuZWlnaGJvcmluZyBjZWxscyAob25lIGJlZm9yZSBhbmQgb25lIGFmdGVyKVxuZXhwb3J0IGNvbnN0IG5laWdoYm9yaW5nQ2VsbHMgPSAoY2VsbElkOiBzdHJpbmcpID0+XG4gIHF1ZXJ5RGIoXG4gICAgdGFibGVzLmNlbGxzXG4gICAgICAuc2VsZWN0KFwiaWRcIiwgXCJmcmFjdGlvbmFsSW5kZXhcIilcbiAgICAgIC5vcmRlckJ5KFwiZnJhY3Rpb25hbEluZGV4XCIsIFwiYXNjXCIpLFxuICAgIHtcbiAgICAgIGRlcHM6IFtjZWxsSWRdLFxuICAgICAgbGFiZWw6IGBjZWxscy5uZWlnaGJvcnMuJHtjZWxsSWR9YCxcbiAgICB9LFxuICApO1xuXG4vLyBHZXQgdGhlIGltbWVkaWF0ZSBhZGphY2VudCBjZWxscyAocHJldmlvdXMgYW5kIG5leHQpIGZvciBhIHNwZWNpZmljIGNlbGxcbmV4cG9ydCBjb25zdCBnZXRBZGphY2VudENlbGxzID0gKGNlbGxJZDogc3RyaW5nLCBmcmFjdGlvbmFsSW5kZXg6IHN0cmluZykgPT4ge1xuICBjb25zdCBwcmV2aW91c0NlbGwkID0gcXVlcnlEYihcbiAgICB0YWJsZXMuY2VsbHNcbiAgICAgIC5zZWxlY3QoXCJpZFwiLCBcImZyYWN0aW9uYWxJbmRleFwiKVxuICAgICAgLndoZXJlKFwiZnJhY3Rpb25hbEluZGV4XCIsIFwiPFwiLCBmcmFjdGlvbmFsSW5kZXgpXG4gICAgICAub3JkZXJCeShcImZyYWN0aW9uYWxJbmRleFwiLCBcImRlc2NcIilcbiAgICAgIC5maXJzdCh7IGZhbGxiYWNrOiAoKSA9PiBudWxsIH0pLFxuICAgIHtcbiAgICAgIGRlcHM6IFtjZWxsSWQsIGZyYWN0aW9uYWxJbmRleF0sXG4gICAgICBsYWJlbDogYGNlbGxzLnByZXZpb3VzLiR7Y2VsbElkfWAsXG4gICAgfSxcbiAgKTtcblxuICBjb25zdCBuZXh0Q2VsbCQgPSBxdWVyeURiKFxuICAgIHRhYmxlcy5jZWxsc1xuICAgICAgLnNlbGVjdChcImlkXCIsIFwiZnJhY3Rpb25hbEluZGV4XCIpXG4gICAgICAud2hlcmUoXCJmcmFjdGlvbmFsSW5kZXhcIiwgXCI+XCIsIGZyYWN0aW9uYWxJbmRleClcbiAgICAgIC5vcmRlckJ5KFwiZnJhY3Rpb25hbEluZGV4XCIsIFwiYXNjXCIpXG4gICAgICAuZmlyc3QoeyBmYWxsYmFjazogKCkgPT4gbnVsbCB9KSxcbiAgICB7XG4gICAgICBkZXBzOiBbY2VsbElkLCBmcmFjdGlvbmFsSW5kZXhdLFxuICAgICAgbGFiZWw6IGBjZWxscy5uZXh0LiR7Y2VsbElkfWAsXG4gICAgfSxcbiAgKTtcblxuICByZXR1cm4geyBwcmV2aW91c0NlbGwkLCBuZXh0Q2VsbCQgfTtcbn07XG5cbi8vIEdldCBjZWxsIHBvc2l0aW9uIGluZm8gKHVzZWZ1bCBmb3IgVUkgdGhhdCBuZWVkcyB0byBrbm93IGlmIGEgY2VsbCBpcyBmaXJzdC9sYXN0KVxuZXhwb3J0IGNvbnN0IGNlbGxQb3NpdGlvbkluZm8gPSAoY2VsbElkOiBzdHJpbmcpID0+XG4gIHF1ZXJ5RGIoXG4gICAgdGFibGVzLmNlbGxzXG4gICAgICAuc2VsZWN0KFwiaWRcIiwgXCJmcmFjdGlvbmFsSW5kZXhcIilcbiAgICAgIC53aGVyZSh7IGlkOiBjZWxsSWQgfSlcbiAgICAgIC5maXJzdCh7IGZhbGxiYWNrOiAoKSA9PiBudWxsIH0pLFxuICAgIHtcbiAgICAgIGRlcHM6IFtjZWxsSWRdLFxuICAgICAgbGFiZWw6IGBjZWxscy5wb3NpdGlvbkluZm8uJHtjZWxsSWR9YCxcbiAgICB9LFxuICApO1xuXG4vLyBHZXQgY2VsbHMgaW4gYSByYW5nZSAodXNlZnVsIGZvciB2aXJ0dWFsaXphdGlvbilcbmV4cG9ydCBjb25zdCBjZWxsc0luUmFuZ2UgPSAoXG4gIHN0YXJ0SW5kZXg6IHN0cmluZyB8IG51bGwsXG4gIGVuZEluZGV4OiBzdHJpbmcgfCBudWxsLFxuKSA9PiB7XG4gIGxldCBxdWVyeSA9IHRhYmxlcy5jZWxscy5zZWxlY3QoXCJpZFwiLCBcImZyYWN0aW9uYWxJbmRleFwiLCBcImNlbGxUeXBlXCIpO1xuXG4gIGlmIChzdGFydEluZGV4ICYmIGVuZEluZGV4KSB7XG4gICAgLy8gQm90aCBib3VuZHMgc3BlY2lmaWVkXG4gICAgcXVlcnkgPSBxdWVyeVxuICAgICAgLndoZXJlKFwiZnJhY3Rpb25hbEluZGV4XCIsIFwiPj1cIiwgc3RhcnRJbmRleClcbiAgICAgIC53aGVyZShcImZyYWN0aW9uYWxJbmRleFwiLCBcIjw9XCIsIGVuZEluZGV4KTtcbiAgfSBlbHNlIGlmIChzdGFydEluZGV4KSB7XG4gICAgLy8gT25seSBzdGFydCBib3VuZFxuICAgIHF1ZXJ5ID0gcXVlcnkud2hlcmUoXCJmcmFjdGlvbmFsSW5kZXhcIiwgXCI+PVwiLCBzdGFydEluZGV4KTtcbiAgfSBlbHNlIGlmIChlbmRJbmRleCkge1xuICAgIC8vIE9ubHkgZW5kIGJvdW5kXG4gICAgcXVlcnkgPSBxdWVyeS53aGVyZShcImZyYWN0aW9uYWxJbmRleFwiLCBcIjw9XCIsIGVuZEluZGV4KTtcbiAgfVxuXG4gIHJldHVybiBxdWVyeURiKHF1ZXJ5Lm9yZGVyQnkoXCJmcmFjdGlvbmFsSW5kZXhcIiwgXCJhc2NcIiksIHtcbiAgICBkZXBzOiBbc3RhcnRJbmRleCwgZW5kSW5kZXhdLFxuICAgIGxhYmVsOiBgY2VsbHMucmFuZ2UuJHtzdGFydEluZGV4fS0ke2VuZEluZGV4fWAsXG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6WyJ0YWJsZXMiLCJxdWVyeURiIiwiY2VsbHNXaXRoSW5kaWNlcyQiLCJjZWxscyIsInNlbGVjdCIsIm9yZGVyQnkiLCJsYWJlbCIsImNlbGxPcmRlcmluZyQiLCJmaXJzdENlbGwkIiwiZmlyc3QiLCJmYWxsYmFjayIsImxhc3RDZWxsJCIsImNlbGxzQmVmb3JlIiwiZnJhY3Rpb25hbEluZGV4IiwibGltaXQiLCJ3aGVyZSIsImRlcHMiLCJjZWxsc0FmdGVyIiwibmVpZ2hib3JpbmdDZWxscyIsImNlbGxJZCIsImdldEFkamFjZW50Q2VsbHMiLCJwcmV2aW91c0NlbGwkIiwibmV4dENlbGwkIiwiY2VsbFBvc2l0aW9uSW5mbyIsImlkIiwiY2VsbHNJblJhbmdlIiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwicXVlcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/schema/queries/cellOrdering.ts\n");

/***/ }),

/***/ "(rsc)/./src/schema/queries/index.ts":
/*!*************************************!*\
  !*** ./src/schema/queries/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adjacentCells: () => (/* binding */ adjacentCells),\n/* harmony export */   applyDeltas: () => (/* reexport safe */ _outputDeltas_ts__WEBPACK_IMPORTED_MODULE_1__.applyDeltas),\n/* harmony export */   cellFractionalIndex: () => (/* binding */ cellFractionalIndex),\n/* harmony export */   cellIDs$: () => (/* binding */ cellIDs$),\n/* harmony export */   cellList$: () => (/* binding */ cellList$),\n/* harmony export */   cellOrdering$: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.cellOrdering$),\n/* harmony export */   cellPositionInfo: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.cellPositionInfo),\n/* harmony export */   cellQuery: () => (/* binding */ cellQuery),\n/* harmony export */   cellReferences$: () => (/* binding */ cellReferences$),\n/* harmony export */   cells$: () => (/* binding */ cells$),\n/* harmony export */   cellsAfter: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.cellsAfter),\n/* harmony export */   cellsBefore: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.cellsBefore),\n/* harmony export */   cellsInRange: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.cellsInRange),\n/* harmony export */   cellsWithIndices$: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.cellsWithIndices$),\n/* harmony export */   firstCell$: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.firstCell$),\n/* harmony export */   getAdjacentCells: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.getAdjacentCells),\n/* harmony export */   getFinalContent: () => (/* reexport safe */ _outputDeltas_ts__WEBPACK_IMPORTED_MODULE_1__.getFinalContent),\n/* harmony export */   lastCell$: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.lastCell$),\n/* harmony export */   neighboringCells: () => (/* reexport safe */ _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__.neighboringCells),\n/* harmony export */   notebookMetadata$: () => (/* binding */ notebookMetadata$),\n/* harmony export */   outputDeltas$: () => (/* reexport safe */ _outputDeltas_ts__WEBPACK_IMPORTED_MODULE_1__.outputDeltas$),\n/* harmony export */   outputDeltasQuery: () => (/* reexport safe */ _outputDeltas_ts__WEBPACK_IMPORTED_MODULE_1__.outputDeltasQuery),\n/* harmony export */   runtimeSessions$: () => (/* binding */ runtimeSessions$)\n/* harmony export */ });\n/* harmony import */ var _tables_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tables.ts */ \"(rsc)/./src/schema/tables.ts\");\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/@livestore/livestore/dist/live-queries/db-query.js\");\n/* harmony import */ var _outputDeltas_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./outputDeltas.ts */ \"(rsc)/./src/schema/queries/outputDeltas.ts\");\n/* harmony import */ var _cellOrdering_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cellOrdering.ts */ \"(rsc)/./src/schema/queries/cellOrdering.ts\");\n\n\n\n\nconst cellIDs$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\").orderBy(\"fractionalIndex\", \"asc\"), {\n    label: \"notebook.cellIds\"\n});\n// Primary query for cell references - returns CellReference objects\nconst cellReferences$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"id\", \"fractionalIndex\", \"cellType\").orderBy(\"fractionalIndex\", \"asc\"), {\n    label: \"notebook.cellReferences\"\n});\n// @deprecated Use cellReferences$ instead\nconst cellList$ = cellReferences$;\n// Query for getting a specific cell's fractional index\nconst cellFractionalIndex = (cellId)=>(0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select(\"fractionalIndex\").where({\n        id: cellId\n    }).first({\n        fallback: ()=>null\n    }), {\n        deps: [\n            cellId\n        ],\n        label: `cell.fractionalIndex.${cellId}`\n    });\n// @deprecated Use cellReferences$ instead - this returns all cells anyway\nconst adjacentCells = (_cellId)=>cellReferences$;\nconst notebookMetadata$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.notebookMetadata.select(\"key\", \"value\"));\nconst cellQuery = {\n    byId: (cellId)=>(0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select().where({\n            id: cellId\n        }).first({\n            fallback: ()=>null\n        }), {\n            deps: [\n                cellId\n            ],\n            label: `cell.${cellId}`\n        }),\n    outputs: (cellId)=>(0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.outputs.select().where({\n            cellId\n        }).orderBy(\"position\", \"asc\"), {\n            deps: [\n                cellId\n            ],\n            label: `outputs:${cellId}`\n        }),\n    executionQueue: (cellId)=>(0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.executionQueue.select().where({\n            cellId\n        }).orderBy(\"id\", \"desc\"), {\n            deps: [\n                cellId\n            ],\n            label: `queue:${cellId}`\n        })\n};\nconst runtimeSessions$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.runtimeSessions.select().orderBy(\"sessionId\", \"desc\"), {\n    label: \"runtime.sessions\"\n});\n/**\n * Full cells query - returns complete cell data including source, metadata, etc.\n *\n *   PERFORMANCE WARNING: This loads ALL cell data at once.\n *\n * Use this only when you need:\n * - Full cell properties (source, executionCount, metadata, etc.)\n * - Operations that require all cells (like TUI navigation)\n *\n * For most use cases, prefer:\n * - `cellReferences$` for cell ordering/navigation with minimal data\n * - `cellQuery.byId(cellId)` for individual cell data\n */ const cells$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.cells.select().orderBy(\"fractionalIndex\", \"asc\"), {\n    label: \"notebook.cells\"\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2NoZW1hL3F1ZXJpZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ1M7QUFFYjtBQUNBO0FBRTNCLE1BQU1FLFdBQVdELDZEQUFPQSxDQUM3QkQsOENBQU1BLENBQUNHLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLE1BQU1DLE9BQU8sQ0FBQyxtQkFBbUIsUUFDckQ7SUFBRUMsT0FBTztBQUFtQixHQUM1QjtBQUVGLG9FQUFvRTtBQUM3RCxNQUFNQyxrQkFBa0JOLDZEQUFPQSxDQUNwQ0QsOENBQU1BLENBQUNHLEtBQUssQ0FDVEMsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLFlBQ2hDQyxPQUFPLENBQUMsbUJBQW1CLFFBQzlCO0lBQUVDLE9BQU87QUFBMEIsR0FDbkM7QUFFRiwwQ0FBMEM7QUFDbkMsTUFBTUUsWUFBWUQsZ0JBQWdCO0FBRXpDLHVEQUF1RDtBQUNoRCxNQUFNRSxzQkFBc0IsQ0FBQ0MsU0FDbENULDZEQUFPQSxDQUNMRCw4Q0FBTUEsQ0FBQ0csS0FBSyxDQUNUQyxNQUFNLENBQUMsbUJBQ1BPLEtBQUssQ0FBQztRQUFFQyxJQUFJRjtJQUFPLEdBQ25CRyxLQUFLLENBQUM7UUFDTEMsVUFBVSxJQUFNO0lBQ2xCLElBQ0Y7UUFDRUMsTUFBTTtZQUFDTDtTQUFPO1FBQ2RKLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRUksT0FBTyxDQUFDO0lBQ3pDLEdBQ0E7QUFFSiwwRUFBMEU7QUFDbkUsTUFBTU0sZ0JBQWdCLENBQUNDLFVBQW9CVixnQkFBZ0I7QUFFM0QsTUFBTVcsb0JBQW9CakIsNkRBQU9BLENBQ3RDRCw4Q0FBTUEsQ0FBQ21CLGdCQUFnQixDQUFDZixNQUFNLENBQUMsT0FBTyxVQUN0QztBQUVLLE1BQU1nQixZQUFZO0lBQ3ZCQyxNQUFNLENBQUNYLFNBQ0xULDZEQUFPQSxDQUNMRCw4Q0FBTUEsQ0FBQ0csS0FBSyxDQUNUQyxNQUFNLEdBQ05PLEtBQUssQ0FBQztZQUFFQyxJQUFJRjtRQUFPLEdBQ25CRyxLQUFLLENBQUM7WUFDTEMsVUFBVSxJQUFNO1FBQ2xCLElBQ0Y7WUFDRUMsTUFBTTtnQkFBQ0w7YUFBTztZQUNkSixPQUFPLENBQUMsS0FBSyxFQUFFSSxPQUFPLENBQUM7UUFDekI7SUFHSlksU0FBUyxDQUFDWixTQUNSVCw2REFBT0EsQ0FDTEQsOENBQU1BLENBQUNzQixPQUFPLENBQUNsQixNQUFNLEdBQUdPLEtBQUssQ0FBQztZQUFFRDtRQUFPLEdBQUdMLE9BQU8sQ0FBQyxZQUFZLFFBQzlEO1lBQUVVLE1BQU07Z0JBQUNMO2FBQU87WUFBRUosT0FBTyxDQUFDLFFBQVEsRUFBRUksT0FBTyxDQUFDO1FBQUM7SUFHakRhLGdCQUFnQixDQUFDYixTQUNmVCw2REFBT0EsQ0FDTEQsOENBQU1BLENBQUN1QixjQUFjLENBQUNuQixNQUFNLEdBQUdPLEtBQUssQ0FBQztZQUFFRDtRQUFPLEdBQUdMLE9BQU8sQ0FBQyxNQUFNLFNBQy9EO1lBQUVVLE1BQU07Z0JBQUNMO2FBQU87WUFBRUosT0FBTyxDQUFDLE1BQU0sRUFBRUksT0FBTyxDQUFDO1FBQUM7QUFFakQsRUFBRTtBQUVLLE1BQU1jLG1CQUFtQnZCLDZEQUFPQSxDQUNyQ0QsOENBQU1BLENBQUN5QixlQUFlLENBQUNyQixNQUFNLEdBQUdDLE9BQU8sQ0FBQyxhQUFhLFNBQ3JEO0lBQUVDLE9BQU87QUFBbUIsR0FDNUI7QUFFRjs7Ozs7Ozs7Ozs7O0NBWUMsR0FDTSxNQUFNb0IsU0FBU3pCLDZEQUFPQSxDQUMzQkQsOENBQU1BLENBQUNHLEtBQUssQ0FBQ0MsTUFBTSxHQUFHQyxPQUFPLENBQUMsbUJBQW1CLFFBQ2pEO0lBQUVDLE9BQU87QUFBaUIsR0FDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmFjb25kYS1hc3Nlc21lbnQtMS8uL3NyYy9zY2hlbWEvcXVlcmllcy9pbmRleC50cz9mNjE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRhYmxlcyB9IGZyb20gXCIuLi90YWJsZXMudHNcIjtcbmltcG9ydCB7IHF1ZXJ5RGIgfSBmcm9tIFwiQGxpdmVzdG9yZS9saXZlc3RvcmVcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vb3V0cHV0RGVsdGFzLnRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jZWxsT3JkZXJpbmcudHNcIjtcblxuZXhwb3J0IGNvbnN0IGNlbGxJRHMkID0gcXVlcnlEYihcbiAgdGFibGVzLmNlbGxzLnNlbGVjdChcImlkXCIpLm9yZGVyQnkoXCJmcmFjdGlvbmFsSW5kZXhcIiwgXCJhc2NcIiksXG4gIHsgbGFiZWw6IFwibm90ZWJvb2suY2VsbElkc1wiIH0sXG4pO1xuXG4vLyBQcmltYXJ5IHF1ZXJ5IGZvciBjZWxsIHJlZmVyZW5jZXMgLSByZXR1cm5zIENlbGxSZWZlcmVuY2Ugb2JqZWN0c1xuZXhwb3J0IGNvbnN0IGNlbGxSZWZlcmVuY2VzJCA9IHF1ZXJ5RGIoXG4gIHRhYmxlcy5jZWxsc1xuICAgIC5zZWxlY3QoXCJpZFwiLCBcImZyYWN0aW9uYWxJbmRleFwiLCBcImNlbGxUeXBlXCIpXG4gICAgLm9yZGVyQnkoXCJmcmFjdGlvbmFsSW5kZXhcIiwgXCJhc2NcIiksXG4gIHsgbGFiZWw6IFwibm90ZWJvb2suY2VsbFJlZmVyZW5jZXNcIiB9LFxuKTtcblxuLy8gQGRlcHJlY2F0ZWQgVXNlIGNlbGxSZWZlcmVuY2VzJCBpbnN0ZWFkXG5leHBvcnQgY29uc3QgY2VsbExpc3QkID0gY2VsbFJlZmVyZW5jZXMkO1xuXG4vLyBRdWVyeSBmb3IgZ2V0dGluZyBhIHNwZWNpZmljIGNlbGwncyBmcmFjdGlvbmFsIGluZGV4XG5leHBvcnQgY29uc3QgY2VsbEZyYWN0aW9uYWxJbmRleCA9IChjZWxsSWQ6IHN0cmluZykgPT5cbiAgcXVlcnlEYihcbiAgICB0YWJsZXMuY2VsbHNcbiAgICAgIC5zZWxlY3QoXCJmcmFjdGlvbmFsSW5kZXhcIilcbiAgICAgIC53aGVyZSh7IGlkOiBjZWxsSWQgfSlcbiAgICAgIC5maXJzdCh7XG4gICAgICAgIGZhbGxiYWNrOiAoKSA9PiBudWxsLFxuICAgICAgfSksXG4gICAge1xuICAgICAgZGVwczogW2NlbGxJZF0sXG4gICAgICBsYWJlbDogYGNlbGwuZnJhY3Rpb25hbEluZGV4LiR7Y2VsbElkfWAsXG4gICAgfSxcbiAgKTtcblxuLy8gQGRlcHJlY2F0ZWQgVXNlIGNlbGxSZWZlcmVuY2VzJCBpbnN0ZWFkIC0gdGhpcyByZXR1cm5zIGFsbCBjZWxscyBhbnl3YXlcbmV4cG9ydCBjb25zdCBhZGphY2VudENlbGxzID0gKF9jZWxsSWQ6IHN0cmluZykgPT4gY2VsbFJlZmVyZW5jZXMkO1xuXG5leHBvcnQgY29uc3Qgbm90ZWJvb2tNZXRhZGF0YSQgPSBxdWVyeURiKFxuICB0YWJsZXMubm90ZWJvb2tNZXRhZGF0YS5zZWxlY3QoXCJrZXlcIiwgXCJ2YWx1ZVwiKSxcbik7XG5cbmV4cG9ydCBjb25zdCBjZWxsUXVlcnkgPSB7XG4gIGJ5SWQ6IChjZWxsSWQ6IHN0cmluZykgPT5cbiAgICBxdWVyeURiKFxuICAgICAgdGFibGVzLmNlbGxzXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAud2hlcmUoeyBpZDogY2VsbElkIH0pXG4gICAgICAgIC5maXJzdCh7XG4gICAgICAgICAgZmFsbGJhY2s6ICgpID0+IG51bGwsXG4gICAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBkZXBzOiBbY2VsbElkXSxcbiAgICAgICAgbGFiZWw6IGBjZWxsLiR7Y2VsbElkfWAsXG4gICAgICB9LFxuICAgICksXG5cbiAgb3V0cHV0czogKGNlbGxJZDogc3RyaW5nKSA9PlxuICAgIHF1ZXJ5RGIoXG4gICAgICB0YWJsZXMub3V0cHV0cy5zZWxlY3QoKS53aGVyZSh7IGNlbGxJZCB9KS5vcmRlckJ5KFwicG9zaXRpb25cIiwgXCJhc2NcIiksXG4gICAgICB7IGRlcHM6IFtjZWxsSWRdLCBsYWJlbDogYG91dHB1dHM6JHtjZWxsSWR9YCB9LFxuICAgICksXG5cbiAgZXhlY3V0aW9uUXVldWU6IChjZWxsSWQ6IHN0cmluZykgPT5cbiAgICBxdWVyeURiKFxuICAgICAgdGFibGVzLmV4ZWN1dGlvblF1ZXVlLnNlbGVjdCgpLndoZXJlKHsgY2VsbElkIH0pLm9yZGVyQnkoXCJpZFwiLCBcImRlc2NcIiksXG4gICAgICB7IGRlcHM6IFtjZWxsSWRdLCBsYWJlbDogYHF1ZXVlOiR7Y2VsbElkfWAgfSxcbiAgICApLFxufTtcblxuZXhwb3J0IGNvbnN0IHJ1bnRpbWVTZXNzaW9ucyQgPSBxdWVyeURiKFxuICB0YWJsZXMucnVudGltZVNlc3Npb25zLnNlbGVjdCgpLm9yZGVyQnkoXCJzZXNzaW9uSWRcIiwgXCJkZXNjXCIpLFxuICB7IGxhYmVsOiBcInJ1bnRpbWUuc2Vzc2lvbnNcIiB9LFxuKTtcblxuLyoqXG4gKiBGdWxsIGNlbGxzIHF1ZXJ5IC0gcmV0dXJucyBjb21wbGV0ZSBjZWxsIGRhdGEgaW5jbHVkaW5nIHNvdXJjZSwgbWV0YWRhdGEsIGV0Yy5cbiAqXG4gKiDimqDvuI8gIFBFUkZPUk1BTkNFIFdBUk5JTkc6IFRoaXMgbG9hZHMgQUxMIGNlbGwgZGF0YSBhdCBvbmNlLlxuICpcbiAqIFVzZSB0aGlzIG9ubHkgd2hlbiB5b3UgbmVlZDpcbiAqIC0gRnVsbCBjZWxsIHByb3BlcnRpZXMgKHNvdXJjZSwgZXhlY3V0aW9uQ291bnQsIG1ldGFkYXRhLCBldGMuKVxuICogLSBPcGVyYXRpb25zIHRoYXQgcmVxdWlyZSBhbGwgY2VsbHMgKGxpa2UgVFVJIG5hdmlnYXRpb24pXG4gKlxuICogRm9yIG1vc3QgdXNlIGNhc2VzLCBwcmVmZXI6XG4gKiAtIGBjZWxsUmVmZXJlbmNlcyRgIGZvciBjZWxsIG9yZGVyaW5nL25hdmlnYXRpb24gd2l0aCBtaW5pbWFsIGRhdGFcbiAqIC0gYGNlbGxRdWVyeS5ieUlkKGNlbGxJZClgIGZvciBpbmRpdmlkdWFsIGNlbGwgZGF0YVxuICovXG5leHBvcnQgY29uc3QgY2VsbHMkID0gcXVlcnlEYihcbiAgdGFibGVzLmNlbGxzLnNlbGVjdCgpLm9yZGVyQnkoXCJmcmFjdGlvbmFsSW5kZXhcIiwgXCJhc2NcIiksXG4gIHsgbGFiZWw6IFwibm90ZWJvb2suY2VsbHNcIiB9LFxuKTtcbiJdLCJuYW1lcyI6WyJ0YWJsZXMiLCJxdWVyeURiIiwiY2VsbElEcyQiLCJjZWxscyIsInNlbGVjdCIsIm9yZGVyQnkiLCJsYWJlbCIsImNlbGxSZWZlcmVuY2VzJCIsImNlbGxMaXN0JCIsImNlbGxGcmFjdGlvbmFsSW5kZXgiLCJjZWxsSWQiLCJ3aGVyZSIsImlkIiwiZmlyc3QiLCJmYWxsYmFjayIsImRlcHMiLCJhZGphY2VudENlbGxzIiwiX2NlbGxJZCIsIm5vdGVib29rTWV0YWRhdGEkIiwibm90ZWJvb2tNZXRhZGF0YSIsImNlbGxRdWVyeSIsImJ5SWQiLCJvdXRwdXRzIiwiZXhlY3V0aW9uUXVldWUiLCJydW50aW1lU2Vzc2lvbnMkIiwicnVudGltZVNlc3Npb25zIiwiY2VsbHMkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/schema/queries/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/schema/queries/outputDeltas.ts":
/*!********************************************!*\
  !*** ./src/schema/queries/outputDeltas.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyDeltas: () => (/* binding */ applyDeltas),\n/* harmony export */   getFinalContent: () => (/* binding */ getFinalContent),\n/* harmony export */   outputDeltas$: () => (/* binding */ outputDeltas$),\n/* harmony export */   outputDeltasQuery: () => (/* binding */ outputDeltasQuery)\n/* harmony export */ });\n/* harmony import */ var _tables_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tables.ts */ \"(rsc)/./src/schema/tables.ts\");\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/@livestore/livestore/dist/live-queries/db-query.js\");\n\n\n/**\n * Query deltas for a given output ID, sorted by sequence number\n */ const outputDeltasQuery = (outputId)=>(0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.outputDeltas.select().where({\n        outputId\n    }).orderBy(\"sequenceNumber\", \"asc\"), {\n        deps: [\n            outputId\n        ],\n        label: \"outputDeltas\"\n    });\n/**\n * Apply deltas to original content in sequence order\n */ const applyDeltas = (originalContent, deltas)=>{\n    if (deltas.length === 0) {\n        return originalContent;\n    }\n    return deltas.reduce((acc, delta)=>{\n        return acc + delta.delta;\n    }, originalContent);\n};\n/**\n * Get final content with deltas applied\n */ const getFinalContent = (originalContent, deltas)=>{\n    const hasDeltas = deltas.length > 0;\n    const content = applyDeltas(originalContent, deltas);\n    return {\n        content,\n        hasDeltas,\n        deltaCount: deltas.length\n    };\n};\n/**\n * Query all output deltas, sorted by sequence number\n */ const outputDeltas$ = (0,_livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.queryDb)(_tables_ts__WEBPACK_IMPORTED_MODULE_0__.tables.outputDeltas.select().orderBy(\"sequenceNumber\", \"asc\"), {\n    label: \"notebook.outputDeltas\"\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2NoZW1hL3F1ZXJpZXMvb3V0cHV0RGVsdGFzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzQztBQUNTO0FBUy9DOztDQUVDLEdBQ00sTUFBTUUsb0JBQW9CLENBQUNDLFdBQ2hDRiw2REFBT0EsQ0FDTEQsOENBQU1BLENBQUNJLFlBQVksQ0FDaEJDLE1BQU0sR0FDTkMsS0FBSyxDQUFDO1FBQUVIO0lBQVMsR0FDakJJLE9BQU8sQ0FBQyxrQkFBa0IsUUFDN0I7UUFBRUMsTUFBTTtZQUFDTDtTQUFTO1FBQUVNLE9BQU87SUFBZSxHQUMxQztBQUVKOztDQUVDLEdBQ00sTUFBTUMsY0FBYyxDQUN6QkMsaUJBQ0FDO0lBRUEsSUFBSUEsT0FBT0MsTUFBTSxLQUFLLEdBQUc7UUFDdkIsT0FBT0Y7SUFDVDtJQUVBLE9BQU9DLE9BQU9FLE1BQU0sQ0FBQyxDQUFDQyxLQUFLQztRQUN6QixPQUFPRCxNQUFNQyxNQUFNQSxLQUFLO0lBQzFCLEdBQUdMO0FBQ0wsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTU0sa0JBQWtCLENBQzdCTixpQkFDQUM7SUFFQSxNQUFNTSxZQUFZTixPQUFPQyxNQUFNLEdBQUc7SUFDbEMsTUFBTU0sVUFBVVQsWUFBWUMsaUJBQWlCQztJQUU3QyxPQUFPO1FBQ0xPO1FBQ0FEO1FBQ0FFLFlBQVlSLE9BQU9DLE1BQU07SUFDM0I7QUFDRixFQUFFO0FBRUY7O0NBRUMsR0FDTSxNQUFNUSxnQkFBZ0JwQiw2REFBT0EsQ0FDbENELDhDQUFNQSxDQUFDSSxZQUFZLENBQUNDLE1BQU0sR0FBR0UsT0FBTyxDQUFDLGtCQUFrQixRQUN2RDtJQUFFRSxPQUFPO0FBQXdCLEdBQ2pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5hY29uZGEtYXNzZXNtZW50LTEvLi9zcmMvc2NoZW1hL3F1ZXJpZXMvb3V0cHV0RGVsdGFzLnRzP2EwOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGFibGVzIH0gZnJvbSBcIi4uL3RhYmxlcy50c1wiO1xuaW1wb3J0IHsgcXVlcnlEYiB9IGZyb20gXCJAbGl2ZXN0b3JlL2xpdmVzdG9yZVwiO1xuXG5pbnRlcmZhY2UgT3V0cHV0RGVsdGEge1xuICBpZDogc3RyaW5nO1xuICBvdXRwdXRJZDogc3RyaW5nO1xuICBkZWx0YTogc3RyaW5nO1xuICBzZXF1ZW5jZU51bWJlcjogbnVtYmVyO1xufVxuXG4vKipcbiAqIFF1ZXJ5IGRlbHRhcyBmb3IgYSBnaXZlbiBvdXRwdXQgSUQsIHNvcnRlZCBieSBzZXF1ZW5jZSBudW1iZXJcbiAqL1xuZXhwb3J0IGNvbnN0IG91dHB1dERlbHRhc1F1ZXJ5ID0gKG91dHB1dElkOiBzdHJpbmcpID0+XG4gIHF1ZXJ5RGIoXG4gICAgdGFibGVzLm91dHB1dERlbHRhc1xuICAgICAgLnNlbGVjdCgpXG4gICAgICAud2hlcmUoeyBvdXRwdXRJZCB9KVxuICAgICAgLm9yZGVyQnkoXCJzZXF1ZW5jZU51bWJlclwiLCBcImFzY1wiKSxcbiAgICB7IGRlcHM6IFtvdXRwdXRJZF0sIGxhYmVsOiBcIm91dHB1dERlbHRhc1wiIH0sXG4gICk7XG5cbi8qKlxuICogQXBwbHkgZGVsdGFzIHRvIG9yaWdpbmFsIGNvbnRlbnQgaW4gc2VxdWVuY2Ugb3JkZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGFwcGx5RGVsdGFzID0gKFxuICBvcmlnaW5hbENvbnRlbnQ6IHN0cmluZyxcbiAgZGVsdGFzOiByZWFkb25seSBPdXRwdXREZWx0YVtdLFxuKTogc3RyaW5nID0+IHtcbiAgaWYgKGRlbHRhcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb3JpZ2luYWxDb250ZW50O1xuICB9XG5cbiAgcmV0dXJuIGRlbHRhcy5yZWR1Y2UoKGFjYywgZGVsdGEpID0+IHtcbiAgICByZXR1cm4gYWNjICsgZGVsdGEuZGVsdGE7XG4gIH0sIG9yaWdpbmFsQ29udGVudCk7XG59O1xuXG4vKipcbiAqIEdldCBmaW5hbCBjb250ZW50IHdpdGggZGVsdGFzIGFwcGxpZWRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEZpbmFsQ29udGVudCA9IChcbiAgb3JpZ2luYWxDb250ZW50OiBzdHJpbmcsXG4gIGRlbHRhczogcmVhZG9ubHkgT3V0cHV0RGVsdGFbXSxcbik6IHsgY29udGVudDogc3RyaW5nOyBoYXNEZWx0YXM6IGJvb2xlYW47IGRlbHRhQ291bnQ6IG51bWJlciB9ID0+IHtcbiAgY29uc3QgaGFzRGVsdGFzID0gZGVsdGFzLmxlbmd0aCA+IDA7XG4gIGNvbnN0IGNvbnRlbnQgPSBhcHBseURlbHRhcyhvcmlnaW5hbENvbnRlbnQsIGRlbHRhcyk7XG5cbiAgcmV0dXJuIHtcbiAgICBjb250ZW50LFxuICAgIGhhc0RlbHRhcyxcbiAgICBkZWx0YUNvdW50OiBkZWx0YXMubGVuZ3RoLFxuICB9O1xufTtcblxuLyoqXG4gKiBRdWVyeSBhbGwgb3V0cHV0IGRlbHRhcywgc29ydGVkIGJ5IHNlcXVlbmNlIG51bWJlclxuICovXG5leHBvcnQgY29uc3Qgb3V0cHV0RGVsdGFzJCA9IHF1ZXJ5RGIoXG4gIHRhYmxlcy5vdXRwdXREZWx0YXMuc2VsZWN0KCkub3JkZXJCeShcInNlcXVlbmNlTnVtYmVyXCIsIFwiYXNjXCIpLFxuICB7IGxhYmVsOiBcIm5vdGVib29rLm91dHB1dERlbHRhc1wiIH0sXG4pO1xuIl0sIm5hbWVzIjpbInRhYmxlcyIsInF1ZXJ5RGIiLCJvdXRwdXREZWx0YXNRdWVyeSIsIm91dHB1dElkIiwib3V0cHV0RGVsdGFzIiwic2VsZWN0Iiwid2hlcmUiLCJvcmRlckJ5IiwiZGVwcyIsImxhYmVsIiwiYXBwbHlEZWx0YXMiLCJvcmlnaW5hbENvbnRlbnQiLCJkZWx0YXMiLCJsZW5ndGgiLCJyZWR1Y2UiLCJhY2MiLCJkZWx0YSIsImdldEZpbmFsQ29udGVudCIsImhhc0RlbHRhcyIsImNvbnRlbnQiLCJkZWx0YUNvdW50Iiwib3V0cHV0RGVsdGFzJCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/schema/queries/outputDeltas.ts\n");

/***/ }),

/***/ "(rsc)/./src/schema/tables.ts":
/*!******************************!*\
  !*** ./src/schema/tables.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   tables: () => (/* binding */ tables)\n/* harmony export */ });\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/@livestore/common/dist/schema/state/sqlite/table-def.js\");\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/effect/dist/esm/Schema.js\");\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/@livestore/common/dist/schema/state/sqlite/client-document-def.js\");\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/@livestore/common/dist/adapter-types.js\");\n/* harmony import */ var _types_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.ts */ \"(rsc)/./src/schema/types.ts\");\n\n\nconst tables = {\n    debug: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"debug\",\n        columns: {\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            // Update column name or value to test schema changes\n            version: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                default: \"1\"\n            })\n        }\n    }),\n    presence: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"presence\",\n        columns: {\n            userId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            })\n        }\n    }),\n    // Notebook metadata (key-value pairs per store)\n    notebookMetadata: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"notebookMetadata\",\n        columns: {\n            key: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            value: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text()\n        }\n    }),\n    cells: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"cells\",\n        columns: {\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            cellType: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                schema: _types_ts__WEBPACK_IMPORTED_MODULE_0__.CellTypeSchema\n            }),\n            source: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                default: \"\"\n            }),\n            fractionalIndex: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            // Execution state\n            executionCount: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.integer({\n                nullable: true\n            }),\n            executionState: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                default: \"idle\",\n                schema: _types_ts__WEBPACK_IMPORTED_MODULE_0__.ExecutionStateSchema\n            }),\n            assignedRuntimeSession: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            lastExecutionDurationMs: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.integer({\n                nullable: true\n            }),\n            // SQL-specific fields\n            sqlConnectionId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            sqlResultVariable: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            // AI-specific fields\n            aiProvider: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            aiModel: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            aiSettings: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.json({\n                nullable: true,\n                schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.Any\n            }),\n            // Display visibility controls\n            sourceVisible: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.boolean({\n                default: true\n            }),\n            outputVisible: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.boolean({\n                default: true\n            }),\n            aiContextVisible: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.boolean({\n                default: true\n            }),\n            createdBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text()\n        }\n    }),\n    outputDeltas: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"output_deltas\",\n        columns: {\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            outputId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text(),\n            delta: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                default: \"\"\n            }),\n            sequenceNumber: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.integer()\n        }\n    }),\n    outputs: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"outputs\",\n        columns: {\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text(),\n            outputType: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                schema: _types_ts__WEBPACK_IMPORTED_MODULE_0__.OutputTypeSchema\n            }),\n            position: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.real(),\n            // Type-specific fields\n            streamName: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            executionCount: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.integer({\n                nullable: true\n            }),\n            displayId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            // Flattened content for SQL operations\n            data: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            artifactId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            mimeType: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            metadata: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.json({\n                nullable: true,\n                schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.Any\n            }),\n            // Multi-media support\n            representations: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.json({\n                nullable: true,\n                schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.Record({\n                    key: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.String,\n                    value: _types_ts__WEBPACK_IMPORTED_MODULE_0__.MediaRepresentationSchema\n                })\n            })\n        }\n    }),\n    // Pending clears table for clear_output(wait=True) support\n    pendingClears: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"pendingClears\",\n        columns: {\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            clearedBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text()\n        }\n    }),\n    // Runtime lifecycle management\n    // NOTE: Each notebook should have exactly ONE active runtime at a time\n    // Multiple entries only exist during runtime transitions/handoffs\n    runtimeSessions: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"runtimeSessions\",\n        columns: {\n            sessionId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            runtimeId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text(),\n            runtimeType: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                default: \"python3\"\n            }),\n            status: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                schema: _types_ts__WEBPACK_IMPORTED_MODULE_0__.RuntimeStatusSchema\n            }),\n            isActive: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.boolean({\n                default: true\n            }),\n            // Capability flags\n            canExecuteCode: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.boolean({\n                default: false\n            }),\n            canExecuteSql: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.boolean({\n                default: false\n            }),\n            canExecuteAi: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.boolean({\n                default: false\n            }),\n            availableAiModels: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.json({\n                nullable: true,\n                schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.Any\n            })\n        }\n    }),\n    // Execution queue - tracks work that needs to be done\n    executionQueue: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"executionQueue\",\n        columns: {\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text(),\n            executionCount: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.integer(),\n            requestedBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text(),\n            // Queue management\n            status: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                default: \"pending\",\n                schema: _types_ts__WEBPACK_IMPORTED_MODULE_0__.QueueStatusSchema\n            }),\n            assignedRuntimeSession: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            // Execution timing\n            startedAt: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.datetime({\n                nullable: true\n            }),\n            completedAt: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.datetime({\n                nullable: true\n            }),\n            executionDurationMs: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.integer({\n                nullable: true\n            })\n        }\n    }),\n    // UI state for each user\n    uiState: _livestore_livestore__WEBPACK_IMPORTED_MODULE_3__.clientDocument({\n        name: \"uiState\",\n        schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.Struct({\n            selectedCellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.String),\n            editingCellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.String),\n            runtimeStatus: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.String)\n        }),\n        default: {\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_4__.SessionIdSymbol,\n            value: {}\n        }\n    }),\n    // Actors table for tracking who/what performs actions\n    actors: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"actors\",\n        columns: {\n            id: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            type: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text(),\n            displayName: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text(),\n            avatar: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            })\n        }\n    }),\n    // Tool approvals for AI tool calls\n    toolApprovals: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.table({\n        name: \"toolApprovals\",\n        columns: {\n            toolCallId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                primaryKey: true\n            }),\n            cellId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text(),\n            toolName: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text(),\n            status: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                schema: _livestore_livestore__WEBPACK_IMPORTED_MODULE_2__.Literal(\"pending\", \"approved_once\", \"approved_always\", \"denied\")\n            }),\n            approvedBy: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.text({\n                nullable: true\n            }),\n            requestedAt: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.datetime(),\n            respondedAt: _livestore_livestore__WEBPACK_IMPORTED_MODULE_1__.datetime({\n                nullable: true\n            })\n        }\n    })\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2NoZW1hL3RhYmxlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0U7QUFTbEQ7QUFFYixNQUFNUyxTQUFTO0lBQ3BCQyxPQUFPUix1REFBa0IsQ0FBQztRQUN4QlcsTUFBTTtRQUNOQyxTQUFTO1lBQ1BDLElBQUliLHNEQUFpQixDQUFDO2dCQUFFZSxZQUFZO1lBQUs7WUFDekMscURBQXFEO1lBQ3JEQyxTQUFTaEIsc0RBQWlCLENBQUM7Z0JBQUVpQixTQUFTO1lBQUk7UUFDNUM7SUFDRjtJQUVBQyxVQUFVbEIsdURBQWtCLENBQUM7UUFDM0JXLE1BQU07UUFDTkMsU0FBUztZQUNQTyxRQUFRbkIsc0RBQWlCLENBQUM7Z0JBQUVlLFlBQVk7WUFBSztZQUM3Q0ssUUFBUXBCLHNEQUFpQixDQUFDO2dCQUFFcUIsVUFBVTtZQUFLO1FBQzdDO0lBQ0Y7SUFFQSxnREFBZ0Q7SUFDaERDLGtCQUFrQnRCLHVEQUFrQixDQUFDO1FBQ25DVyxNQUFNO1FBQ05DLFNBQVM7WUFDUFcsS0FBS3ZCLHNEQUFpQixDQUFDO2dCQUFFZSxZQUFZO1lBQUs7WUFDMUNTLE9BQU94QixzREFBaUI7UUFDMUI7SUFDRjtJQUVBeUIsT0FBT3pCLHVEQUFrQixDQUFDO1FBQ3hCVyxNQUFNO1FBQ05DLFNBQVM7WUFDUEMsSUFBSWIsc0RBQWlCLENBQUM7Z0JBQUVlLFlBQVk7WUFBSztZQUN6Q1csVUFBVTFCLHNEQUFpQixDQUFDO2dCQUMxQjJCLFFBQVExQixxREFBY0E7WUFDeEI7WUFDQTJCLFFBQVE1QixzREFBaUIsQ0FBQztnQkFBRWlCLFNBQVM7WUFBRztZQUN4Q1ksaUJBQWlCN0Isc0RBQWlCLENBQUM7Z0JBQUVxQixVQUFVO1lBQUs7WUFFcEQsa0JBQWtCO1lBQ2xCUyxnQkFBZ0I5Qix5REFBb0IsQ0FBQztnQkFBRXFCLFVBQVU7WUFBSztZQUN0RFcsZ0JBQWdCaEMsc0RBQWlCLENBQUM7Z0JBQ2hDaUIsU0FBUztnQkFDVFUsUUFBUXpCLDJEQUFvQkE7WUFDOUI7WUFDQStCLHdCQUF3QmpDLHNEQUFpQixDQUFDO2dCQUFFcUIsVUFBVTtZQUFLO1lBQzNEYSx5QkFBeUJsQyx5REFBb0IsQ0FBQztnQkFBRXFCLFVBQVU7WUFBSztZQUUvRCxzQkFBc0I7WUFDdEJjLGlCQUFpQm5DLHNEQUFpQixDQUFDO2dCQUFFcUIsVUFBVTtZQUFLO1lBQ3BEZSxtQkFBbUJwQyxzREFBaUIsQ0FBQztnQkFBRXFCLFVBQVU7WUFBSztZQUV0RCxxQkFBcUI7WUFDckJnQixZQUFZckMsc0RBQWlCLENBQUM7Z0JBQUVxQixVQUFVO1lBQUs7WUFDL0NpQixTQUFTdEMsc0RBQWlCLENBQUM7Z0JBQUVxQixVQUFVO1lBQUs7WUFDNUNrQixZQUFZdkMsc0RBQWlCLENBQUM7Z0JBQUVxQixVQUFVO2dCQUFNTSxRQUFRN0IscURBQVU7WUFBQztZQUVuRSw4QkFBOEI7WUFDOUI0QyxlQUFlMUMseURBQW9CLENBQUM7Z0JBQUVpQixTQUFTO1lBQUs7WUFDcEQyQixlQUFlNUMseURBQW9CLENBQUM7Z0JBQUVpQixTQUFTO1lBQUs7WUFDcEQ0QixrQkFBa0I3Qyx5REFBb0IsQ0FBQztnQkFBRWlCLFNBQVM7WUFBSztZQUV2RDZCLFdBQVc5QyxzREFBaUI7UUFDOUI7SUFDRjtJQUVBK0MsY0FBYy9DLHVEQUFrQixDQUFDO1FBQy9CVyxNQUFNO1FBQ05DLFNBQVM7WUFDUEMsSUFBSWIsc0RBQWlCLENBQUM7Z0JBQUVlLFlBQVk7WUFBSztZQUN6Q2lDLFVBQVVoRCxzREFBaUI7WUFDM0JpRCxPQUFPakQsc0RBQWlCLENBQUM7Z0JBQUVpQixTQUFTO1lBQUc7WUFDdkNpQyxnQkFBZ0JsRCx5REFBb0I7UUFDdEM7SUFDRjtJQUVBbUQsU0FBU25ELHVEQUFrQixDQUFDO1FBQzFCVyxNQUFNO1FBQ05DLFNBQVM7WUFDUEMsSUFBSWIsc0RBQWlCLENBQUM7Z0JBQUVlLFlBQVk7WUFBSztZQUN6Q0ssUUFBUXBCLHNEQUFpQjtZQUN6Qm9ELFlBQVlwRCxzREFBaUIsQ0FBQztnQkFDNUIyQixRQUFRdkIsdURBQWdCQTtZQUMxQjtZQUNBaUQsVUFBVXJELHNEQUFpQjtZQUUzQix1QkFBdUI7WUFDdkJ1RCxZQUFZdkQsc0RBQWlCLENBQUM7Z0JBQUVxQixVQUFVO1lBQUs7WUFDL0NTLGdCQUFnQjlCLHlEQUFvQixDQUFDO2dCQUFFcUIsVUFBVTtZQUFLO1lBQ3REbUMsV0FBV3hELHNEQUFpQixDQUFDO2dCQUFFcUIsVUFBVTtZQUFLO1lBRTlDLHVDQUF1QztZQUN2Q29DLE1BQU16RCxzREFBaUIsQ0FBQztnQkFBRXFCLFVBQVU7WUFBSztZQUN6Q3FDLFlBQVkxRCxzREFBaUIsQ0FBQztnQkFBRXFCLFVBQVU7WUFBSztZQUMvQ3NDLFVBQVUzRCxzREFBaUIsQ0FBQztnQkFBRXFCLFVBQVU7WUFBSztZQUM3Q3VDLFVBQVU1RCxzREFBaUIsQ0FBQztnQkFBRXFCLFVBQVU7Z0JBQU1NLFFBQVE3QixxREFBVTtZQUFDO1lBRWpFLHNCQUFzQjtZQUN0QitELGlCQUFpQjdELHNEQUFpQixDQUFDO2dCQUNqQ3FCLFVBQVU7Z0JBQ1ZNLFFBQVE3Qix3REFBYSxDQUFDO29CQUNwQnlCLEtBQUt6Qix3REFBYTtvQkFDbEIwQixPQUFPckIsZ0VBQXlCQTtnQkFDbEM7WUFDRjtRQUNGO0lBQ0Y7SUFFQSwyREFBMkQ7SUFDM0Q2RCxlQUFlaEUsdURBQWtCLENBQUM7UUFDaENXLE1BQU07UUFDTkMsU0FBUztZQUNQUSxRQUFRcEIsc0RBQWlCLENBQUM7Z0JBQUVlLFlBQVk7WUFBSztZQUM3Q2tELFdBQVdqRSxzREFBaUI7UUFDOUI7SUFDRjtJQUVBLCtCQUErQjtJQUMvQix1RUFBdUU7SUFDdkUsa0VBQWtFO0lBQ2xFa0UsaUJBQWlCbEUsdURBQWtCLENBQUM7UUFDbENXLE1BQU07UUFDTkMsU0FBUztZQUNQdUQsV0FBV25FLHNEQUFpQixDQUFDO2dCQUFFZSxZQUFZO1lBQUs7WUFDaERxRCxXQUFXcEUsc0RBQWlCO1lBQzVCcUUsYUFBYXJFLHNEQUFpQixDQUFDO2dCQUFFaUIsU0FBUztZQUFVO1lBQ3BEcUQsUUFBUXRFLHNEQUFpQixDQUFDO2dCQUN4QjJCLFFBQVFyQiwwREFBbUJBO1lBQzdCO1lBQ0FpRSxVQUFVdkUseURBQW9CLENBQUM7Z0JBQUVpQixTQUFTO1lBQUs7WUFFL0MsbUJBQW1CO1lBQ25CdUQsZ0JBQWdCeEUseURBQW9CLENBQUM7Z0JBQUVpQixTQUFTO1lBQU07WUFDdER3RCxlQUFlekUseURBQW9CLENBQUM7Z0JBQUVpQixTQUFTO1lBQU07WUFDckR5RCxjQUFjMUUseURBQW9CLENBQUM7Z0JBQUVpQixTQUFTO1lBQU07WUFDcEQwRCxtQkFBbUIzRSxzREFBaUIsQ0FBQztnQkFDbkNxQixVQUFVO2dCQUNWTSxRQUFRN0IscURBQVU7WUFDcEI7UUFDRjtJQUNGO0lBRUEsc0RBQXNEO0lBQ3REOEUsZ0JBQWdCNUUsdURBQWtCLENBQUM7UUFDakNXLE1BQU07UUFDTkMsU0FBUztZQUNQQyxJQUFJYixzREFBaUIsQ0FBQztnQkFBRWUsWUFBWTtZQUFLO1lBQ3pDSyxRQUFRcEIsc0RBQWlCO1lBQ3pCOEIsZ0JBQWdCOUIseURBQW9CO1lBQ3BDNkUsYUFBYTdFLHNEQUFpQjtZQUU5QixtQkFBbUI7WUFDbkJzRSxRQUFRdEUsc0RBQWlCLENBQUM7Z0JBQ3hCaUIsU0FBUztnQkFDVFUsUUFBUXRCLHdEQUFpQkE7WUFDM0I7WUFDQTRCLHdCQUF3QmpDLHNEQUFpQixDQUFDO2dCQUFFcUIsVUFBVTtZQUFLO1lBRTNELG1CQUFtQjtZQUNuQnlELFdBQVc5RSwwREFBcUIsQ0FBQztnQkFBRXFCLFVBQVU7WUFBSztZQUNsRDJELGFBQWFoRiwwREFBcUIsQ0FBQztnQkFBRXFCLFVBQVU7WUFBSztZQUNwRDRELHFCQUFxQmpGLHlEQUFvQixDQUFDO2dCQUFFcUIsVUFBVTtZQUFLO1FBQzdEO0lBQ0Y7SUFFQSx5QkFBeUI7SUFDekI2RCxTQUFTbEYsZ0VBQTJCLENBQUM7UUFDbkNXLE1BQU07UUFDTmdCLFFBQVE3Qix3REFBYSxDQUFDO1lBQ3BCdUYsZ0JBQWdCdkYsMERBQWUsQ0FBQ0Esd0RBQWE7WUFDN0N5RixlQUFlekYsMERBQWUsQ0FBQ0Esd0RBQWE7WUFDNUMwRixlQUFlMUYsMERBQWUsQ0FBQ0Esd0RBQWE7UUFDOUM7UUFDQW1CLFNBQVM7WUFDUEosSUFBSWQsaUVBQWVBO1lBQ25CeUIsT0FBTyxDQUFDO1FBQ1Y7SUFDRjtJQUVBLHNEQUFzRDtJQUN0RGlFLFFBQVF6Rix1REFBa0IsQ0FBQztRQUN6QlcsTUFBTTtRQUNOQyxTQUFTO1lBQ1BDLElBQUliLHNEQUFpQixDQUFDO2dCQUFFZSxZQUFZO1lBQUs7WUFDekMyRSxNQUFNMUYsc0RBQWlCO1lBQ3ZCMkYsYUFBYTNGLHNEQUFpQjtZQUM5QjRGLFFBQVE1RixzREFBaUIsQ0FBQztnQkFBRXFCLFVBQVU7WUFBSztRQUM3QztJQUNGO0lBRUEsbUNBQW1DO0lBQ25Dd0UsZUFBZTdGLHVEQUFrQixDQUFDO1FBQ2hDVyxNQUFNO1FBQ05DLFNBQVM7WUFDUGtGLFlBQVk5RixzREFBaUIsQ0FBQztnQkFBRWUsWUFBWTtZQUFLO1lBQ2pESyxRQUFRcEIsc0RBQWlCO1lBQ3pCK0YsVUFBVS9GLHNEQUFpQjtZQUMzQnNFLFFBQVF0RSxzREFBaUIsQ0FBQztnQkFDeEIyQixRQUFRN0IseURBQWMsQ0FDcEIsV0FDQSxpQkFDQSxtQkFDQTtZQUVKO1lBQ0FtRyxZQUFZakcsc0RBQWlCLENBQUM7Z0JBQUVxQixVQUFVO1lBQUs7WUFDL0M2RSxhQUFhbEcsMERBQXFCO1lBQ2xDbUcsYUFBYW5HLDBEQUFxQixDQUFDO2dCQUFFcUIsVUFBVTtZQUFLO1FBQ3REO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5hY29uZGEtYXNzZXNtZW50LTEvLi9zcmMvc2NoZW1hL3RhYmxlcy50cz9jNzlmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSwgU2Vzc2lvbklkU3ltYm9sLCBTdGF0ZSB9IGZyb20gXCJAbGl2ZXN0b3JlL2xpdmVzdG9yZVwiO1xuXG5pbXBvcnQge1xuICBDZWxsVHlwZVNjaGVtYSxcbiAgRXhlY3V0aW9uU3RhdGVTY2hlbWEsXG4gIE1lZGlhUmVwcmVzZW50YXRpb25TY2hlbWEsXG4gIE91dHB1dFR5cGVTY2hlbWEsXG4gIFF1ZXVlU3RhdHVzU2NoZW1hLFxuICBSdW50aW1lU3RhdHVzU2NoZW1hLFxufSBmcm9tIFwiLi90eXBlcy50c1wiO1xuXG5leHBvcnQgY29uc3QgdGFibGVzID0ge1xuICBkZWJ1ZzogU3RhdGUuU1FMaXRlLnRhYmxlKHtcbiAgICBuYW1lOiBcImRlYnVnXCIsXG4gICAgY29sdW1uczoge1xuICAgICAgaWQ6IFN0YXRlLlNRTGl0ZS50ZXh0KHsgcHJpbWFyeUtleTogdHJ1ZSB9KSxcbiAgICAgIC8vIFVwZGF0ZSBjb2x1bW4gbmFtZSBvciB2YWx1ZSB0byB0ZXN0IHNjaGVtYSBjaGFuZ2VzXG4gICAgICB2ZXJzaW9uOiBTdGF0ZS5TUUxpdGUudGV4dCh7IGRlZmF1bHQ6IFwiMVwiIH0pLFxuICAgIH0sXG4gIH0pLFxuXG4gIHByZXNlbmNlOiBTdGF0ZS5TUUxpdGUudGFibGUoe1xuICAgIG5hbWU6IFwicHJlc2VuY2VcIixcbiAgICBjb2x1bW5zOiB7XG4gICAgICB1c2VySWQ6IFN0YXRlLlNRTGl0ZS50ZXh0KHsgcHJpbWFyeUtleTogdHJ1ZSB9KSxcbiAgICAgIGNlbGxJZDogU3RhdGUuU1FMaXRlLnRleHQoeyBudWxsYWJsZTogdHJ1ZSB9KSxcbiAgICB9LFxuICB9KSxcblxuICAvLyBOb3RlYm9vayBtZXRhZGF0YSAoa2V5LXZhbHVlIHBhaXJzIHBlciBzdG9yZSlcbiAgbm90ZWJvb2tNZXRhZGF0YTogU3RhdGUuU1FMaXRlLnRhYmxlKHtcbiAgICBuYW1lOiBcIm5vdGVib29rTWV0YWRhdGFcIixcbiAgICBjb2x1bW5zOiB7XG4gICAgICBrZXk6IFN0YXRlLlNRTGl0ZS50ZXh0KHsgcHJpbWFyeUtleTogdHJ1ZSB9KSxcbiAgICAgIHZhbHVlOiBTdGF0ZS5TUUxpdGUudGV4dCgpLFxuICAgIH0sXG4gIH0pLFxuXG4gIGNlbGxzOiBTdGF0ZS5TUUxpdGUudGFibGUoe1xuICAgIG5hbWU6IFwiY2VsbHNcIixcbiAgICBjb2x1bW5zOiB7XG4gICAgICBpZDogU3RhdGUuU1FMaXRlLnRleHQoeyBwcmltYXJ5S2V5OiB0cnVlIH0pLFxuICAgICAgY2VsbFR5cGU6IFN0YXRlLlNRTGl0ZS50ZXh0KHtcbiAgICAgICAgc2NoZW1hOiBDZWxsVHlwZVNjaGVtYSxcbiAgICAgIH0pLFxuICAgICAgc291cmNlOiBTdGF0ZS5TUUxpdGUudGV4dCh7IGRlZmF1bHQ6IFwiXCIgfSksXG4gICAgICBmcmFjdGlvbmFsSW5kZXg6IFN0YXRlLlNRTGl0ZS50ZXh0KHsgbnVsbGFibGU6IHRydWUgfSksIC8vIEZyYWN0aW9uYWwgaW5kZXggZm9yIGRldGVybWluaXN0aWMgb3JkZXJpbmdcblxuICAgICAgLy8gRXhlY3V0aW9uIHN0YXRlXG4gICAgICBleGVjdXRpb25Db3VudDogU3RhdGUuU1FMaXRlLmludGVnZXIoeyBudWxsYWJsZTogdHJ1ZSB9KSxcbiAgICAgIGV4ZWN1dGlvblN0YXRlOiBTdGF0ZS5TUUxpdGUudGV4dCh7XG4gICAgICAgIGRlZmF1bHQ6IFwiaWRsZVwiLFxuICAgICAgICBzY2hlbWE6IEV4ZWN1dGlvblN0YXRlU2NoZW1hLFxuICAgICAgfSksXG4gICAgICBhc3NpZ25lZFJ1bnRpbWVTZXNzaW9uOiBTdGF0ZS5TUUxpdGUudGV4dCh7IG51bGxhYmxlOiB0cnVlIH0pLCAvLyBXaGljaCBydW50aW1lIHNlc3Npb24gaXMgaGFuZGxpbmcgdGhpc1xuICAgICAgbGFzdEV4ZWN1dGlvbkR1cmF0aW9uTXM6IFN0YXRlLlNRTGl0ZS5pbnRlZ2VyKHsgbnVsbGFibGU6IHRydWUgfSksIC8vIER1cmF0aW9uIG9mIGxhc3QgZXhlY3V0aW9uIGluIG1pbGxpc2Vjb25kc1xuXG4gICAgICAvLyBTUUwtc3BlY2lmaWMgZmllbGRzXG4gICAgICBzcWxDb25uZWN0aW9uSWQ6IFN0YXRlLlNRTGl0ZS50ZXh0KHsgbnVsbGFibGU6IHRydWUgfSksXG4gICAgICBzcWxSZXN1bHRWYXJpYWJsZTogU3RhdGUuU1FMaXRlLnRleHQoeyBudWxsYWJsZTogdHJ1ZSB9KSxcblxuICAgICAgLy8gQUktc3BlY2lmaWMgZmllbGRzXG4gICAgICBhaVByb3ZpZGVyOiBTdGF0ZS5TUUxpdGUudGV4dCh7IG51bGxhYmxlOiB0cnVlIH0pLCAvLyAnb3BlbmFpJywgJ2FudGhyb3BpYycsICdsb2NhbCdcbiAgICAgIGFpTW9kZWw6IFN0YXRlLlNRTGl0ZS50ZXh0KHsgbnVsbGFibGU6IHRydWUgfSksXG4gICAgICBhaVNldHRpbmdzOiBTdGF0ZS5TUUxpdGUuanNvbih7IG51bGxhYmxlOiB0cnVlLCBzY2hlbWE6IFNjaGVtYS5BbnkgfSksIC8vIHRlbXBlcmF0dXJlLCBtYXhfdG9rZW5zLCBldGMuXG5cbiAgICAgIC8vIERpc3BsYXkgdmlzaWJpbGl0eSBjb250cm9sc1xuICAgICAgc291cmNlVmlzaWJsZTogU3RhdGUuU1FMaXRlLmJvb2xlYW4oeyBkZWZhdWx0OiB0cnVlIH0pLFxuICAgICAgb3V0cHV0VmlzaWJsZTogU3RhdGUuU1FMaXRlLmJvb2xlYW4oeyBkZWZhdWx0OiB0cnVlIH0pLFxuICAgICAgYWlDb250ZXh0VmlzaWJsZTogU3RhdGUuU1FMaXRlLmJvb2xlYW4oeyBkZWZhdWx0OiB0cnVlIH0pLFxuXG4gICAgICBjcmVhdGVkQnk6IFN0YXRlLlNRTGl0ZS50ZXh0KCksXG4gICAgfSxcbiAgfSksXG5cbiAgb3V0cHV0RGVsdGFzOiBTdGF0ZS5TUUxpdGUudGFibGUoe1xuICAgIG5hbWU6IFwib3V0cHV0X2RlbHRhc1wiLFxuICAgIGNvbHVtbnM6IHtcbiAgICAgIGlkOiBTdGF0ZS5TUUxpdGUudGV4dCh7IHByaW1hcnlLZXk6IHRydWUgfSksXG4gICAgICBvdXRwdXRJZDogU3RhdGUuU1FMaXRlLnRleHQoKSxcbiAgICAgIGRlbHRhOiBTdGF0ZS5TUUxpdGUudGV4dCh7IGRlZmF1bHQ6IFwiXCIgfSksXG4gICAgICBzZXF1ZW5jZU51bWJlcjogU3RhdGUuU1FMaXRlLmludGVnZXIoKSxcbiAgICB9LFxuICB9KSxcblxuICBvdXRwdXRzOiBTdGF0ZS5TUUxpdGUudGFibGUoe1xuICAgIG5hbWU6IFwib3V0cHV0c1wiLFxuICAgIGNvbHVtbnM6IHtcbiAgICAgIGlkOiBTdGF0ZS5TUUxpdGUudGV4dCh7IHByaW1hcnlLZXk6IHRydWUgfSksXG4gICAgICBjZWxsSWQ6IFN0YXRlLlNRTGl0ZS50ZXh0KCksXG4gICAgICBvdXRwdXRUeXBlOiBTdGF0ZS5TUUxpdGUudGV4dCh7XG4gICAgICAgIHNjaGVtYTogT3V0cHV0VHlwZVNjaGVtYSxcbiAgICAgIH0pLFxuICAgICAgcG9zaXRpb246IFN0YXRlLlNRTGl0ZS5yZWFsKCksXG5cbiAgICAgIC8vIFR5cGUtc3BlY2lmaWMgZmllbGRzXG4gICAgICBzdHJlYW1OYW1lOiBTdGF0ZS5TUUxpdGUudGV4dCh7IG51bGxhYmxlOiB0cnVlIH0pLCAvLyAnc3Rkb3V0JywgJ3N0ZGVycicgZm9yIHRlcm1pbmFsIG91dHB1dHNcbiAgICAgIGV4ZWN1dGlvbkNvdW50OiBTdGF0ZS5TUUxpdGUuaW50ZWdlcih7IG51bGxhYmxlOiB0cnVlIH0pLCAvLyBPbmx5IGZvciBtdWx0aW1lZGlhX3Jlc3VsdFxuICAgICAgZGlzcGxheUlkOiBTdGF0ZS5TUUxpdGUudGV4dCh7IG51bGxhYmxlOiB0cnVlIH0pLCAvLyBPbmx5IGZvciBtdWx0aW1lZGlhX2Rpc3BsYXlcblxuICAgICAgLy8gRmxhdHRlbmVkIGNvbnRlbnQgZm9yIFNRTCBvcGVyYXRpb25zXG4gICAgICBkYXRhOiBTdGF0ZS5TUUxpdGUudGV4dCh7IG51bGxhYmxlOiB0cnVlIH0pLCAvLyBQcmltYXJ5L2NvbmNhdGVuYXRlZCBjb250ZW50ICh0ZXh0KVxuICAgICAgYXJ0aWZhY3RJZDogU3RhdGUuU1FMaXRlLnRleHQoeyBudWxsYWJsZTogdHJ1ZSB9KSwgLy8gUHJpbWFyeSBhcnRpZmFjdCByZWZlcmVuY2VcbiAgICAgIG1pbWVUeXBlOiBTdGF0ZS5TUUxpdGUudGV4dCh7IG51bGxhYmxlOiB0cnVlIH0pLCAvLyBQcmltYXJ5IG1pbWUgdHlwZVxuICAgICAgbWV0YWRhdGE6IFN0YXRlLlNRTGl0ZS5qc29uKHsgbnVsbGFibGU6IHRydWUsIHNjaGVtYTogU2NoZW1hLkFueSB9KSwgLy8gUHJpbWFyeSBtZXRhZGF0YVxuXG4gICAgICAvLyBNdWx0aS1tZWRpYSBzdXBwb3J0XG4gICAgICByZXByZXNlbnRhdGlvbnM6IFN0YXRlLlNRTGl0ZS5qc29uKHtcbiAgICAgICAgbnVsbGFibGU6IHRydWUsXG4gICAgICAgIHNjaGVtYTogU2NoZW1hLlJlY29yZCh7XG4gICAgICAgICAga2V5OiBTY2hlbWEuU3RyaW5nLFxuICAgICAgICAgIHZhbHVlOiBNZWRpYVJlcHJlc2VudGF0aW9uU2NoZW1hLFxuICAgICAgICB9KSxcbiAgICAgIH0pLFxuICAgIH0sXG4gIH0pLFxuXG4gIC8vIFBlbmRpbmcgY2xlYXJzIHRhYmxlIGZvciBjbGVhcl9vdXRwdXQod2FpdD1UcnVlKSBzdXBwb3J0XG4gIHBlbmRpbmdDbGVhcnM6IFN0YXRlLlNRTGl0ZS50YWJsZSh7XG4gICAgbmFtZTogXCJwZW5kaW5nQ2xlYXJzXCIsXG4gICAgY29sdW1uczoge1xuICAgICAgY2VsbElkOiBTdGF0ZS5TUUxpdGUudGV4dCh7IHByaW1hcnlLZXk6IHRydWUgfSksXG4gICAgICBjbGVhcmVkQnk6IFN0YXRlLlNRTGl0ZS50ZXh0KCksXG4gICAgfSxcbiAgfSksXG5cbiAgLy8gUnVudGltZSBsaWZlY3ljbGUgbWFuYWdlbWVudFxuICAvLyBOT1RFOiBFYWNoIG5vdGVib29rIHNob3VsZCBoYXZlIGV4YWN0bHkgT05FIGFjdGl2ZSBydW50aW1lIGF0IGEgdGltZVxuICAvLyBNdWx0aXBsZSBlbnRyaWVzIG9ubHkgZXhpc3QgZHVyaW5nIHJ1bnRpbWUgdHJhbnNpdGlvbnMvaGFuZG9mZnNcbiAgcnVudGltZVNlc3Npb25zOiBTdGF0ZS5TUUxpdGUudGFibGUoe1xuICAgIG5hbWU6IFwicnVudGltZVNlc3Npb25zXCIsXG4gICAgY29sdW1uczoge1xuICAgICAgc2Vzc2lvbklkOiBTdGF0ZS5TUUxpdGUudGV4dCh7IHByaW1hcnlLZXk6IHRydWUgfSksXG4gICAgICBydW50aW1lSWQ6IFN0YXRlLlNRTGl0ZS50ZXh0KCksIC8vIFN0YWJsZSBydW50aW1lIGlkZW50aWZpZXJcbiAgICAgIHJ1bnRpbWVUeXBlOiBTdGF0ZS5TUUxpdGUudGV4dCh7IGRlZmF1bHQ6IFwicHl0aG9uM1wiIH0pLFxuICAgICAgc3RhdHVzOiBTdGF0ZS5TUUxpdGUudGV4dCh7XG4gICAgICAgIHNjaGVtYTogUnVudGltZVN0YXR1c1NjaGVtYSxcbiAgICAgIH0pLFxuICAgICAgaXNBY3RpdmU6IFN0YXRlLlNRTGl0ZS5ib29sZWFuKHsgZGVmYXVsdDogdHJ1ZSB9KSxcblxuICAgICAgLy8gQ2FwYWJpbGl0eSBmbGFnc1xuICAgICAgY2FuRXhlY3V0ZUNvZGU6IFN0YXRlLlNRTGl0ZS5ib29sZWFuKHsgZGVmYXVsdDogZmFsc2UgfSksXG4gICAgICBjYW5FeGVjdXRlU3FsOiBTdGF0ZS5TUUxpdGUuYm9vbGVhbih7IGRlZmF1bHQ6IGZhbHNlIH0pLFxuICAgICAgY2FuRXhlY3V0ZUFpOiBTdGF0ZS5TUUxpdGUuYm9vbGVhbih7IGRlZmF1bHQ6IGZhbHNlIH0pLFxuICAgICAgYXZhaWxhYmxlQWlNb2RlbHM6IFN0YXRlLlNRTGl0ZS5qc29uKHtcbiAgICAgICAgbnVsbGFibGU6IHRydWUsXG4gICAgICAgIHNjaGVtYTogU2NoZW1hLkFueSxcbiAgICAgIH0pLFxuICAgIH0sXG4gIH0pLFxuXG4gIC8vIEV4ZWN1dGlvbiBxdWV1ZSAtIHRyYWNrcyB3b3JrIHRoYXQgbmVlZHMgdG8gYmUgZG9uZVxuICBleGVjdXRpb25RdWV1ZTogU3RhdGUuU1FMaXRlLnRhYmxlKHtcbiAgICBuYW1lOiBcImV4ZWN1dGlvblF1ZXVlXCIsXG4gICAgY29sdW1uczoge1xuICAgICAgaWQ6IFN0YXRlLlNRTGl0ZS50ZXh0KHsgcHJpbWFyeUtleTogdHJ1ZSB9KSxcbiAgICAgIGNlbGxJZDogU3RhdGUuU1FMaXRlLnRleHQoKSxcbiAgICAgIGV4ZWN1dGlvbkNvdW50OiBTdGF0ZS5TUUxpdGUuaW50ZWdlcigpLFxuICAgICAgcmVxdWVzdGVkQnk6IFN0YXRlLlNRTGl0ZS50ZXh0KCksXG5cbiAgICAgIC8vIFF1ZXVlIG1hbmFnZW1lbnRcbiAgICAgIHN0YXR1czogU3RhdGUuU1FMaXRlLnRleHQoe1xuICAgICAgICBkZWZhdWx0OiBcInBlbmRpbmdcIixcbiAgICAgICAgc2NoZW1hOiBRdWV1ZVN0YXR1c1NjaGVtYSxcbiAgICAgIH0pLFxuICAgICAgYXNzaWduZWRSdW50aW1lU2Vzc2lvbjogU3RhdGUuU1FMaXRlLnRleHQoeyBudWxsYWJsZTogdHJ1ZSB9KSxcblxuICAgICAgLy8gRXhlY3V0aW9uIHRpbWluZ1xuICAgICAgc3RhcnRlZEF0OiBTdGF0ZS5TUUxpdGUuZGF0ZXRpbWUoeyBudWxsYWJsZTogdHJ1ZSB9KSxcbiAgICAgIGNvbXBsZXRlZEF0OiBTdGF0ZS5TUUxpdGUuZGF0ZXRpbWUoeyBudWxsYWJsZTogdHJ1ZSB9KSxcbiAgICAgIGV4ZWN1dGlvbkR1cmF0aW9uTXM6IFN0YXRlLlNRTGl0ZS5pbnRlZ2VyKHsgbnVsbGFibGU6IHRydWUgfSksXG4gICAgfSxcbiAgfSksXG5cbiAgLy8gVUkgc3RhdGUgZm9yIGVhY2ggdXNlclxuICB1aVN0YXRlOiBTdGF0ZS5TUUxpdGUuY2xpZW50RG9jdW1lbnQoe1xuICAgIG5hbWU6IFwidWlTdGF0ZVwiLFxuICAgIHNjaGVtYTogU2NoZW1hLlN0cnVjdCh7XG4gICAgICBzZWxlY3RlZENlbGxJZDogU2NoZW1hLm9wdGlvbmFsKFNjaGVtYS5TdHJpbmcpLFxuICAgICAgZWRpdGluZ0NlbGxJZDogU2NoZW1hLm9wdGlvbmFsKFNjaGVtYS5TdHJpbmcpLFxuICAgICAgcnVudGltZVN0YXR1czogU2NoZW1hLm9wdGlvbmFsKFNjaGVtYS5TdHJpbmcpLFxuICAgIH0pLFxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGlkOiBTZXNzaW9uSWRTeW1ib2wsXG4gICAgICB2YWx1ZToge30sXG4gICAgfSxcbiAgfSksXG5cbiAgLy8gQWN0b3JzIHRhYmxlIGZvciB0cmFja2luZyB3aG8vd2hhdCBwZXJmb3JtcyBhY3Rpb25zXG4gIGFjdG9yczogU3RhdGUuU1FMaXRlLnRhYmxlKHtcbiAgICBuYW1lOiBcImFjdG9yc1wiLFxuICAgIGNvbHVtbnM6IHtcbiAgICAgIGlkOiBTdGF0ZS5TUUxpdGUudGV4dCh7IHByaW1hcnlLZXk6IHRydWUgfSksXG4gICAgICB0eXBlOiBTdGF0ZS5TUUxpdGUudGV4dCgpLCAvLyBcImh1bWFuXCIgfCBcInJ1bnRpbWVfYWdlbnRcIlxuICAgICAgZGlzcGxheU5hbWU6IFN0YXRlLlNRTGl0ZS50ZXh0KCksXG4gICAgICBhdmF0YXI6IFN0YXRlLlNRTGl0ZS50ZXh0KHsgbnVsbGFibGU6IHRydWUgfSksXG4gICAgfSxcbiAgfSksXG5cbiAgLy8gVG9vbCBhcHByb3ZhbHMgZm9yIEFJIHRvb2wgY2FsbHNcbiAgdG9vbEFwcHJvdmFsczogU3RhdGUuU1FMaXRlLnRhYmxlKHtcbiAgICBuYW1lOiBcInRvb2xBcHByb3ZhbHNcIixcbiAgICBjb2x1bW5zOiB7XG4gICAgICB0b29sQ2FsbElkOiBTdGF0ZS5TUUxpdGUudGV4dCh7IHByaW1hcnlLZXk6IHRydWUgfSksXG4gICAgICBjZWxsSWQ6IFN0YXRlLlNRTGl0ZS50ZXh0KCksXG4gICAgICB0b29sTmFtZTogU3RhdGUuU1FMaXRlLnRleHQoKSxcbiAgICAgIHN0YXR1czogU3RhdGUuU1FMaXRlLnRleHQoe1xuICAgICAgICBzY2hlbWE6IFNjaGVtYS5MaXRlcmFsKFxuICAgICAgICAgIFwicGVuZGluZ1wiLFxuICAgICAgICAgIFwiYXBwcm92ZWRfb25jZVwiLFxuICAgICAgICAgIFwiYXBwcm92ZWRfYWx3YXlzXCIsXG4gICAgICAgICAgXCJkZW5pZWRcIixcbiAgICAgICAgKSxcbiAgICAgIH0pLFxuICAgICAgYXBwcm92ZWRCeTogU3RhdGUuU1FMaXRlLnRleHQoeyBudWxsYWJsZTogdHJ1ZSB9KSxcbiAgICAgIHJlcXVlc3RlZEF0OiBTdGF0ZS5TUUxpdGUuZGF0ZXRpbWUoKSxcbiAgICAgIHJlc3BvbmRlZEF0OiBTdGF0ZS5TUUxpdGUuZGF0ZXRpbWUoeyBudWxsYWJsZTogdHJ1ZSB9KSxcbiAgICB9LFxuICB9KSxcbn07XG4iXSwibmFtZXMiOlsiU2NoZW1hIiwiU2Vzc2lvbklkU3ltYm9sIiwiU3RhdGUiLCJDZWxsVHlwZVNjaGVtYSIsIkV4ZWN1dGlvblN0YXRlU2NoZW1hIiwiTWVkaWFSZXByZXNlbnRhdGlvblNjaGVtYSIsIk91dHB1dFR5cGVTY2hlbWEiLCJRdWV1ZVN0YXR1c1NjaGVtYSIsIlJ1bnRpbWVTdGF0dXNTY2hlbWEiLCJ0YWJsZXMiLCJkZWJ1ZyIsIlNRTGl0ZSIsInRhYmxlIiwibmFtZSIsImNvbHVtbnMiLCJpZCIsInRleHQiLCJwcmltYXJ5S2V5IiwidmVyc2lvbiIsImRlZmF1bHQiLCJwcmVzZW5jZSIsInVzZXJJZCIsImNlbGxJZCIsIm51bGxhYmxlIiwibm90ZWJvb2tNZXRhZGF0YSIsImtleSIsInZhbHVlIiwiY2VsbHMiLCJjZWxsVHlwZSIsInNjaGVtYSIsInNvdXJjZSIsImZyYWN0aW9uYWxJbmRleCIsImV4ZWN1dGlvbkNvdW50IiwiaW50ZWdlciIsImV4ZWN1dGlvblN0YXRlIiwiYXNzaWduZWRSdW50aW1lU2Vzc2lvbiIsImxhc3RFeGVjdXRpb25EdXJhdGlvbk1zIiwic3FsQ29ubmVjdGlvbklkIiwic3FsUmVzdWx0VmFyaWFibGUiLCJhaVByb3ZpZGVyIiwiYWlNb2RlbCIsImFpU2V0dGluZ3MiLCJqc29uIiwiQW55Iiwic291cmNlVmlzaWJsZSIsImJvb2xlYW4iLCJvdXRwdXRWaXNpYmxlIiwiYWlDb250ZXh0VmlzaWJsZSIsImNyZWF0ZWRCeSIsIm91dHB1dERlbHRhcyIsIm91dHB1dElkIiwiZGVsdGEiLCJzZXF1ZW5jZU51bWJlciIsIm91dHB1dHMiLCJvdXRwdXRUeXBlIiwicG9zaXRpb24iLCJyZWFsIiwic3RyZWFtTmFtZSIsImRpc3BsYXlJZCIsImRhdGEiLCJhcnRpZmFjdElkIiwibWltZVR5cGUiLCJtZXRhZGF0YSIsInJlcHJlc2VudGF0aW9ucyIsIlJlY29yZCIsIlN0cmluZyIsInBlbmRpbmdDbGVhcnMiLCJjbGVhcmVkQnkiLCJydW50aW1lU2Vzc2lvbnMiLCJzZXNzaW9uSWQiLCJydW50aW1lSWQiLCJydW50aW1lVHlwZSIsInN0YXR1cyIsImlzQWN0aXZlIiwiY2FuRXhlY3V0ZUNvZGUiLCJjYW5FeGVjdXRlU3FsIiwiY2FuRXhlY3V0ZUFpIiwiYXZhaWxhYmxlQWlNb2RlbHMiLCJleGVjdXRpb25RdWV1ZSIsInJlcXVlc3RlZEJ5Iiwic3RhcnRlZEF0IiwiZGF0ZXRpbWUiLCJjb21wbGV0ZWRBdCIsImV4ZWN1dGlvbkR1cmF0aW9uTXMiLCJ1aVN0YXRlIiwiY2xpZW50RG9jdW1lbnQiLCJTdHJ1Y3QiLCJzZWxlY3RlZENlbGxJZCIsIm9wdGlvbmFsIiwiZWRpdGluZ0NlbGxJZCIsInJ1bnRpbWVTdGF0dXMiLCJhY3RvcnMiLCJ0eXBlIiwiZGlzcGxheU5hbWUiLCJhdmF0YXIiLCJ0b29sQXBwcm92YWxzIiwidG9vbENhbGxJZCIsInRvb2xOYW1lIiwiTGl0ZXJhbCIsImFwcHJvdmVkQnkiLCJyZXF1ZXN0ZWRBdCIsInJlc3BvbmRlZEF0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/schema/tables.ts\n");

/***/ }),

/***/ "(rsc)/./src/schema/types.ts":
/*!*****************************!*\
  !*** ./src/schema/types.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AI_TOOL_MIME_TYPES: () => (/* binding */ AI_TOOL_MIME_TYPES),\n/* harmony export */   APPLICATION_MIME_TYPES: () => (/* binding */ APPLICATION_MIME_TYPES),\n/* harmony export */   ActorTypeSchema: () => (/* binding */ ActorTypeSchema),\n/* harmony export */   CellTypeSchema: () => (/* binding */ CellTypeSchema),\n/* harmony export */   ExecutionStateSchema: () => (/* binding */ ExecutionStateSchema),\n/* harmony export */   IMAGE_MIME_TYPES: () => (/* binding */ IMAGE_MIME_TYPES),\n/* harmony export */   JUPYTER_MIME_TYPES: () => (/* binding */ JUPYTER_MIME_TYPES),\n/* harmony export */   KNOWN_MIME_TYPES: () => (/* binding */ KNOWN_MIME_TYPES),\n/* harmony export */   MediaRepresentationSchema: () => (/* binding */ MediaRepresentationSchema),\n/* harmony export */   OutputTypeSchema: () => (/* binding */ OutputTypeSchema),\n/* harmony export */   QueueStatusSchema: () => (/* binding */ QueueStatusSchema),\n/* harmony export */   RuntimeStatusSchema: () => (/* binding */ RuntimeStatusSchema),\n/* harmony export */   TEXT_MIME_TYPES: () => (/* binding */ TEXT_MIME_TYPES),\n/* harmony export */   isAiToolMimeType: () => (/* binding */ isAiToolMimeType),\n/* harmony export */   isApplicationMimeType: () => (/* binding */ isApplicationMimeType),\n/* harmony export */   isImageMimeType: () => (/* binding */ isImageMimeType),\n/* harmony export */   isJsonMimeType: () => (/* binding */ isJsonMimeType),\n/* harmony export */   isJupyterMimeType: () => (/* binding */ isJupyterMimeType),\n/* harmony export */   isKnownMimeType: () => (/* binding */ isKnownMimeType),\n/* harmony export */   isTextBasedMimeType: () => (/* binding */ isTextBasedMimeType),\n/* harmony export */   isTextMimeType: () => (/* binding */ isTextMimeType)\n/* harmony export */ });\n/* harmony import */ var _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @livestore/livestore */ \"(rsc)/./src/node_modules/effect/dist/esm/Schema.js\");\n\n// Media representation schema for unified output system - defined first for use in events\nconst MediaRepresentationSchema = _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Union(_livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Struct({\n    type: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Literal(\"inline\"),\n    data: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Any,\n    metadata: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Record({\n        key: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.String,\n        value: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Any\n    }))\n}), _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Struct({\n    type: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Literal(\"artifact\"),\n    artifactId: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.String,\n    metadata: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.optional(_livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Record({\n        key: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.String,\n        value: _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Any\n    }))\n}));\n// Schema for cell type validation\nconst CellTypeSchema = _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Literal(\"code\", \"markdown\", \"sql\", \"raw\", \"ai\");\nconst ExecutionStateSchema = _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Literal(\"idle\", \"queued\", \"running\", \"completed\", \"error\");\nconst OutputTypeSchema = _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Literal(\"multimedia_display\", \"multimedia_result\", \"terminal\", \"markdown\", \"error\");\nconst RuntimeStatusSchema = _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Literal(\"starting\", \"ready\", \"busy\", \"restarting\", \"terminated\");\nconst QueueStatusSchema = _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Literal(\"pending\", \"assigned\", \"executing\", \"completed\", \"failed\", \"cancelled\");\nconst ActorTypeSchema = _livestore_livestore__WEBPACK_IMPORTED_MODULE_0__.Literal(\"human\", \"runtime_agent\");\n// MIME type constants - core definitions used across frontend and backend\nconst TEXT_MIME_TYPES = [\n    \"text/plain\",\n    \"text/html\",\n    \"text/markdown\",\n    \"text/latex\"\n];\nconst APPLICATION_MIME_TYPES = [\n    \"application/json\",\n    \"application/javascript\"\n];\nconst AI_TOOL_MIME_TYPES = [\n    \"application/vnd.anode.aitool+json\",\n    \"application/vnd.anode.aitool.result+json\"\n];\nconst IMAGE_MIME_TYPES = [\n    \"image/png\",\n    \"image/jpeg\",\n    \"image/svg+xml\",\n    \"image/gif\"\n];\nconst JUPYTER_MIME_TYPES = [\n    \"application/vnd.jupyter.widget-state+json\",\n    \"application/vnd.jupyter.widget-view+json\",\n    \"application/vnd.plotly.v1+json\",\n    \"application/vnd.dataresource+json\",\n    \"application/vnd.vegalite.v2+json\",\n    \"application/vnd.vegalite.v3+json\",\n    \"application/vnd.vegalite.v4+json\",\n    \"application/vnd.vegalite.v5+json\",\n    \"application/vnd.vegalite.v6+json\",\n    \"application/vnd.vega.v3+json\",\n    \"application/vnd.vega.v4+json\",\n    \"application/vnd.vega.v5+json\",\n    \"application/geo+json\",\n    \"application/vdom.v1+json\"\n];\nconst KNOWN_MIME_TYPES = [\n    ...TEXT_MIME_TYPES,\n    ...APPLICATION_MIME_TYPES,\n    ...IMAGE_MIME_TYPES,\n    ...JUPYTER_MIME_TYPES,\n    ...AI_TOOL_MIME_TYPES\n];\n/**\n * Type guard to check if a MIME type is a known text format\n */ function isTextMimeType(mimeType) {\n    return TEXT_MIME_TYPES.includes(mimeType);\n}\n/**\n * Type guard to check if a MIME type is a known application format\n */ function isApplicationMimeType(mimeType) {\n    return APPLICATION_MIME_TYPES.includes(mimeType);\n}\n/**\n * Type guard to check if a MIME type is a known image format\n */ function isImageMimeType(mimeType) {\n    return IMAGE_MIME_TYPES.includes(mimeType);\n}\n/**\n * Type guard to check if a MIME type is a Jupyter vendor format\n */ function isJupyterMimeType(mimeType) {\n    return JUPYTER_MIME_TYPES.includes(mimeType);\n}\n/**\n * Type guard to check if a MIME type is an AI tool format\n */ function isAiToolMimeType(mimeType) {\n    return AI_TOOL_MIME_TYPES.includes(mimeType);\n}\n/**\n * Type guard to check if a MIME type is any known format\n */ function isKnownMimeType(mimeType) {\n    return KNOWN_MIME_TYPES.includes(mimeType);\n}\n/**\n * Check if a MIME type is a JSON-based format (ends with +json)\n */ function isJsonMimeType(mimeType) {\n    return mimeType.endsWith(\"+json\") || mimeType === \"application/json\";\n}\n/**\n * Check if a MIME type appears to be text-based\n */ function isTextBasedMimeType(mimeType) {\n    return mimeType.startsWith(\"text/\") || mimeType === \"application/javascript\" || mimeType === \"image/svg+xml\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2NoZW1hL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEM7QUFFOUMsMEZBQTBGO0FBQ25GLE1BQU1DLDRCQUE0QkQsdURBQVksQ0FDbkRBLHdEQUFhLENBQUM7SUFDWkksTUFBTUoseURBQWMsQ0FBQztJQUNyQk0sTUFBTU4scURBQVU7SUFDaEJRLFVBQVVSLDBEQUFlLENBQ3ZCQSx3REFBYSxDQUFDO1FBQUVXLEtBQUtYLHdEQUFhO1FBQUVhLE9BQU9iLHFEQUFVO0lBQUM7QUFFMUQsSUFDQUEsd0RBQWEsQ0FBQztJQUNaSSxNQUFNSix5REFBYyxDQUFDO0lBQ3JCYyxZQUFZZCx3REFBYTtJQUN6QlEsVUFBVVIsMERBQWUsQ0FDdkJBLHdEQUFhLENBQUM7UUFBRVcsS0FBS1gsd0RBQWE7UUFBRWEsT0FBT2IscURBQVU7SUFBQztBQUUxRCxJQUNBO0FBS0Ysa0NBQWtDO0FBQzNCLE1BQU1lLGlCQUFpQmYseURBQWMsQ0FDMUMsUUFDQSxZQUNBLE9BQ0EsT0FDQSxNQUNBO0FBU0ssTUFBTWdCLHVCQUF1QmhCLHlEQUFjLENBQ2hELFFBQ0EsVUFDQSxXQUNBLGFBQ0EsU0FDQTtBQVNLLE1BQU1pQixtQkFBbUJqQix5REFBYyxDQUM1QyxzQkFDQSxxQkFDQSxZQUNBLFlBQ0EsU0FDQTtBQVNLLE1BQU1rQixzQkFBc0JsQix5REFBYyxDQUMvQyxZQUNBLFNBQ0EsUUFDQSxjQUNBLGNBQ0E7QUFVSyxNQUFNbUIsb0JBQW9CbkIseURBQWMsQ0FDN0MsV0FDQSxZQUNBLGFBQ0EsYUFDQSxVQUNBLGFBQ0E7QUFJSyxNQUFNb0Isa0JBQWtCcEIseURBQWMsQ0FBQyxTQUFTLGlCQUFpQjtBQW1CeEUsMEVBQTBFO0FBQ25FLE1BQU1xQixrQkFBa0I7SUFDN0I7SUFDQTtJQUNBO0lBQ0E7Q0FDRCxDQUFVO0FBRUosTUFBTUMseUJBQXlCO0lBQ3BDO0lBQ0E7Q0FDRCxDQUFVO0FBRUosTUFBTUMscUJBQXFCO0lBQ2hDO0lBQ0E7Q0FDRCxDQUFVO0FBRUosTUFBTUMsbUJBQW1CO0lBQzlCO0lBQ0E7SUFDQTtJQUNBO0NBQ0QsQ0FBVTtBQUVKLE1BQU1DLHFCQUFxQjtJQUNoQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0QsQ0FBVTtBQUVKLE1BQU1DLG1CQUFtQjtPQUMzQkw7T0FDQUM7T0FDQUU7T0FDQUM7T0FDQUY7Q0FDSixDQUFVO0FBU1g7O0NBRUMsR0FDTSxTQUFTSSxlQUFlQyxRQUFnQjtJQUM3QyxPQUFPLGdCQUF1Q0MsUUFBUSxDQUFDRDtBQUN6RDtBQUVBOztDQUVDLEdBQ00sU0FBU0Usc0JBQ2RGLFFBQWdCO0lBRWhCLE9BQU8sdUJBQThDQyxRQUFRLENBQUNEO0FBQ2hFO0FBRUE7O0NBRUMsR0FDTSxTQUFTRyxnQkFBZ0JILFFBQWdCO0lBQzlDLE9BQU8saUJBQXdDQyxRQUFRLENBQUNEO0FBQzFEO0FBRUE7O0NBRUMsR0FDTSxTQUFTSSxrQkFDZEosUUFBZ0I7SUFFaEIsT0FBTyxtQkFBMENDLFFBQVEsQ0FBQ0Q7QUFDNUQ7QUFFQTs7Q0FFQyxHQUNNLFNBQVNLLGlCQUFpQkwsUUFBZ0I7SUFDL0MsT0FBTyxtQkFBMENDLFFBQVEsQ0FBQ0Q7QUFDNUQ7QUFFQTs7Q0FFQyxHQUNNLFNBQVNNLGdCQUFnQk4sUUFBZ0I7SUFDOUMsT0FBTyxpQkFBd0NDLFFBQVEsQ0FBQ0Q7QUFDMUQ7QUFFQTs7Q0FFQyxHQUNNLFNBQVNPLGVBQWVQLFFBQWdCO0lBQzdDLE9BQU9BLFNBQVNRLFFBQVEsQ0FBQyxZQUFZUixhQUFhO0FBQ3BEO0FBRUE7O0NBRUMsR0FDTSxTQUFTUyxvQkFBb0JULFFBQWdCO0lBQ2xELE9BQ0VBLFNBQVNVLFVBQVUsQ0FBQyxZQUNwQlYsYUFBYSw0QkFDYkEsYUFBYTtBQUVqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FuYWNvbmRhLWFzc2VzbWVudC0xLy4vc3JjL3NjaGVtYS90eXBlcy50cz8yMmNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSB9IGZyb20gXCJAbGl2ZXN0b3JlL2xpdmVzdG9yZVwiO1xuXG4vLyBNZWRpYSByZXByZXNlbnRhdGlvbiBzY2hlbWEgZm9yIHVuaWZpZWQgb3V0cHV0IHN5c3RlbSAtIGRlZmluZWQgZmlyc3QgZm9yIHVzZSBpbiBldmVudHNcbmV4cG9ydCBjb25zdCBNZWRpYVJlcHJlc2VudGF0aW9uU2NoZW1hID0gU2NoZW1hLlVuaW9uKFxuICBTY2hlbWEuU3RydWN0KHtcbiAgICB0eXBlOiBTY2hlbWEuTGl0ZXJhbChcImlubGluZVwiKSxcbiAgICBkYXRhOiBTY2hlbWEuQW55LFxuICAgIG1ldGFkYXRhOiBTY2hlbWEub3B0aW9uYWwoXG4gICAgICBTY2hlbWEuUmVjb3JkKHsga2V5OiBTY2hlbWEuU3RyaW5nLCB2YWx1ZTogU2NoZW1hLkFueSB9KSxcbiAgICApLFxuICB9KSxcbiAgU2NoZW1hLlN0cnVjdCh7XG4gICAgdHlwZTogU2NoZW1hLkxpdGVyYWwoXCJhcnRpZmFjdFwiKSxcbiAgICBhcnRpZmFjdElkOiBTY2hlbWEuU3RyaW5nLFxuICAgIG1ldGFkYXRhOiBTY2hlbWEub3B0aW9uYWwoXG4gICAgICBTY2hlbWEuUmVjb3JkKHsga2V5OiBTY2hlbWEuU3RyaW5nLCB2YWx1ZTogU2NoZW1hLkFueSB9KSxcbiAgICApLFxuICB9KSxcbik7XG5cbi8vIFR5cGVTY3JpcHQgdHlwZSBmb3IgY2VsbCB0eXBlc1xuZXhwb3J0IHR5cGUgQ2VsbFR5cGUgPSBcImNvZGVcIiB8IFwibWFya2Rvd25cIiB8IFwic3FsXCIgfCBcInJhd1wiIHwgXCJhaVwiO1xuXG4vLyBTY2hlbWEgZm9yIGNlbGwgdHlwZSB2YWxpZGF0aW9uXG5leHBvcnQgY29uc3QgQ2VsbFR5cGVTY2hlbWEgPSBTY2hlbWEuTGl0ZXJhbChcbiAgXCJjb2RlXCIsXG4gIFwibWFya2Rvd25cIixcbiAgXCJzcWxcIixcbiAgXCJyYXdcIixcbiAgXCJhaVwiLFxuKTtcblxuLy8gRXhlY3V0aW9uIHN0YXRlIHR5cGVzXG5leHBvcnQgdHlwZSBFeGVjdXRpb25TdGF0ZSA9XG4gIHwgXCJpZGxlXCJcbiAgfCBcInF1ZXVlZFwiXG4gIHwgXCJydW5uaW5nXCJcbiAgfCBcImNvbXBsZXRlZFwiXG4gIHwgXCJlcnJvclwiO1xuZXhwb3J0IGNvbnN0IEV4ZWN1dGlvblN0YXRlU2NoZW1hID0gU2NoZW1hLkxpdGVyYWwoXG4gIFwiaWRsZVwiLFxuICBcInF1ZXVlZFwiLFxuICBcInJ1bm5pbmdcIixcbiAgXCJjb21wbGV0ZWRcIixcbiAgXCJlcnJvclwiLFxuKTtcblxuLy8gT3V0cHV0IHR5cGVzXG5leHBvcnQgdHlwZSBPdXRwdXRUeXBlID1cbiAgfCBcIm11bHRpbWVkaWFfZGlzcGxheVwiXG4gIHwgXCJtdWx0aW1lZGlhX3Jlc3VsdFwiXG4gIHwgXCJ0ZXJtaW5hbFwiXG4gIHwgXCJtYXJrZG93blwiXG4gIHwgXCJlcnJvclwiO1xuZXhwb3J0IGNvbnN0IE91dHB1dFR5cGVTY2hlbWEgPSBTY2hlbWEuTGl0ZXJhbChcbiAgXCJtdWx0aW1lZGlhX2Rpc3BsYXlcIixcbiAgXCJtdWx0aW1lZGlhX3Jlc3VsdFwiLFxuICBcInRlcm1pbmFsXCIsXG4gIFwibWFya2Rvd25cIixcbiAgXCJlcnJvclwiLFxuKTtcblxuLy8gUnVudGltZSBzdGF0dXMgdHlwZXNcbmV4cG9ydCB0eXBlIFJ1bnRpbWVTdGF0dXMgPVxuICB8IFwic3RhcnRpbmdcIlxuICB8IFwicmVhZHlcIlxuICB8IFwiYnVzeVwiXG4gIHwgXCJyZXN0YXJ0aW5nXCJcbiAgfCBcInRlcm1pbmF0ZWRcIjtcbmV4cG9ydCBjb25zdCBSdW50aW1lU3RhdHVzU2NoZW1hID0gU2NoZW1hLkxpdGVyYWwoXG4gIFwic3RhcnRpbmdcIixcbiAgXCJyZWFkeVwiLFxuICBcImJ1c3lcIixcbiAgXCJyZXN0YXJ0aW5nXCIsXG4gIFwidGVybWluYXRlZFwiLFxuKTtcblxuLy8gUXVldWUgc3RhdHVzIHR5cGVzXG5leHBvcnQgdHlwZSBRdWV1ZVN0YXR1cyA9XG4gIHwgXCJwZW5kaW5nXCJcbiAgfCBcImFzc2lnbmVkXCJcbiAgfCBcImV4ZWN1dGluZ1wiXG4gIHwgXCJjb21wbGV0ZWRcIlxuICB8IFwiZmFpbGVkXCJcbiAgfCBcImNhbmNlbGxlZFwiO1xuZXhwb3J0IGNvbnN0IFF1ZXVlU3RhdHVzU2NoZW1hID0gU2NoZW1hLkxpdGVyYWwoXG4gIFwicGVuZGluZ1wiLFxuICBcImFzc2lnbmVkXCIsXG4gIFwiZXhlY3V0aW5nXCIsXG4gIFwiY29tcGxldGVkXCIsXG4gIFwiZmFpbGVkXCIsXG4gIFwiY2FuY2VsbGVkXCIsXG4pO1xuXG4vLyBBY3RvciB0eXBlc1xuZXhwb3J0IHR5cGUgQWN0b3JUeXBlID0gXCJodW1hblwiIHwgXCJydW50aW1lX2FnZW50XCI7XG5leHBvcnQgY29uc3QgQWN0b3JUeXBlU2NoZW1hID0gU2NoZW1hLkxpdGVyYWwoXCJodW1hblwiLCBcInJ1bnRpbWVfYWdlbnRcIik7XG5cbi8vIEJhc2UgZ2VuZXJpYyB0eXBlcyBmb3IgTWVkaWFDb250YWluZXIgc3lzdGVtXG5leHBvcnQgdHlwZSBJbmxpbmVDb250YWluZXI8VCA9IHVua25vd24+ID0ge1xuICB0eXBlOiBcImlubGluZVwiO1xuICBkYXRhOiBUO1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgQXJ0aWZhY3RDb250YWluZXIgPSB7XG4gIHR5cGU6IFwiYXJ0aWZhY3RcIjtcbiAgYXJ0aWZhY3RJZDogc3RyaW5nO1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgTWVkaWFDb250YWluZXI8VCA9IHVua25vd24+ID1cbiAgfCBJbmxpbmVDb250YWluZXI8VD5cbiAgfCBBcnRpZmFjdENvbnRhaW5lcjtcblxuLy8gTUlNRSB0eXBlIGNvbnN0YW50cyAtIGNvcmUgZGVmaW5pdGlvbnMgdXNlZCBhY3Jvc3MgZnJvbnRlbmQgYW5kIGJhY2tlbmRcbmV4cG9ydCBjb25zdCBURVhUX01JTUVfVFlQRVMgPSBbXG4gIFwidGV4dC9wbGFpblwiLFxuICBcInRleHQvaHRtbFwiLFxuICBcInRleHQvbWFya2Rvd25cIixcbiAgXCJ0ZXh0L2xhdGV4XCIsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgQVBQTElDQVRJT05fTUlNRV9UWVBFUyA9IFtcbiAgXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiLFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEFJX1RPT0xfTUlNRV9UWVBFUyA9IFtcbiAgXCJhcHBsaWNhdGlvbi92bmQuYW5vZGUuYWl0b29sK2pzb25cIixcbiAgXCJhcHBsaWNhdGlvbi92bmQuYW5vZGUuYWl0b29sLnJlc3VsdCtqc29uXCIsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgSU1BR0VfTUlNRV9UWVBFUyA9IFtcbiAgXCJpbWFnZS9wbmdcIixcbiAgXCJpbWFnZS9qcGVnXCIsXG4gIFwiaW1hZ2Uvc3ZnK3htbFwiLFxuICBcImltYWdlL2dpZlwiLFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEpVUFlURVJfTUlNRV9UWVBFUyA9IFtcbiAgXCJhcHBsaWNhdGlvbi92bmQuanVweXRlci53aWRnZXQtc3RhdGUranNvblwiLFxuICBcImFwcGxpY2F0aW9uL3ZuZC5qdXB5dGVyLndpZGdldC12aWV3K2pzb25cIixcbiAgXCJhcHBsaWNhdGlvbi92bmQucGxvdGx5LnYxK2pzb25cIixcbiAgXCJhcHBsaWNhdGlvbi92bmQuZGF0YXJlc291cmNlK2pzb25cIixcbiAgXCJhcHBsaWNhdGlvbi92bmQudmVnYWxpdGUudjIranNvblwiLFxuICBcImFwcGxpY2F0aW9uL3ZuZC52ZWdhbGl0ZS52Mytqc29uXCIsXG4gIFwiYXBwbGljYXRpb24vdm5kLnZlZ2FsaXRlLnY0K2pzb25cIixcbiAgXCJhcHBsaWNhdGlvbi92bmQudmVnYWxpdGUudjUranNvblwiLFxuICBcImFwcGxpY2F0aW9uL3ZuZC52ZWdhbGl0ZS52Nitqc29uXCIsXG4gIFwiYXBwbGljYXRpb24vdm5kLnZlZ2EudjMranNvblwiLFxuICBcImFwcGxpY2F0aW9uL3ZuZC52ZWdhLnY0K2pzb25cIixcbiAgXCJhcHBsaWNhdGlvbi92bmQudmVnYS52NStqc29uXCIsXG4gIFwiYXBwbGljYXRpb24vZ2VvK2pzb25cIixcbiAgXCJhcHBsaWNhdGlvbi92ZG9tLnYxK2pzb25cIixcbl0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBLTk9XTl9NSU1FX1RZUEVTID0gW1xuICAuLi5URVhUX01JTUVfVFlQRVMsXG4gIC4uLkFQUExJQ0FUSU9OX01JTUVfVFlQRVMsXG4gIC4uLklNQUdFX01JTUVfVFlQRVMsXG4gIC4uLkpVUFlURVJfTUlNRV9UWVBFUyxcbiAgLi4uQUlfVE9PTF9NSU1FX1RZUEVTLFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgVGV4dE1pbWVUeXBlID0gKHR5cGVvZiBURVhUX01JTUVfVFlQRVMpW251bWJlcl07XG5leHBvcnQgdHlwZSBBcHBsaWNhdGlvbk1pbWVUeXBlID0gKHR5cGVvZiBBUFBMSUNBVElPTl9NSU1FX1RZUEVTKVtudW1iZXJdO1xuZXhwb3J0IHR5cGUgSW1hZ2VNaW1lVHlwZSA9ICh0eXBlb2YgSU1BR0VfTUlNRV9UWVBFUylbbnVtYmVyXTtcbmV4cG9ydCB0eXBlIEp1cHl0ZXJNaW1lVHlwZSA9ICh0eXBlb2YgSlVQWVRFUl9NSU1FX1RZUEVTKVtudW1iZXJdO1xuZXhwb3J0IHR5cGUgQWlUb29sTWltZVR5cGUgPSAodHlwZW9mIEFJX1RPT0xfTUlNRV9UWVBFUylbbnVtYmVyXTtcbmV4cG9ydCB0eXBlIEtub3duTWltZVR5cGUgPSAodHlwZW9mIEtOT1dOX01JTUVfVFlQRVMpW251bWJlcl07XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhIE1JTUUgdHlwZSBpcyBhIGtub3duIHRleHQgZm9ybWF0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1RleHRNaW1lVHlwZShtaW1lVHlwZTogc3RyaW5nKTogbWltZVR5cGUgaXMgVGV4dE1pbWVUeXBlIHtcbiAgcmV0dXJuIChURVhUX01JTUVfVFlQRVMgYXMgcmVhZG9ubHkgc3RyaW5nW10pLmluY2x1ZGVzKG1pbWVUeXBlKTtcbn1cblxuLyoqXG4gKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIGEgTUlNRSB0eXBlIGlzIGEga25vd24gYXBwbGljYXRpb24gZm9ybWF0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FwcGxpY2F0aW9uTWltZVR5cGUoXG4gIG1pbWVUeXBlOiBzdHJpbmcsXG4pOiBtaW1lVHlwZSBpcyBBcHBsaWNhdGlvbk1pbWVUeXBlIHtcbiAgcmV0dXJuIChBUFBMSUNBVElPTl9NSU1FX1RZUEVTIGFzIHJlYWRvbmx5IHN0cmluZ1tdKS5pbmNsdWRlcyhtaW1lVHlwZSk7XG59XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhIE1JTUUgdHlwZSBpcyBhIGtub3duIGltYWdlIGZvcm1hdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJbWFnZU1pbWVUeXBlKG1pbWVUeXBlOiBzdHJpbmcpOiBtaW1lVHlwZSBpcyBJbWFnZU1pbWVUeXBlIHtcbiAgcmV0dXJuIChJTUFHRV9NSU1FX1RZUEVTIGFzIHJlYWRvbmx5IHN0cmluZ1tdKS5pbmNsdWRlcyhtaW1lVHlwZSk7XG59XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhIE1JTUUgdHlwZSBpcyBhIEp1cHl0ZXIgdmVuZG9yIGZvcm1hdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNKdXB5dGVyTWltZVR5cGUoXG4gIG1pbWVUeXBlOiBzdHJpbmcsXG4pOiBtaW1lVHlwZSBpcyBKdXB5dGVyTWltZVR5cGUge1xuICByZXR1cm4gKEpVUFlURVJfTUlNRV9UWVBFUyBhcyByZWFkb25seSBzdHJpbmdbXSkuaW5jbHVkZXMobWltZVR5cGUpO1xufVxuXG4vKipcbiAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgYSBNSU1FIHR5cGUgaXMgYW4gQUkgdG9vbCBmb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWlUb29sTWltZVR5cGUobWltZVR5cGU6IHN0cmluZyk6IG1pbWVUeXBlIGlzIEFpVG9vbE1pbWVUeXBlIHtcbiAgcmV0dXJuIChBSV9UT09MX01JTUVfVFlQRVMgYXMgcmVhZG9ubHkgc3RyaW5nW10pLmluY2x1ZGVzKG1pbWVUeXBlKTtcbn1cblxuLyoqXG4gKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIGEgTUlNRSB0eXBlIGlzIGFueSBrbm93biBmb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzS25vd25NaW1lVHlwZShtaW1lVHlwZTogc3RyaW5nKTogbWltZVR5cGUgaXMgS25vd25NaW1lVHlwZSB7XG4gIHJldHVybiAoS05PV05fTUlNRV9UWVBFUyBhcyByZWFkb25seSBzdHJpbmdbXSkuaW5jbHVkZXMobWltZVR5cGUpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgTUlNRSB0eXBlIGlzIGEgSlNPTi1iYXNlZCBmb3JtYXQgKGVuZHMgd2l0aCAranNvbilcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvbk1pbWVUeXBlKG1pbWVUeXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIG1pbWVUeXBlLmVuZHNXaXRoKFwiK2pzb25cIikgfHwgbWltZVR5cGUgPT09IFwiYXBwbGljYXRpb24vanNvblwiO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgTUlNRSB0eXBlIGFwcGVhcnMgdG8gYmUgdGV4dC1iYXNlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUZXh0QmFzZWRNaW1lVHlwZShtaW1lVHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgbWltZVR5cGUuc3RhcnRzV2l0aChcInRleHQvXCIpIHx8XG4gICAgbWltZVR5cGUgPT09IFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiIHx8XG4gICAgbWltZVR5cGUgPT09IFwiaW1hZ2Uvc3ZnK3htbFwiXG4gICk7XG59XG4iXSwibmFtZXMiOlsiU2NoZW1hIiwiTWVkaWFSZXByZXNlbnRhdGlvblNjaGVtYSIsIlVuaW9uIiwiU3RydWN0IiwidHlwZSIsIkxpdGVyYWwiLCJkYXRhIiwiQW55IiwibWV0YWRhdGEiLCJvcHRpb25hbCIsIlJlY29yZCIsImtleSIsIlN0cmluZyIsInZhbHVlIiwiYXJ0aWZhY3RJZCIsIkNlbGxUeXBlU2NoZW1hIiwiRXhlY3V0aW9uU3RhdGVTY2hlbWEiLCJPdXRwdXRUeXBlU2NoZW1hIiwiUnVudGltZVN0YXR1c1NjaGVtYSIsIlF1ZXVlU3RhdHVzU2NoZW1hIiwiQWN0b3JUeXBlU2NoZW1hIiwiVEVYVF9NSU1FX1RZUEVTIiwiQVBQTElDQVRJT05fTUlNRV9UWVBFUyIsIkFJX1RPT0xfTUlNRV9UWVBFUyIsIklNQUdFX01JTUVfVFlQRVMiLCJKVVBZVEVSX01JTUVfVFlQRVMiLCJLTk9XTl9NSU1FX1RZUEVTIiwiaXNUZXh0TWltZVR5cGUiLCJtaW1lVHlwZSIsImluY2x1ZGVzIiwiaXNBcHBsaWNhdGlvbk1pbWVUeXBlIiwiaXNJbWFnZU1pbWVUeXBlIiwiaXNKdXB5dGVyTWltZVR5cGUiLCJpc0FpVG9vbE1pbWVUeXBlIiwiaXNLbm93bk1pbWVUeXBlIiwiaXNKc29uTWltZVR5cGUiLCJlbmRzV2l0aCIsImlzVGV4dEJhc2VkTWltZVR5cGUiLCJzdGFydHNXaXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/schema/types.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/effect","vendor-chunks/fast-check","vendor-chunks/@livestore","vendor-chunks/next","vendor-chunks/pure-rand","vendor-chunks/@opentelemetry","vendor-chunks/uuid","vendor-chunks/@effect","vendor-chunks/pretty-bytes"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimport%2Froute&page=%2Fapi%2Fimport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimport%2Froute.ts&appDir=%2FUsers%2Fsymbosrisai%2FDocuments%2Fanaconda-assesment-1%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsymbosrisai%2FDocuments%2Fanaconda-assesment-1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();